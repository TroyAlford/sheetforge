{"version":3,"sources":["webpack://sheetforge/webpack/universalModuleDefinition","webpack://sheetforge/webpack/bootstrap","webpack://sheetforge/./source/utilities/hash.js","webpack://sheetforge/./source/utilities/types.js","webpack://sheetforge/./source/utilities/math.js","webpack://sheetforge/./source/utilities/bound.js","webpack://sheetforge/./source/utilities/range.js","webpack://sheetforge/./source/models/ExperienceCost.js","webpack://sheetforge/./source/models/Attribute.js","webpack://sheetforge/./source/models/Equippable.js","webpack://sheetforge/./source/models/Item.js","webpack://sheetforge/./source/models/Armor.js","webpack://sheetforge/./source/models/Descriptor.js","webpack://sheetforge/./source/models/Health.js","webpack://sheetforge/./source/models/types/between.js","webpack://sheetforge/./source/models/Skill.js","webpack://sheetforge/./source/models/Spell.js","webpack://sheetforge/./source/models/Trait.js","webpack://sheetforge/./source/models/Weapon.js","webpack://sheetforge/./source/models/Character.js","webpack://sheetforge/./source/utilities/noop.js","webpack://sheetforge/./source/components/Editable.js","webpack://sheetforge/./source/components/Attribute.js","webpack://sheetforge/./source/components/AttributeSection.js","webpack://sheetforge/./source/components/Descriptor.js","webpack://sheetforge/./source/components/DescriptorSection.js","webpack://sheetforge/./source/utilities/compareBy.js","webpack://sheetforge/./source/components/LabeledEditable.js","webpack://sheetforge/./source/utilities/itemRendering.js","webpack://sheetforge/./source/components/Card.js","webpack://sheetforge/./source/components/Armor.js","webpack://sheetforge/./source/components/Item.js","webpack://sheetforge/./source/components/Weapon.js","webpack://sheetforge/./source/components/EquipmentSection.js","webpack://sheetforge/./source/components/HealthBar.js","webpack://sheetforge/./source/components/PortraitSection.js","webpack://sheetforge/./source/components/Skill.js","webpack://sheetforge/./source/components/SkillSection.js","webpack://sheetforge/./source/components/Spell.js","webpack://sheetforge/./source/components/SpellSection.js","webpack://sheetforge/./source/components/Trait.js","webpack://sheetforge/./source/components/TraitSection.js","webpack://sheetforge/./source/components/Sheet.js","webpack://sheetforge/./source/index.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/inherits.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/objectSpread.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/createClass.js","webpack://sheetforge/external \"mobx-state-tree\"","webpack://sheetforge/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://sheetforge/external \"react\"","webpack://sheetforge/./node_modules/@babel/runtime/helpers/typeof.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://sheetforge/./node_modules/@babel/runtime/helpers/extends.js","webpack://sheetforge/external \"mobx-react\""],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE_YeEv__","__WEBPACK_EXTERNAL_MODULE_cDcd__","__WEBPACK_EXTERNAL_MODULE_sGQ9__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","hash","arguments","length","undefined","radix","h","String","split","forEach","char","charCodeAt","Math","abs","toString","autoHash","types","optional","identifier","random","arrayFn","fn","arg1","_len","args","Array","_key","isArray","concat","sum","values","reduce","all","one","average","round","apply","toConsumableArray_default","bound","_ref","min","max","range","start","end","step","map","_","ExperienceCost","calcFn","guardedActionNames","distanceToCharacter","model","views","self","xpCost","actions","adjustXP","amount","character","getParent","e","console","warn","getCharacter","setXP","xp","guardedActions","_objectSpread2","objectSpread_default","defineProperty_default","copy","clone","xpDelta","beforeDestroy","xpCostAfter","xpFn","cloned","xpCostDelta","Attribute","id","string","setValue","bounded","Primary","compose","type","literal","push","total","Secondary","Computed","models_Attribute","union","custom","isTargetType","is","fromSnapshot","snapshot","createComputed","includes","toSnapshot","toJSON","getValidationMessage","typeof_default","Equippable","equipped","equip","setEquipped","Boolean","toggleEquipped","unequip","Item","description","quantity","refinement","number","worth","remove","removeItem","setDescription","setName","setQuantity","setWorth","armorRating","Armor","rating","setRating","Descriptor","my","TYPES","HealthValue","enumeration","Health","levels","array","volatile","parent","damage","filter","level","resilience","attribute","size","heal","numberOfLevels","toJS","reverse","fill","healAll","setLevel","severityName","index","severity","indexOf","currentSeverity","direction","lvl","binding","afterAttach","onSnapshot","resizeValues","replace","slice","sort","_self$levels","unshift","between","defaultTo","Skill","theory","mastery","modifier","modifierFor","removeSkill","setTheory","setMastery","next","Spell","removeSpell","Trait","removeTrait","weaponArray","a","PROPS","Weapon","accuracy","setAccuracy","setDamage","setRange","setValues","capitalize","charAt","toUpperCase","primaries","descriptors","Character","rp","portraitURL","primaryAttributes","secondaryAttributes","equipment","health","spells","skills","traits","attr","attrs","ids","computedAttributes","attributes","attributeIds","armor","power","weapons","addArmor","addItem","addSkill","addSpell","addTrait","addWeapon","find","item","skill","trait","setAttribute","setPortraitURL","url","setRP","noop","Editable","editing","resetValue","_this","props","onChange","state","handleToggleEditing","editor","focus","forceEditMode","setSelectionRange","target","_this$props","getEditorType","parseInt","Number","isNaN","event","ctrlKey","metaKey","resetChanges","nodeName","readonly","setState","onEditStart","onEditEnd","select","external_react_default","createElement","checked","disabled","toggleBoolean","paragraphs","placeholder","line","className","join","trim","onClick","onBlur","handleChange","onFocus","selectOnFocus","onKeyDown","handleKeys","ref","createRefWithAutoFocus","rows","renderStatic","showPlaceholder","renderBoolean","renderSlider","renderMultiline","renderNumber","renderText","_this$props2","classes","tabIndex","handleReceivingFocus","extends_default","renderEditor","this","React","Component","observer","computed","current","isModified","displayValue","display","Editable_Editable","external_react_","_this$props$className","renderValue","AttributeSection","components_Attribute_Attribute","renderComputed","renderAttribute","renderHeader","DISPLAY_ORDER","source_components_Descriptor","compareBy","prop","reversed","objectA","objectB","Map","b","localeCompare","components_LabeledEditable","caption","objectWithoutProperties_default","renderEditable","propName","loweredPropName","toLowerCase","passedProps","Card","expanded","contentsClassName","renderAlways","renderCollapsed","renderExpanded","expandedClassName","toggleExpanded","Card_Card","ArmorModel","title","WeaponModel","REMOVERS","EquipmentSection","buttons","_ref$equipment","_ref$layout","layout","ceil","style","gridTemplateRows","sortEquipment","Type","displayName","HealthBar","shiftKey","cols","gridTemplateColumns","ix","handleClick","buildUrl","PortraitSection","toggleEditing","backgroundImage","compareByName","SkillSection","_this$props$skills","components_Skill_Skill","spell","SpellSection","_this$props$spells","components_Spell_Spell","TraitSection","_ref$addTrait","_ref$traits","components_Trait_Trait","Sheet","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","assertThisInitialized_default","sizeClass","container","sheetWidth","offsetWidth","floor","div","_this$state$sizeClass","bindContainer","PortraitSection_PortraitSection","HealthBar_HealthBar","source_components_DescriptorSection","AttributeSection_AttributeSection","modifiers","components_TraitSection","SkillSection_SkillSection","components_EquipmentSection","SpellSection_SpellSection","CharacterModel","disposeOfSnapshotListener","addEventListener","handleWindowResize","__webpack_exports__","models_Character","Sheet_Sheet","setPrototypeOf","subClass","superClass","TypeError","constructor","writable","configurable","source","excluded","sourceKeys","keys","iter","iterator","from","arr","arr2","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_getPrototypeOf","getPrototypeOf","__proto__","ReferenceError","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","arrayWithoutHoles","iterableToArray","nonIterableSpread","_setPrototypeOf","_defineProperties","descriptor","Constructor","protoProps","staticProps","_typeof","assertThisInitialized","_typeof2","obj","instance","_extends","assign"],"mappings":"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","file":"sheetforge.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"mobx-state-tree\"), require(\"react\"), require(\"mobx-react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sheetforge\", [\"mobx-state-tree\", \"react\", \"mobx-react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sheetforge\"] = factory(require(\"mobx-state-tree\"), require(\"react\"), require(\"mobx-react\"));\n\telse\n\t\troot[\"sheetforge\"] = factory(root[\"mobx-state-tree\"], root[\"react\"], root[\"mobx-react\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_YeEv__, __WEBPACK_EXTERNAL_MODULE_cDcd__, __WEBPACK_EXTERNAL_MODULE_sGQ9__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"05fm\");\n","export default function hash(value = '', radix = 16) {\n  const string = String(value)\n  let h = 0\n  string.split('').forEach((char) => {\n    /* eslint-disable no-bitwise */\n    h = ((h << 5) - h) + char.charCodeAt(0)\n    h &= h // Convert to 32-bit integer\n    /* eslint-enable no-bitwise */\n  })\n  return Math.abs(h).toString(radix)\n}\n\nexport const randomHash = () => hash(Math.random().toString())\n","import { types } from 'mobx-state-tree'\nimport { randomHash } from '@/utilities/hash'\n\n// eslint-disable-next-line import/prefer-default-export\nexport const autoHash = types.optional(types.identifier, randomHash)\n","const arrayFn = fn => (arg1, ...args) => {\n  if (!args.length && Array.isArray(arg1)) return fn(arg1)\n  return fn([arg1, ...args])\n}\n\nexport const sum = arrayFn(values => values.reduce((all, one) => all + one, 0))\nexport const average = arrayFn(values => Math.round(sum(...values) / values.length))\n","export default (value, { min, max }) => {\n  if (min !== undefined && value < min) return min\n  if (max !== undefined && value > max) return max\n  return value\n}\n","export default (start, end) => {\n  const step = (start <= end) ? 1 : -1\n  const length = (Math.abs(end - start) / Math.abs(step)) + 1\n  return Array(...Array(length)).map((_, i) => start + (i * step))\n}\n","import { clone, getParent, types } from 'mobx-state-tree'\n\nexport default function ExperienceCost(\n  calcFn,\n  guardedActionNames = [],\n  distanceToCharacter = 2\n) {\n  return types.model({\n  }).views(self => ({\n    get xpCost() { return calcFn(self) },\n  })).actions((self) => {\n    const getCharacter = () => {\n      if (!distanceToCharacter) return self\n      try {\n        return getParent(self, distanceToCharacter)\n      } catch (e) {\n        console.warn(\n          `Failed to find character ${distanceToCharacter} parents up from ExperienceCost model.`\n        )\n        return self\n      }\n    }\n    const adjustXP = (amount) => {\n      const character = getCharacter()\n      if (character && typeof character.setXP === 'function') {\n        character.setXP(character.xp + amount)\n      }\n    }\n\n    const guardedActions = guardedActionNames.reduce((map, name) => ({\n      ...map,\n      [`${name}Unguarded`]: self[name],\n      [name]: (...args) => {\n        const copy = clone(self)\n        copy[`${name}Unguarded`](...args)\n\n        const xpDelta = copy.xpCost - self.xpCost\n        adjustXP(-xpDelta)\n        return self[`${name}Unguarded`](...args)\n      },\n    }), {})\n\n    return {\n      ...guardedActions,\n      beforeDestroy() {\n        adjustXP(self.xpCost)\n      },\n      xpCostAfter(xpFn) {\n        const cloned = clone(self)\n        xpFn(cloned)\n        return cloned.xpCost\n      },\n      xpCostDelta(xpFn) {\n        return self.xpCostAfter(xpFn) - self.xpCost\n      },\n    }\n  })\n}\n","import { types } from 'mobx-state-tree'\nimport bound from '@/utilities/bound'\nimport range from '@/utilities/range'\nimport ExperienceCost from '@/models/ExperienceCost'\n\nconst Attribute = types.model('Attribute', {\n  id: types.identifier,\n  name: types.string,\n}).actions(self => ({\n  /* eslint-disable no-param-reassign */\n  setValue(value) {\n    const bounded = bound(value, { min: self.min, max: self.max })\n    if (bounded === self.value) return\n    self.value = bounded\n  },\n  /* eslint-enable no-param-reassign */\n}))\n\nconst Primary = types.compose(\n  types.model('Attribute', {\n    max: 10,\n    min: -1,\n    type: types.literal('primary'),\n    value: -1,\n  }),\n  Attribute,\n  ExperienceCost((self) => {\n    const values = []\n    if (self.value >= 0) values.push(...range(0, self.value))\n    return values.reduce((total, value) => (\n      total + bound(value * 5, { min: 5 })\n    ), 0)\n  }, ['setValue'])\n)\nconst Secondary = types.compose(\n  types.model('Attribute', {\n    type: types.literal('secondary'),\n    value: 0,\n  }),\n  Attribute\n)\nconst Computed = types.model('Attribute', {\n  id: types.identifier,\n  name: types.string,\n  type: types.literal('computed'),\n})\n\nconst createComputed = fn => types.compose(\n  Computed,\n  types.model('Attribute', {}).views(self => ({\n    get value() { return fn(self) },\n  }))\n)\n\nconst AttributeType = types.union(\n  Primary, Secondary, Computed,\n  types.custom({\n    isTargetType: value => Primary.is(value) || Secondary.is(value) || Computed.is(value),\n    fromSnapshot: snapshot => {\n      let model = Primary, type = 'primary'\n      if (typeof snapshot.value === 'function') {\n        model = createComputed(snapshot.value)\n        type = 'computed'\n      } else if (['size', 'naturalArmor'].includes(snapshot.id)) {\n        model = Secondary\n        type = 'secondary'\n      }\n\n      return model.create({ ...snapshot, type })\n    },\n    toSnapshot: value => value.toJSON(),\n    getValidationMessage: value => (typeof value === 'object' ? '' : '${value} is not an object.'),\n  }),\n)\n\nexport default AttributeType\nexport {\n  Primary,\n  Secondary,\n  Computed,\n  createComputed,\n}\n","import { types } from 'mobx-state-tree'\n\nconst Equippable = types.model({\n  equipped: false,\n}).actions(self => ({\n  /* eslint-disable no-param-reassign */\n  equip() { self.equipped = true },\n  setEquipped(value) { self.equipped = Boolean(value) },\n  toggleEquipped() { self.equipped = !self.equipped },\n  unequip() { self.equipped = false },\n  /* eslint-enable no-param-reassign */\n}))\n\nexport default Equippable\n","import { getParent, types } from 'mobx-state-tree'\nimport { autoHash } from '@/utilities/types'\nimport Equippable from '@/models/Equippable'\n\nconst Item = types.compose(\n  types.model('Item', {\n    id: autoHash,\n    description: '',\n    name: 'New Item',\n    quantity: types.optional(types.refinement(types.number, n => n >= 0), 1),\n    type: types.optional(types.literal('item'), 'item'),\n    worth: types.optional(types.refinement(types.number, n => n >= 0), 0),\n  }).actions(self => ({\n    /* eslint-disable no-param-reassign */\n    remove() { return getParent(self, 2).removeItem(self) },\n    setDescription(description) { self.description = description },\n    setName(name) { self.name = name },\n    setQuantity(quantity) { self.quantity = quantity },\n    setWorth(worth) { self.worth = worth },\n    /* eslint-enable no-param-reassign */\n  })),\n  Equippable\n)\n\nexport default Item\n","import { types } from 'mobx-state-tree'\nimport Item from '@/models/Item'\n\nconst armorRating = types.refinement(types.number, n => n >= 0)\n\nconst Armor = types.compose(Item, types.model('Armor', {\n  name: 'New Armor',\n  rating: types.optional(armorRating, 0),\n  type: types.optional(types.literal('armor'), 'armor'),\n}).actions(self => ({\n  /* eslint-disable no-param-reassign */\n  setRating(rating) { self.rating = rating },\n  /* eslint-enable no-param-reassign */\n})))\n\nexport default Armor\n","import { types } from 'mobx-state-tree'\n\nconst Descriptor = types\n  .model('Descriptor', {\n    id: types.identifier,\n    name: '',\n    value: '',\n  }).actions(my => ({\n    /* eslint-disable no-param-reassign */\n    setName(name) { my.name = name },\n    setValue(value) { my.value = value },\n    /* eslint-enable no-param-reassign */\n  }))\n\nexport default Descriptor\n","import { getParent, onSnapshot, types } from 'mobx-state-tree'\nimport bound from '@/utilities/bound'\n\nexport const TYPES = ['ok', 'light', 'heavy', 'bane']\n\nconst HealthValue = types.enumeration('HealthValue', TYPES, 'ok')\n\nconst Health = types.model('Health', {\n  levels: types.optional(types.array(HealthValue), []),\n}).volatile(self => ({\n  get parent() { return getParent(self) },\n})).views(self => ({\n  get damage() { return self.levels.filter(level => level !== 'ok').length },\n  get max() {\n    const resilience = self.parent.attribute('resilience').value || 0\n    const size = self.parent.attribute('size').value || 0\n    return bound(5 + resilience + size, { min: 1 })\n  },\n})).actions(self => ({\n  /* eslint-disable no-param-reassign */\n  heal(numberOfLevels = 1) {\n    const damage = self.levels.toJS().reverse().filter(level => level !== 'ok')\n    damage.length -= bound(numberOfLevels, { max: damage.length })\n\n    self.levels = [...Array(self.max - damage.length).fill('ok'), ...damage.reverse()]\n  },\n  healAll() { self.levels = Array(self.max).fill('ok') },\n  setLevel(level, severityName) {\n    if (!TYPES.includes(severityName)) return\n\n    const index = bound(level - 1, { min: 0, max: self.levels.length - 1 })\n    const severity = TYPES.indexOf(severityName)\n    const currentSeverity = TYPES.indexOf(self.levels[index])\n\n    if (severity === currentSeverity) return\n    const direction = severity > currentSeverity ? '' : ''\n\n    self.levels = self.levels.map((lvl, i) => {\n      if (i === index) return severityName\n\n      const binding = {}\n\n      if (direction === '' && i < index) {\n        binding.max = bound(severity, { min: 0 })\n      } else if (direction === '' && i > index) {\n        binding.min = severity\n      }\n\n      return TYPES[bound(TYPES.indexOf(lvl), binding)]\n    })\n  },\n  // Lifecycle hooks\n  afterAttach() {\n    onSnapshot(self.parent, () => self.resizeValues())\n    self.resizeValues()\n    self.levels.replace(self.levels.slice().sort().reverse())\n  },\n  resizeValues() {\n    const { max, levels } = self\n    if (levels.length < max) self.levels.unshift(...Array(max - levels.length).fill('ok'))\n\n    // eslint-disable-next-line no-param-reassign\n    if (self.levels.length > max) self.levels.length = max\n  },\n  /* eslint-enable no-param-reassign */\n}))\n\nexport default Health\n","import { types } from 'mobx-state-tree'\n\nexport default (min, max, defaultTo = min) => (\n  types.optional(\n    types.refinement(\n      types.number,\n      n => n === undefined || (n >= min && n <= max)\n    ),\n    defaultTo\n  )\n)\n","import { getParent, types } from 'mobx-state-tree'\nimport { autoHash } from '@/utilities/types'\nimport between from '@/models/types/between'\nimport bound from '@/utilities/bound'\nimport range from '@/utilities/range'\nimport ExperienceCost from '@/models/ExperienceCost'\n\nconst Skill = types.compose(\n  types.model('Skill', {\n    id: autoHash,\n    name: 'New Skill',\n    theory: between(0, 10),\n    mastery: between(0, 10),\n  }).views(self => ({\n    get modifier() {\n      return getParent(self, 2).modifierFor(self.name)\n    },\n  })).actions(self => ({\n    /* eslint-disable no-param-reassign */\n    remove() { return getParent(self, 2).removeSkill(self) },\n    setName(name) { self.name = name },\n    setTheory(theory) { self.theory = theory },\n    setMastery(mastery) { self.mastery = mastery },\n    /* eslint-enable no-param-reassign */\n  })),\n  ExperienceCost((self) => {\n    const values = []\n    if (self.theory >= 1) values.push(...range(1, self.theory))\n    if (self.mastery >= 1) values.push(...range(1, self.mastery))\n    return values.reduce((total, next) => total + bound(next * 3, { min: 3 }), 0)\n  }, ['setMastery', 'setTheory'])\n)\n\nexport default Skill\n","import { getParent, types } from 'mobx-state-tree'\nimport { autoHash } from '@/utilities/types'\nimport between from '@/models/types/between'\nimport bound from '@/utilities/bound'\nimport range from '@/utilities/range'\nimport ExperienceCost from '@/models/ExperienceCost'\n\nconst Spell = types.compose(\n  types.model('Spell', {\n    id: autoHash,\n    name: 'New Spell',\n    description: '',\n    level: between(0, 9),\n  }).actions(self => ({\n    /* eslint-disable no-param-reassign */\n    remove() { return getParent(self, 2).removeSpell(self) },\n    setDescription(description) { self.description = description },\n    setName(name) { self.name = name },\n    setLevel(level) { self.level = level },\n    /* eslint-enable no-param-reassign */\n  })),\n  ExperienceCost((self) => {\n    const values = []\n    if (self.level >= 1) values.push(...range(1, self.level))\n    return values.reduce((total, next) => total + bound(next * 3, { min: 3 }), 0)\n  }, ['setLevel'])\n)\n\nexport default Spell\n","import { getParent, types } from 'mobx-state-tree'\nimport { autoHash } from '@/utilities/types'\nimport ExperienceCost from '@/models/ExperienceCost'\n\nconst Trait = types.compose(\n  types.model('Trait', {\n    id: autoHash,\n    name: 'New Trait',\n    value: 0,\n  }).actions(self => ({\n    /* eslint-disable no-param-reassign */\n    remove() { return getParent(self, 2).removeTrait(self) },\n    setName(name) { self.name = name },\n    setValue(value) { self.value = value },\n    /* eslint-enable no-param-reassign */\n  })),\n  ExperienceCost(self => self.value, ['setValue']),\n)\n\nexport default Trait\n","import { types } from 'mobx-state-tree'\nimport Item from '@/models/Item'\n\nconst weaponArray = types.refinement(types.array(types.number), a => a.length === 3)\n\nconst PROPS = {\n  accuracy: 1,\n  damage: 0,\n  range: 2,\n}\n\nconst Weapon = types.compose(Item, types.model('Weapon', {\n  name: 'New Weapon',\n  type: types.optional(types.literal('weapon'), 'weapon'),\n  values: types.optional(weaponArray, [0, 0, 0]),\n}).views(self => ({\n  get accuracy() { return self.values[PROPS.accuracy] },\n  get damage() { return self.values[PROPS.damage] },\n  get range() { return self.values[PROPS.range] },\n})).actions(self => ({\n  /* eslint-disable no-param-reassign */\n  setAccuracy(value) { self.setValue(PROPS.accuracy, value) },\n  setDamage(value) { self.setValue(PROPS.damage, value) },\n  setRange(value) { self.setValue(PROPS.range, value) },\n  setValue(index, value) { self.values[index] = value },\n  setValues(values) { self.values = values },\n  /* eslint-enable no-param-reassign */\n})))\n\nexport default Weapon\n","import { types } from 'mobx-state-tree'\nimport { autoHash } from '@/utilities/types'\nimport { average, sum } from '@/utilities/math'\nimport Attribute from '@/models/Attribute'\nimport Armor from '@/models/Armor'\nimport Descriptor from '@/models/Descriptor'\nimport Item from '@/models/Item'\nimport Health from '@/models/Health'\nimport Skill from '@/models/Skill'\nimport Spell from '@/models/Spell'\nimport Trait from '@/models/Trait'\nimport Weapon from '@/models/Weapon'\n\nexport const PRIMARY_ATTRIBUTES = [\n  'acuity', 'agility', 'confidence',\n  'devotion', 'fitness', 'focus',\n  'intellect', 'intuition', 'strength',\n]\nexport const SECONDARY_ATTRIBUTES = ['size', 'naturalArmor']\nexport const DERIVED_ATTRIBUTES = [\n  'body', 'mind', 'spirit',\n  'potency', 'reflex', 'resilience',\n  'accuracy', 'might', 'toughness',\n  'speed',\n\n  'power',\n]\n\nexport const DEFAULT_DESCRIPTORS = [\n  'age', 'concept', 'eyes', 'gender', 'hair',\n  'height', 'homeland', 'race', 'weight',\n]\n\nconst capitalize = s => s.replace(/^./, s.charAt(0).toUpperCase())\n\nconst primaries = PRIMARY_ATTRIBUTES.map(id => (\n  { id, type: 'primary', name: capitalize(id), value: -1 }\n))\nconst secondaries = [\n  { id: 'size', type: 'secondary', name: 'Size', value: 0 },\n  { id: 'naturalArmor', type: 'secondary', name: 'N. Armor', value: 0 },\n]\nconst descriptors = DEFAULT_DESCRIPTORS.map(id => (\n  { id, name: capitalize(id), value: '' }\n))\n\nconst Character = types\n  .model('Character', {\n    id: autoHash,\n    name: 'Unnamed Character',\n    rp: 0,\n    xp: 0,\n\n    portraitURL: '',\n    primaryAttributes: types.optional(types.array(Attribute), primaries),\n    secondaryAttributes: types.optional(types.array(Attribute), secondaries),\n    descriptors: types.optional(types.array(Descriptor), descriptors),\n    // effects: types.array(Effect, []),\n    equipment: types.optional(types.array(types.union(Armor, Item, Weapon)), []),\n    health: types.optional(Health, {}),\n    spells: types.optional(types.array(Spell), []),\n    skills: types.optional(types.array(Skill), []),\n    traits: types.optional(types.array(Trait), []),\n  }).views((my) => {\n    const attr = id => (my.attribute(id) || {}).value || 0\n    const attrs = (...ids) => ids.map(id => attr(id))\n\n    /* eslint-disable max-len, object-property-newline */\n    const computedAttributes = [\n      Attribute.create({ id: 'body', value: () => average(attrs('agility', 'fitness', 'strength')), name: 'Body' }),\n      Attribute.create({ id: 'mind', value: () => average(attrs('acuity', 'focus', 'intellect')), name: 'Mind' }),\n      Attribute.create({ id: 'potency', value: () => average(attrs('confidence', 'intellect', 'strength')), name: 'Potency' }),\n      Attribute.create({ id: 'reflex', value: () => average(attrs('acuity', 'agility', 'intuition')), name: 'Reflex' }),\n      Attribute.create({ id: 'resilience', value: () => average(attrs('devotion', 'fitness', 'focus')), name: 'Resilience' }),\n      Attribute.create({ id: 'speed', value: () => sum(6, attr('size'), Math.round(attr('fitness') / 2)), name: 'Speed' }),\n      Attribute.create({ id: 'spirit', value: () => average(attrs('confidence', 'devotion', 'intuition')), name: 'Spirit' }),\n    ]\n    /* eslint-enable max-len, object-property-newline */\n\n    return {\n      get attributes() {\n        return [\n          ...my.primaryAttributes,\n          ...my.secondaryAttributes,\n          ...computedAttributes,\n        ]\n      },\n      get attributeIds() {\n        return [\n          ...my.primaryAttributes.map(a => a.id),\n          ...computedAttributes.map(a => a.id),\n        ]\n      },\n      get armor() { return my.equipment.filter(e => Armor.is(e)) },\n      get armorRating() {\n        return attr('naturalArmor') + sum(my.armor.map(e => (e.equipped ? e.rating : 0)))\n      },\n      get equipped() { return my.equipment.filter(e => e.equipped) },\n      get power() {\n        return sum([\n          ...my.primaryAttributes.map(a => a.xpCost),\n          ...my.skills.map(s => s.xpCost),\n          ...my.traits.map(s => s.xpCost),\n        ])\n      },\n      get weapons() { return my.equipment.filter(e => Weapon.is(e)) },\n    }\n  }).actions(my => ({\n    /* eslint-disable no-param-reassign */\n    addArmor() { my.equipment.push(Armor.create()) },\n    addItem() { my.equipment.push(Item.create()) },\n    addSkill() { my.skills.push(Skill.create()) },\n    addSpell() { my.spells.push(Spell.create()) },\n    addTrait() { my.traits.push(Trait.create()) },\n    addWeapon() { my.equipment.push(Weapon.create()) },\n    attribute(id) { return my.attributes.find(a => a.id === id) },\n    removeItem(item) { return my.equipment.remove(item) },\n    removeSkill(skill) { return my.skills.remove(skill) },\n    removeTrait(trait) { return my.traits.remove(trait) },\n    setAttribute(id, value) { my.attribute(id).setValue(value) },\n    setName(name) { my.name = name },\n    setPortraitURL(url) { my.portraitURL = url },\n    setXP(xp) { my.xp = xp },\n    setRP(rp) { my.rp = rp },\n    /* eslint-enable no-param-reassign */\n  }))\n\nexport default Character\n","export default () => {}\n","import React from 'react'\nimport bound from '@/utilities/bound'\nimport noop from '@/utilities/noop'\nimport './Editable.scss'\n\nconst TYPES = [\n  // Strings\n  'text', 'multiline',\n  // Checkboxes\n  'boolean',\n  // Numbers\n  'number', 'slider',\n]\n\n\nexport default class Editable extends React.Component {\n  static displayName = 'Editable';\n  static defaultProps = {\n    className: '',\n    forceEditMode: false,\n    max: undefined,\n    min: undefined,\n    onChange: noop,\n    onEditStart: noop,\n    onEditEnd: noop,\n    placeholder: '',\n    readonly: false,\n    step: 1,\n    type: undefined,\n    value: '',\n  }\n\n  state = {\n    editing: false,\n    resetValue: this.props.value,\n  }\n\n  get editing() {\n    return this.props.forceEditMode || this.state.editing\n  }\n\n  getEditorType = () => {\n    const { value } = this.props\n    let { type } = this.props\n\n    if (type !== undefined && TYPES.includes(type)) return type\n\n    type = typeof value\n    if (type === 'string') return value.includes('\\n') ? 'multiline' : 'text'\n    if (['boolean', 'number'].includes(type)) return type\n\n    return 'text'\n  }\n  resetChanges = () => {\n    this.props.onChange(this.state.resetValue, this.props.value)\n    this.handleToggleEditing()\n  }\n\n  createRefWithAutoFocus = (editor) => {\n    this.editor = editor\n    if (!editor) return\n\n    if (typeof editor.focus === 'function') editor.focus()\n    if (this.props.forceEditMode && typeof editor.setSelectionRange === 'function') {\n      editor.setSelectionRange(editor.value.length, editor.value.length)\n    }\n  }\n\n  handleChange = ({ target }) => {\n    const { min, max } = this.props\n    let { value } = target\n\n    // eslint-disable-next-line default-case\n    switch (this.getEditorType()) {\n      case 'slider':\n      case 'number':\n        value = parseInt(value || 0, 10)\n        // eslint-disable-next-line prefer-destructuring\n        if (Number.isNaN(value)) value = this.props.value\n        value = bound(value, { min, max })\n    }\n    this.props.onChange(value, this.state.resetValue)\n  }\n  handleKeys = (event) => {\n    const { target, key, ctrlKey, metaKey } = event\n\n    if (key === 'Escape') this.resetChanges()\n    if (key === 'Enter') {\n      if (target.nodeName !== 'TEXTAREA' || ctrlKey || metaKey) {\n        this.handleToggleEditing()\n      }\n    }\n  }\n  handleReceivingFocus = () => {\n    if (this.props.readonly) return\n    if (!this.state.editing) this.handleToggleEditing()\n  }\n  handleToggleEditing = () => {\n    if (this.props.readonly) return\n\n    const editing = !this.editing\n\n    this.setState({ editing, resetValue: this.props.value }, () => {\n      if (this.state.editing) {\n        this.props.onEditStart()\n      } else {\n        this.props.onEditEnd()\n      }\n    })\n  }\n\n  selectOnFocus = event => event.target.select()\n  toggleBoolean = () => {\n    this.props.onEditStart()\n    this.props.onChange(!this.props.value, this.props.value)\n    this.props.onEditEnd()\n  }\n\n  renderBoolean = () => (\n    <input\n      type=\"checkbox\"\n      checked={Boolean(this.props.value)}\n      disabled={this.props.readonly}\n      onChange={this.toggleBoolean}\n    />\n  )\n  renderMultiline = () => {\n    if (!this.editing) {\n      const lines = (this.props.value || this.props.placeholder).split('\\n')\n      const paragraphs = lines.map((line, index) =>\n        <p key={index}>{line}</p>\n      )\n      const className = ['multiline', this.props.value ? '' : 'placeholder'].join(' ').trim()\n      return <div className={className} onClick={this.handleToggleEditing}>{paragraphs}</div>\n    }\n\n    return (\n      <textarea\n        disabled={this.props.readonly}\n        onBlur={this.handleToggleEditing}\n        onChange={this.handleChange}\n        onFocus={this.selectOnFocus}\n        onKeyDown={this.handleKeys}\n        placeholder={this.props.placeholder}\n        ref={this.createRefWithAutoFocus}\n        rows={this.props.value.split('\\n').length}\n        value={this.props.value}\n      />\n    )\n  }\n  renderNumber = () => {\n    if (!this.editing) return this.renderStatic()\n\n    return (\n      <input\n        type=\"number\"\n        disabled={this.props.readonly}\n        max={this.props.max}\n        min={this.props.min}\n        onBlur={this.handleToggleEditing}\n        onChange={this.handleChange}\n        onFocus={this.selectOnFocus}\n        onKeyDown={this.handleKeys}\n        placeholder={this.props.placeholder}\n        ref={this.createRefWithAutoFocus}\n        step={this.props.step}\n        value={this.props.value}\n      />\n    )\n  }\n  renderSlider = () => (\n    <input\n      type=\"range\"\n      disabled={this.props.readonly}\n      max={this.props.max}\n      min={this.props.min}\n      onBlur={this.handleToggleEditing}\n      onChange={this.handleChange}\n      ref={this.createRefWithAutoFocus}\n      step={this.props.step}\n      value={this.props.value}\n    />\n  )\n  renderText = () => {\n    if (!this.editing) return this.renderStatic()\n\n    return (\n      <input\n        type=\"text\"\n        disabled={this.props.readonly}\n        onBlur={this.handleToggleEditing}\n        onChange={this.handleChange}\n        onFocus={this.selectOnFocus}\n        onKeyDown={this.handleKeys}\n        placeholder={this.props.placeholder}\n        ref={this.createRefWithAutoFocus}\n        value={this.props.value}\n      />\n    )\n  }\n  renderStatic = () => {\n    const showPlaceholder = this.props.placeholder && !this.props.value\n    const className = showPlaceholder ? 'placeholder' : ''\n    return (\n      <span className={className} onClick={this.handleToggleEditing}>\n        {showPlaceholder ? this.props.placeholder : this.props.value}\n      </span>\n    )\n  }\n\n  renderEditor = () => {\n    switch (this.getEditorType()) {\n      case 'boolean':\n        return this.renderBoolean()\n      case 'slider':\n        return this.renderSlider()\n      case 'multiline':\n        return this.renderMultiline()\n      case 'number':\n        return this.renderNumber()\n      default:\n        return this.renderText()\n    }\n  }\n  render = () => {\n    const { className, readonly } = this.props\n\n    const classes = [\n      'editable',\n      this.editing ? 'editing' : '',\n      className || '',\n      readonly ? 'readonly' : '',\n    ].filter(Boolean)\n\n    let props = {}\n    if (!readonly && !this.editing) {\n      props = { tabIndex: '0', onFocus: this.handleReceivingFocus }\n    }\n\n    return (\n      <div className={classes.join(' ')} {...props}>\n        {this.renderEditor()}\n      </div>\n    )\n  }\n}\n\n/* eslint-disable */\nif (process.env.NODE_ENV !== 'production') {\n  const PropTypes = require('prop-types')\n\n  Editable.propTypes = {\n    className: PropTypes.string,\n    forceEditMode: PropTypes.bool,\n    max: PropTypes.number,\n    min: PropTypes.number,\n    onChange: PropTypes.func,\n    onEditStart: PropTypes.func,\n    onEditEnd: PropTypes.func,\n    placeholder: PropTypes.string,\n    readonly: PropTypes.bool,\n    step: PropTypes.number,\n    type: PropTypes.oneOf(TYPES),\n    value: PropTypes.any,\n  }\n}\n/* eslint-enable */\n","/* eslint-disable react/prop-types */\nimport React, { Component, Fragment } from 'react'\nimport { observer } from 'mobx-react'\nimport Editable from '../components/Editable'\n\nimport './Attribute.scss'\n\n@observer export default class Attribute extends Component {\n  static defaultProps = {\n    className: 'none',\n    min: -10,\n    max: 10,\n    model: { id: 'none', name: '' },\n    modifier: 0,\n  }\n\n  renderValue = () => {\n    const { model } = this.props\n    const { computed, min, max, value } = model\n    const modifier = 0\n\n    const current = typeof value !== 'function' ? value : value()\n    const isModified = Boolean(!computed && modifier)\n    const displayValue = computed ? (current + modifier) : current\n    const display = computed\n      ? <Editable max={max} min={min} readonly value={displayValue} />\n      : <Editable max={max} min={min} onChange={model.setValue} value={current} />\n\n    const classes = [\n      'value',\n      isModified ? 'modified' : '',\n    ].filter(Boolean)\n\n    return (\n      <div className={classes.join(' ')}>\n        {display}\n        {isModified && <Fragment><span className=\"temporary\">{modifier}</span></Fragment>}\n      </div>\n    )\n  }\n\n  render = () => {\n    const { className = '', model } = this.props\n    return (\n      <div className={`attribute ${className} ${model.id}`}>\n        <span className=\"name\">{model.name}</span>\n        {this.renderValue()}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Attribute from '@/components/Attribute'\n\nimport './AttributeSection.scss'\n\nexport default class AttributeSection extends Component {\n  renderAttribute = (id) => {\n    const attr = this.props.attributes.find(a => a.id === id)\n    return <Attribute model={attr} className={id} />\n  }\n  renderComputed = (id, className = '') => {\n    const attr = this.props.attributes.find(a => a.id === id)\n    return <Attribute model={attr} className={`${id} ${className} computed`} computed />\n  }\n  renderHeader = (id, name) => (\n    <div className={`attribute ${id} header highlight`}>\n      <span className=\"name\">{name}</span>\n    </div>\n  )\n\n  render = () => (\n    <div className=\"attributes section\">\n      <header>Attributes</header>\n\n      {this.renderComputed('potency', 'header highlight')}\n      {this.renderComputed('reflex', 'header highlight')}\n      {this.renderComputed('resilience', 'header highlight')}\n\n      {this.renderComputed('body', 'header highlight')}\n      {this.renderAttribute('strength')}\n      {this.renderAttribute('agility')}\n      {this.renderAttribute('fitness')}\n\n      {this.renderComputed('mind', 'header highlight')}\n      {this.renderAttribute('intellect')}\n      {this.renderAttribute('acuity')}\n      {this.renderAttribute('focus')}\n\n      {this.renderComputed('spirit', 'header highlight')}\n      {this.renderAttribute('confidence')}\n      {this.renderAttribute('intuition')}\n      {this.renderAttribute('devotion')}\n\n      <hr className=\"divider\" />\n\n      {this.renderHeader('racial', 'Racial')}\n      {this.renderAttribute('size')}\n      {this.renderComputed('speed')}\n      {this.renderAttribute('naturalArmor')}\n    </div>\n  )\n}\n","/* eslint-disable react/prop-types */\nimport React from 'react'\nimport { observer } from 'mobx-react'\nimport Editable from '@/components/Editable'\n\nimport './Descriptor.scss'\n\nconst Descriptor = ({ model }) => (\n  <div className={`descriptor ${model.id}`}>\n    <div className=\"name\">{model.name}</div>\n    <Editable className=\"value\" value={model.value} onChange={model.setValue} />\n  </div>\n)\n\nexport default observer(Descriptor)\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport Descriptor from '@/components/Descriptor'\n\nimport './DescriptorSection.scss'\n\nconst DISPLAY_ORDER = [\n  'homeland', 'race', 'concept',\n  'height', 'weight', 'gender',\n  'eyes', 'hair', 'age',\n]\n\nconst DescriptorSection = ({ descriptors }) => (\n  <div className=\"descriptors section\">\n    <header>Descriptors</header>\n    {DISPLAY_ORDER.map(id => (\n      <Descriptor key={id} model={descriptors.find(d => d.id === id)} />\n    ))}\n  </div>\n)\n\nexport default observer(DescriptorSection)\n","export default (prop, reversed = false) => (objectA, objectB) => {\n  const a = String(objectA instanceof Map ? objectA.get(prop) : objectA[prop])\n  const b = String(objectB instanceof Map ? objectB.get(prop) : objectB[prop])\n\n  if (reversed) return b.localeCompare(a)\n  return a.localeCompare(b)\n}\n","import React from 'react'\nimport Editable from '@/components/Editable'\n\nimport './LabeledEditable.scss'\n\nexport default ({ caption, className, ...props }) => (\n  <label className={`labeled-editable ${className}`.trim()}>\n    {typeof caption === 'string' ? <span className=\"caption\">{caption}</span> : caption}\n    <Editable {...props} />\n  </label>\n)\n","import React from 'react'\nimport LabeledEditable from '@/components/LabeledEditable'\n\nexport function renderEditable(item, propName, props) {\n  const loweredPropName = propName.toLowerCase()\n  const passedProps = {\n    ...props,\n    className: `${props.className || ''} ${loweredPropName}`.trim(),\n  }\n  return (\n    <LabeledEditable\n      caption={props.caption || <i className={`icon-${loweredPropName}`} />}\n      className={loweredPropName}\n      onChange={item[`set${propName}`]}\n      value={item[loweredPropName]}\n      {...passedProps}\n    />\n  )\n}\nexport const renderPropWithIcon = (item, propName) => (\n  renderEditable(item, propName, {\n    caption: <abbr className={`icon-${propName.toLowerCase()}`} title={propName} />,\n    min: 0,\n    type: 'number',\n  })\n)\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport noop from '@/utilities/noop'\n\nimport './Card.scss'\n\n@observer export default class Card extends Component {\n  static defaultProps = {\n    renderAlways: noop,\n    renderCollapsed: noop,\n    renderExpanded: noop,\n  }\n  state = { expanded: false }\n\n  toggleExpanded = () => { this.setState({ expanded: !this.state.expanded }) }\n\n  render = () => {\n    const { className, contentsClassName } = this.props\n    const { renderAlways, renderCollapsed, renderExpanded } = this.props\n    const expandedClassName = this.state.expanded ? 'expanded' : 'collapsed'\n\n    return (\n      <div className={`card ${expandedClassName} ${className || ''}`.trim()}>\n        <div className={`expander icon-${expandedClassName}`} onClick={this.toggleExpanded} />\n        <div className={`card-contents ${contentsClassName || ''}`.trim()}>\n          {renderAlways()}\n          {this.state.expanded ? renderExpanded() : renderCollapsed()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport { observer } from 'mobx-react'\nimport { renderEditable } from '@/utilities/itemRendering'\nimport noop from '@/utilities/noop'\nimport Card from '@/components/Card'\nimport ArmorModel from '@/models/Armor'\n\nimport './Armor.scss'\n\n@observer export default class Armor extends Component {\n  static defaultProps = {\n    editing: false,\n    item: ArmorModel.create(),\n    onEditStart: noop,\n    onEditEnd: noop,\n  }\n\n  renderAlways = () => {\n    const { item, editing, onEditEnd, onEditStart } = this.props\n    return (\n      <Fragment>\n        {renderEditable(item, 'Equipped', { type: 'boolean' })}\n        {renderEditable(item, 'Name', { className: 'icon-armor', forceEditMode: editing, onEditEnd, onEditStart })}\n        {renderEditable(item, 'Rating', { type: 'number', caption: 'Armor Rating:' })}\n      </Fragment>\n    )\n  }\n\n  renderExpanded = () => {\n    const { item } = this.props\n    return (\n      <Fragment>\n        {renderEditable(item, 'Description', { placeholder: 'Description' })}\n      </Fragment>\n    )\n  }\n\n  render = () => (\n    <Card\n      className=\"armor-card\"\n      contentsClassName=\"item armor\"\n      renderAlways={this.renderAlways}\n      renderExpanded={this.renderExpanded}\n    />\n  )\n}\n","import React, { Component, Fragment } from 'react'\nimport { observer } from 'mobx-react'\nimport { renderEditable } from '@/utilities/itemRendering'\nimport Card from '@/components/Card'\nimport noop from '@/utilities/noop'\n\nimport './Item.scss'\n\n@observer export default class Item extends Component {\n  static defaultProps = {\n    onEditStart: noop,\n    onEditEnd: noop,\n  };\n\n  renderAlways = () => {\n    const { editing, onEditStart, onEditEnd, item } = this.props\n    return (\n      <Fragment>\n        {renderEditable(item, 'Equipped', { type: 'boolean' })}\n        {renderEditable(item, 'Name', { className: 'icon-backpack', forceEditMode: editing, onEditEnd, onEditStart })}\n      </Fragment>\n    )\n  }\n  renderExpanded = () => {\n    const { item } = this.props\n    const placeholder = item.description || 'Description'\n    return renderEditable(item, 'Description', { placeholder })\n  }\n\n  render = () => (\n    <Card\n      className=\"item-card\"\n      contentsClassName=\"item\"\n      renderAlways={this.renderAlways}\n      renderExpanded={this.renderExpanded}\n    />\n  )\n}\n","import React, { Component, Fragment } from 'react'\nimport { observer } from 'mobx-react'\nimport { renderEditable } from '@/utilities/itemRendering'\nimport noop from '@/utilities/noop'\nimport Card from '@/components/Card'\nimport WeaponModel from '@/models/Weapon'\n\nimport './Weapon.scss'\n\n@observer export default class Weapon extends Component {\n  static defaultProps = {\n    editing: false,\n    item: WeaponModel.create(),\n    onEditEnd: noop,\n    onEditStart: noop\n  }\n\n  renderAlways = () => {\n    const { editing, item, onEditEnd, onEditStart } = this.props\n    return (\n      <Fragment>\n        {renderEditable(item, 'Equipped', { type: 'boolean' })}\n        {renderEditable(item, 'Name', { className: 'icon-weapon', forceEditMode: editing, onEditEnd, onEditStart })}\n        {renderEditable(item, 'Damage', { type: 'number', caption: <abbr title=\"Damage\">Dmg:</abbr> })}\n        {renderEditable(item, 'Range', { type: 'number', caption: <abbr title=\"Range\">Rng:</abbr> })}\n        {renderEditable(item, 'Accuracy', { type: 'number', caption: <abbr title=\"Accuracy\">Acc:</abbr> })}\n      </Fragment>\n    )\n  }\n  renderExpanded = () => {\n    const { item } = this.props\n    const placeholder = item.description || 'Description'\n    return renderEditable(item, 'Description', { placeholder })\n  }\n\n  render = () => (\n    <Card\n      className=\"item-card weapon-card\"\n      contentsClassName=\"item weapon\"\n      renderAlways={this.renderAlways}\n      renderExpanded={this.renderExpanded}\n    />\n  )\n}\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport compareBy from '@/utilities/compareBy'\nimport Armor from '@/components/Armor'\nimport ArmorModel from '@/models/Armor'\nimport Item from '@/components/Item'\nimport Weapon from '@/components/Weapon'\nimport WeaponModel from '@/models/Weapon'\n\nimport './EquipmentSection.scss'\n\nconst sortEquipment = equipment => (\n  equipment.slice().sort(compareBy('name')).sort(compareBy('equipped', true))\n)\n\nconst REMOVERS = {}\n\nconst EquipmentSection = observer(({ buttons, equipment = [], layout = 'large' }) => {\n  const rows = layout === 'large'\n    ? Math.ceil(equipment.length / 2) + 1\n    : equipment.length + 1\n  const style = { gridTemplateRows: `repeat(${rows}, auto)` }\n\n  return (\n    <div className=\"equipment section\" style={style}>\n      <header className=\"icon-backpack\">Equipment{buttons}</header>\n      {sortEquipment(equipment).map((item) => {\n        if (!REMOVERS[item.id]) {\n          REMOVERS[item.id] = () => { if (item.name === '') item.remove() }\n        }\n        const props = { key: item.id, item, onEditEnd: REMOVERS[item.id] }\n\n        let Type = Item\n        if (WeaponModel.is(item)) Type = Weapon\n        if (ArmorModel.is(item)) Type = Armor\n\n        return <Type {...props} />\n      })}\n    </div>\n  )\n})\n\nEquipmentSection.displayName = 'EquipmentSection'\nexport default EquipmentSection\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport { TYPES } from '@/models/Health'\nimport hash from '@/utilities/hash'\n\nimport './HealthBar.scss'\n\n@observer export default class HealthBar extends Component {\n  handleClick = (event) => { // { target }) => {\n    const { health } = this.props\n    const index = parseInt(event.target.attributes.index.value, 10)\n    const current = TYPES.indexOf(health.levels[index])\n    let next = current + 1\n    if (event.shiftKey) next = current - 1\n    if (event.ctrlKey) next = 0\n\n    if (next > TYPES.length - 1) next = 0\n    if (next < 0) next = TYPES.length - 1\n\n    health.setLevel(index + 1, TYPES[next])\n  }\n  render = () => {\n    const { health } = this.props\n    const rows = Math.ceil(health.max / 10)\n    const cols = rows > 1 ? 10 : health.max\n    const style = {\n      gridTemplateColumns: `repeat(${cols}, 1fr)`,\n      gridTemplateRows: `repeat(${rows}, 1fr)`,\n    }\n\n    return (\n      <div className=\"health-bar\">\n        <div className=\"header\">Health</div>\n        <div className=\"levels\" style={style}>\n          {health.levels.map((level, ix) => (\n            <div\n              className={`${level} icon-health`}\n              index={ix}\n              key={hash(ix)}\n              onClick={this.handleClick}\n            />\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport Editable from '@/components/Editable'\nimport noop from '@/utilities/noop'\nimport './PortraitSection.scss'\n\nconst DEFAULT_PORTRAIT_URL = '//via.placeholder.com/300x400/eeeeee?text=3x4+aspect+ratio'\n\nconst buildUrl = url => `url(${url || DEFAULT_PORTRAIT_URL})`\n@observer export default class PortraitSection extends Component {\n  static defaultProps = {\n    onChange: noop,\n    url: DEFAULT_PORTRAIT_URL,\n  };\n  state = {\n    editing: false,\n  };\n\n  toggleEditing = () => { this.setState({ editing: !this.state.editing }) }\n\n  renderEditor = () => (\n    <Editable\n      forceEditMode\n      type=\"multiline\"\n      onChange={this.props.onChange}\n      onEditEnd={this.toggleEditing}\n      value={this.props.url}\n    />\n  )\n  render = () => (\n    <div className=\"portrait section\">\n      <header>Portrait</header>\n      <div className=\"border-container\">\n        <div className=\"image\" onClick={this.toggleEditing} style={{ backgroundImage: buildUrl(this.props.url) }}>\n          {this.state.editing && this.renderEditor()}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport Editable from '@/components/Editable'\nimport noop from '@/utilities/noop'\n\nimport './Skill.scss'\n\n@observer export default class Skill extends Component {\n  static defaultProps = {\n    onEditStart: noop,\n    onEditEnd: noop,\n  }\n\n  render() {\n    const { editing, onEditStart, onEditEnd, skill } = this.props\n\n    return (\n      <div className=\"skill\">\n        <Editable\n          className=\"name\"\n          forceEditMode={editing}\n          onChange={skill.setName}\n          onEditStart={onEditStart}\n          onEditEnd={onEditEnd}\n          value={skill.name}\n        />\n        <Editable\n          className=\"theory\"\n          max={10}\n          min={0}\n          type=\"number\"\n          onChange={skill.setTheory}\n          value={skill.theory || '-'}\n        />\n        <Editable\n          className=\"mastery\"\n          max={10}\n          min={0}\n          type=\"number\"\n          onChange={skill.setMastery}\n          value={skill.mastery || '-'}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport compareBy from '@/utilities/compareBy'\nimport Skill from '@/components/Skill'\n\nimport './SkillSection.scss'\n\nconst compareByName = compareBy('name')\n\nconst REMOVERS = {}\n\n@observer export default class SkillSection extends Component {\n  render = () => {\n    const { addSkill, skills = [] } = this.props\n    const rows = Math.ceil(skills.length / 2)\n    const style = { gridTemplateRows: `25px 25px repeat(${rows || 1}, 30px)` }\n\n    return (\n      <div className=\"skills section\" style={style}>\n        <header>\n          Skills\n          <button className=\"icon-add\" onClick={addSkill} />\n        </header>\n        <header className=\"subheader\">\n          <div className=\"skill\">\n            <span className=\"name\">Name</span>\n            <abbr className=\"theory\" title=\"Theory\">Th</abbr>\n            <abbr className=\"mastery\" title=\"Mastery\">Ms</abbr>\n          </div>\n          <div className=\"skill\">\n            <span className=\"name\">Name</span>\n            <abbr className=\"theory\" title=\"Theory\">Th</abbr>\n            <abbr className=\"mastery\" title=\"Mastery\">Ms</abbr>\n          </div>\n        </header>\n        {skills.slice().sort(compareByName).map((skill) => {\n          if (!REMOVERS[skill.id]) {\n            REMOVERS[skill.id] = () => { if (skill.name === '') skill.remove() }\n          }\n          return <Skill key={skill.id} skill={skill} onEditEnd={REMOVERS[skill.id]} />\n        })}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport Editable from '@/components/Editable'\nimport noop from '@/utilities/noop'\n\nimport './Spell.scss'\n\n@observer export default class Spell extends Component {\n  static defaultProps = {\n    onEditStart: noop,\n    onEditEnd: noop,\n  }\n\n  render() {\n    const { editing, onEditStart, onEditEnd, spell } = this.props\n\n    return (\n      <div className=\"spell\">\n        <Editable\n          className=\"name\"\n          forceEditMode={editing}\n          onChange={spell.setName}\n          onEditStart={onEditStart}\n          onEditEnd={onEditEnd}\n          value={spell.name}\n        />\n        <Editable\n          className=\"level\"\n          max={9}\n          min={0}\n          type=\"number\"\n          onChange={spell.setLevel}\n          value={spell.level || '-'}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport compareBy from '@/utilities/compareBy'\nimport Spell from '@/components/Spell'\n\nimport './SpellSection.scss'\n\nconst compareByName = compareBy('name')\n\nconst REMOVERS = {}\n\n@observer export default class SpellSection extends Component {\n  render = () => {\n    const { addSpell, spells = [] } = this.props\n    const rows = Math.ceil(spells.length / 2)\n    const style = { gridTemplateRows: `25px 25px repeat(${rows || 1}, 30px)` }\n\n    return (\n      <div className=\"spells section\" style={style}>\n        <header>\n          Spells\n          <button className=\"icon-add\" onClick={addSpell} />\n        </header>\n        <header className=\"subheader\">\n          <div className=\"spell\">\n            <span className=\"name\">Name</span>\n            <abbr className=\"level\" title=\"Level\">Lv</abbr>\n          </div>\n          <div className=\"spell\">\n            <span className=\"name\">Name</span>\n            <abbr className=\"level\" title=\"Level\">Lv</abbr>\n          </div>\n        </header>\n        {spells.slice().sort(compareByName).map((spell) => {\n          if (!REMOVERS[spell.id]) {\n            REMOVERS[spell.id] = () => { if (spell.name === '') spell.remove() }\n          }\n          return <Spell key={spell.id} spell={spell} onEditEnd={REMOVERS[spell.id]} />\n        })}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport Editable from '@/components/Editable'\nimport noop from '@/utilities/noop'\n\nimport './Trait.scss'\n\n@observer export default class Trait extends Component {\n  static defaultProps = {\n    onEditStart: noop,\n    onEditEnd: noop,\n  }\n\n  render() {\n    const { editing, onEditStart, onEditEnd, trait } = this.props\n\n    return (\n      <div className=\"trait\">\n        <Editable\n          className=\"name\"\n          forceEditMode={editing}\n          onChange={trait.setName}\n          onEditStart={onEditStart}\n          onEditEnd={onEditEnd}\n          value={trait.name}\n        />\n        <Editable\n          className=\"value\"\n          type=\"number\"\n          onChange={trait.setValue}\n          value={trait.value || '-'}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport compareBy from '@/utilities/compareBy'\nimport noop from '@/utilities/noop'\nimport Trait from '@/components/Trait'\n\nimport './TraitSection.scss'\n\nconst compareByName = compareBy('name')\n\nconst REMOVERS = {}\n\nconst TraitSection = observer(({ addTrait = noop, layout = 'large', traits = [] }) => {\n  const rows = layout === 'medium' ? Math.ceil(traits.length / 2) : traits.length\n  const style = { gridTemplateRows: `25px 25px repeat(${rows || 1}, 30px)` }\n  return (\n    <div className=\"traits section\" style={style}>\n      <header>\n        Traits\n        <button className=\"icon-add\" onClick={addTrait} />\n      </header>\n      <header className=\"subheader\">\n        <div className=\"trait\">\n          <span className=\"name\">Name</span>\n          <span className=\"value\">Cost</span>\n        </div>\n        <div className=\"trait\">\n          <span className=\"name\">Name</span>\n          <span className=\"value\">Cost</span>\n        </div>\n      </header>\n      {traits.slice().sort(compareByName).map((trait) => {\n        if (!REMOVERS[trait.id]) {\n          REMOVERS[trait.id] = () => { if (trait.name === '') trait.remove() }\n        }\n        return <Trait key={trait.id} trait={trait} onEditEnd={REMOVERS[trait.id]} />\n      })}\n    </div>\n  )\n})\n\nTraitSection.displayName = 'TraitSection'\nexport default TraitSection\n","import React, { Component } from 'react'\nimport { observer } from 'mobx-react'\nimport { onSnapshot } from 'mobx-state-tree'\nimport bound from '@/utilities/bound'\nimport noop from '@/utilities/noop'\nimport CharacterModel from '@/models/Character'\nimport AttributeSection from '@/components/AttributeSection'\nimport DescriptorSection from '@/components/DescriptorSection'\nimport Editable from '@/components/Editable'\nimport EquipmentSection from '@/components/EquipmentSection'\nimport HealthBar from '@/components/HealthBar'\nimport PortraitSection from '@/components/PortraitSection'\nimport SkillSection from '@/components/SkillSection'\nimport SpellSection from '@/components/SpellSection'\nimport TraitSection from '@/components/TraitSection'\n\nimport '../../fontello/css/axis-sheet-embedded.css'\nimport './Sheet.scss'\n\n@observer export default class Sheet extends Component {\n  static displayName = 'Sheet';\n\n  static defaultProps = {\n    character: {},\n    onChange: noop,\n    readonly: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.character = CharacterModel.create(props.character)\n    this.disposeOfSnapshotListener = onSnapshot(this.character, props.onChange)\n\n    window.addEventListener('resize', this.handleWindowResize)\n  }\n\n  state = { sizeClass: 'large' }\n\n  componentDidMount() { this.handleWindowResize() }\n\n  componentWillUnmount() { this.disposeOfSnapshotListener() }\n\n  handleWindowResize = () => {\n    if (!this.container) return\n    const sheetWidth = this.container.offsetWidth\n    const sizeIndex = bound(Math.floor(sheetWidth / 250), { min: 1, max: 3 })\n    const sizeClass = ['small', 'medium', 'large'][sizeIndex - 1]\n\n    this.setState({ sizeClass })\n  }\n\n  bindContainer = (div) => { this.container = div }\n\n  render = () => {\n    const c = this.character\n    const { readonly } = this.props\n    const { sizeClass = 'large' } = this.state\n    const classes = [\n      'sheetforge sheet axis',\n      sizeClass,\n      readonly ? 'readonly' : '',\n    ].filter(Boolean).join(' ')\n\n    /* eslint-disable max-len */\n    return (\n      <div className={classes} ref={this.bindContainer}>\n        <header>\n          <Editable className=\"character-name\" value={c.name} onChange={c.setName} />\n          <div className=\"xp attribute\">\n            <span className=\"name\">XP</span>\n            <Editable min={0} value={c.xp} onChange={c.setXP} />\n          </div>\n          <div className=\"rp attribute\">\n            <span className=\"name\">RP</span>\n            <Editable min={0} max={5} value={c.rp} onChange={c.setRP} />\n          </div>\n          <div className=\"power attribute\">\n            <div className=\"name\">CP</div>\n            <Editable value={c.power} readonly />\n          </div>\n        </header>\n        <PortraitSection url={c.portraitURL} onChange={c.setPortraitURL} />\n        <HealthBar health={c.health} />\n        <DescriptorSection descriptors={c.descriptors} />\n        <AttributeSection attributes={c.attributes} modifiers={c.modifiers} />\n        <TraitSection traits={c.traits} modifiers={c.modifiers} addTrait={c.addTrait} layout={sizeClass} />\n        <SkillSection skills={c.skills} modifiers={c.modifiers} addSkill={c.addSkill} />\n        <EquipmentSection\n          buttons={(\n            <div className=\"buttons\">\n              Add:\n              <button className=\"icon-weapon\" onClick={c.addWeapon} />\n              <button className=\"icon-armor\" onClick={c.addArmor} />\n              <button className=\"icon-add\" onClick={c.addItem} />\n            </div>\n          )}\n          equipment={c.equipment}\n          layout={sizeClass}\n        />\n        <SpellSection spells={c.spells} modifiers={c.modifiers} addSpell={c.addSpell} />\n      </div>\n    )\n    /* eslint-enable max-len */\n  }\n}\n","import Character from '@/models/Character'\nimport Sheet from '@/components/Sheet'\n\nexport {\n  Character,\n  Sheet,\n}\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","module.exports = __WEBPACK_EXTERNAL_MODULE_YeEv__;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","module.exports = __WEBPACK_EXTERNAL_MODULE_cDcd__;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","module.exports = __WEBPACK_EXTERNAL_MODULE_sGQ9__;"],"sourceRoot":""}