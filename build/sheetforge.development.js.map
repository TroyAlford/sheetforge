{"version":3,"sources":["webpack://sheetforge/webpack/universalModuleDefinition","webpack://sheetforge/webpack/bootstrap","webpack://sheetforge/./source/utilities/noop.js","webpack://sheetforge/./source/utilities/unique.js","webpack://sheetforge/./source/models/generic/ICategorizable/ICategorizable.js","webpack://sheetforge/./source/utilities/splitObjectPath.js","webpack://sheetforge/./source/utilities/getPathValue.js","webpack://sheetforge/./source/utilities/setPathValue.js","webpack://sheetforge/./source/models/generic/IEditable/IEditable.js","webpack://sheetforge/./source/utilities/hash.js","webpack://sheetforge/./source/models/generic/IIdentity/IIdentity.js","webpack://sheetforge/./source/utilities/findParent.js","webpack://sheetforge/./source/utilities/math/math.js","webpack://sheetforge/./source/utilities/math/toSymbols.js","webpack://sheetforge/./source/utilities/math/calculate.js","webpack://sheetforge/./source/models/Attribute/Attribute.js","webpack://sheetforge/./source/models/Descriptor/Descriptor.js","webpack://sheetforge/./source/utilities/compareBy.js","webpack://sheetforge/./source/models/generic/Collection/Collection.js","webpack://sheetforge/./source/utilities/bound.js","webpack://sheetforge/./source/models/HealthLevel/HealthLevel.js","webpack://sheetforge/./source/models/Effect/Effect.js","webpack://sheetforge/./source/models/Item/Item.js","webpack://sheetforge/./source/models/Resource/Resource.js","webpack://sheetforge/./source/models/Skill/Skill.js","webpack://sheetforge/./source/models/ResourceCost/ResourceCost.js","webpack://sheetforge/./source/models/Spell/Spell.js","webpack://sheetforge/./source/models/Trait/Trait.js","webpack://sheetforge/./source/utilities/flatten.js","webpack://sheetforge/./source/models/Character/Character.js","webpack://sheetforge/./source/index.js","webpack://sheetforge/./fontello/css/sheetforge-embedded.css"],"names":["array","filter","item","index","all","indexOf","getValue","noop","types","model","volatile","isICategorizable","views","self","getCategories","name","categories","split","pop","unique","map","category","trim","Boolean","sort","lastUsedName","categoryValue","PATH_SPLITTER","path","match","object","undefined","splitObjectPath","Array","isArray","property","target","reduce","o","key","value","isIEditable","set","IEditable","savedVersion","isDirty","deepEqual","toJSON","actions","afterCreate","isPathDirty","current","getPathValue","initial","markAsClean","Object","keys","forEach","isObservableArray","child","reset","assign","setPathValue","hash","radix","string","String","h","char","charCodeAt","Math","abs","toString","randomHash","random","filterFunction","hasParent","parent","getParent","math","core","create","import","require","expression","symbols","parse","traverse","node","type","includes","push","data","options","defaultSymbolValue","safeData","toSymbols","symbol","eval","compose","IIdentity","ICategorizable","modifiedValue","raw","optional","union","number","character","findParent","p","isCharacter","id","toLowerCase","replace","isComputed","computing","effects","activeEffects","effect","targetId","modifier","sum","modifierText","sourceName","join","computed","values","attribute","attributes","findBy","calculate","error","process","console","preProcessSnapshot","snapshot","postProcessSnapshot","named","prop","reversed","objectA","objectB","a","Map","get","b","localeCompare","TYPE","TypedArrayWrapper","asArray","slice","first","length","at","last","n","clear","delete","deleteAt","_","every","fn","find","findById","identifierAttribute","searchElement","fromIndex","element","insert","splice","concat","shift","start","end","some","sortBy","direction","TypeError","compareBy","reverse","deleteCount","toObject","keyProp","valueProp","entry","unshift","custom","fromSnapshot","getValidationMessage","f","is","isTargetType","min","max","DAMAGE_LEVELS","damage","dt","literal","penalty","healthBar","severity","adjust","byAmount","bound","apply","newSeverity","ownIndex","healthLevel","heal","condition","afterAttach","available","CollectionOf","Attribute","isApplicable","conditions","source","description","Effect","equipped","maximum","mastery","theory","isComplex","isSimple","amount","resourceName","resources","Resource","resource","level","costs","ResourceCost","isActive","cast","isAffordable","cost","flatten","depth","Infinity","JSON","stringify","next","descriptors","Descriptor","experience","health","HealthLevel","items","Item","skills","Skill","spells","Spell","traits","Trait","availableConditions","e","i","trait","spell","Character"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtJe,qDAAM,CAAE,CAAvB,E;;ACAe;AAAA,MAACA,KAAD,uEAAS,EAAT;AAAA,SACbA,KAAK,CAACC,MAAN,CAAa,UAACC,IAAD,EAAOC,KAAP,EAAcC,GAAd;AAAA,WAAsBA,GAAG,CAACC,OAAJ,CAAYH,IAAZ,MAAsBC,KAA5C;AAAA,GAAb,CADa;AAAA,CAAf,E;;ACAA;AACA;AACA;AAEe;AAAA,MAACG,QAAD,uEAAYC,IAAZ;AAAA,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","file":"sheetforge.development.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sheetforge\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sheetforge\"] = factory();\n\telse\n\t\troot[\"sheetforge\"] = factory();\n})(window, function() {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"development\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonpsheetforge\"] = window[\"webpackJsonpsheetforge\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"05fm\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export default () => {}\n","export default (array = []) => (\n  array.filter((item, index, all) => all.indexOf(item) === index)\n)\n","import { types } from 'mobx-state-tree'\nimport noop from '@/utilities/noop'\nimport unique from '@/utilities/unique'\n\nexport default (getValue = noop) => types.model({\n}).volatile(() => ({\n  isICategorizable: true,\n})).views((self) => {\n  function getCategories() {\n    if (!self.name) return []\n\n    const categories = self.name.split(':')\n    categories.pop() // remove the name\n\n    return unique(categories.map(category => category.trim()).filter(Boolean)).sort()\n  }\n  let lastUsedName = self.name\n  let categories = getCategories()\n\n  return {\n    get categories() {\n      if (!self.name || self.name === lastUsedName) return categories\n\n      lastUsedName = self.name\n      categories = getCategories()\n\n      return categories\n    },\n    get categoryValue() { return getValue(self) },\n  }\n})\n","const PATH_SPLITTER = /([a-z0-9-_]+)(?![[\"'\\].])*/ig\n\nexport default (path) => {\n  if (typeof path !== 'string') return null\n  return path.match(PATH_SPLITTER)\n}\n","import splitObjectPath from '@/utilities/splitObjectPath'\n\nexport default (object, path) => {\n  if (typeof path !== 'string') return undefined\n\n  const split = splitObjectPath(path)\n\n  if (!Array.isArray(split)) return undefined\n\n  const property = split.pop()\n  const target = split.reduce((o, key) => o[key] || {}, object)\n\n  if (target) return target[property]\n  return undefined\n}\n","import splitObjectPath from '@/utilities/splitObjectPath'\n\nexport default (object, path, value) => {\n  const split = splitObjectPath(path)\n  const property = split.pop()\n  const target = split.reduce((o, key) => o[key] || {}, object)\n\n  if (target && target.isIEditable) {\n    target.set(property, value)\n  } else {\n    target[property] = value\n  }\n}\n","import deepEqual from 'deep-equal'\nimport { isObservableArray } from 'mobx'\nimport { types } from 'mobx-state-tree'\nimport getPathValue from '@/utilities/getPathValue'\nimport setPathValue from '@/utilities/setPathValue'\n\nconst IEditable = types.model('IEditable', {\n  // Any\n}).volatile(() => ({\n  isIEditable: true,\n  savedVersion: {},\n})).views(self => ({\n  get isDirty() { return !deepEqual(self.toJSON(), self.savedVersion) },\n})).actions(self => ({\n  /* eslint-disable no-param-reassign */\n\n  afterCreate() { self.savedVersion = self.toJSON() },\n  isPathDirty: (path) => {\n    const current = getPathValue(self.toJSON(), path)\n    const initial = getPathValue(self.savedVersion, path)\n    return !deepEqual(current, initial)\n  },\n  markAsClean() {\n    self.savedVersion = self.toJSON()\n\n    Object.keys(self.savedVersion).forEach((key) => {\n      const value = self[key]\n      if (!value) { return }\n\n      if (value.isIEditable) {\n        value.markAsClean()\n      } else if (isObservableArray(value)) {\n        value.forEach(child => (child && child.isIEditable && child.markAsClean()))\n      }\n    })\n  },\n  reset() { Object.assign(self, self.savedVersion) },\n  set(key = {}, value = undefined) {\n    if (typeof key === 'string' && value !== undefined) {\n      // allows: model.set('foo.bar', 'bar')\n      if (self[key] !== undefined) {\n        self[key] = value\n      } else {\n        setPathValue(self, key, value)\n      }\n    } else if (typeof key === 'object' && value === undefined) {\n      // allows: model.set({ foo: 'Foo', bar: 'Bar' })\n      Object.assign(self, key)\n    }\n  },\n\n  /* eslint-enable no-param-reassign */\n}))\n\nexport default IEditable\n","export default function hash(value = '', radix = 16) {\n  const string = String(value)\n  let h = 0\n  string.split('').forEach((char) => {\n    /* eslint-disable no-bitwise */\n    h = ((h << 5) - h) + char.charCodeAt(0)\n    h &= h // Convert to 32-bit integer\n    /* eslint-enable no-bitwise */\n  })\n  return Math.abs(h).toString(radix)\n}\n\nexport const randomHash = () => hash(Math.random().toString())\n","import { types } from 'mobx-state-tree'\nimport { randomHash } from '@/utilities/hash'\n\nexport default types.model({\n  // Nothing\n}).volatile(() => ({\n  hash: '',\n})).actions(self => ({\n  afterCreate() { self.hash = randomHash() }, // eslint-disable-line no-param-reassign\n}))\n","import { getParent, hasParent } from 'mobx-state-tree'\n\nexport default (child, filterFunction = Boolean) => {\n  if (!hasParent(child)) { return null }\n\n  let parent = getParent(child)\n  while (parent) {\n    if (filterFunction(parent)) {\n      return parent\n    }\n\n    if (!hasParent(parent)) { return null }\n    parent = getParent(parent)\n  }\n\n  return null\n}\n","import core from 'mathjs/core'\n\nconst math = core.create()\nmath.import(require('mathjs/lib/expression/function/eval'))\nmath.import(require('mathjs/lib/expression/function/parse'))\nmath.import(require('mathjs/lib/function/arithmetic/add'))\nmath.import(require('mathjs/lib/function/arithmetic/ceil'))\nmath.import(require('mathjs/lib/function/arithmetic/divide'))\nmath.import(require('mathjs/lib/function/arithmetic/floor'))\nmath.import(require('mathjs/lib/function/arithmetic/mod'))\nmath.import(require('mathjs/lib/function/arithmetic/multiply'))\nmath.import(require('mathjs/lib/function/arithmetic/pow'))\nmath.import(require('mathjs/lib/function/arithmetic/round'))\nmath.import(require('mathjs/lib/function/arithmetic/subtract'))\nmath.import(require('mathjs/lib/function/logical'))\nmath.import(require('mathjs/lib/function/statistics/max'))\nmath.import(require('mathjs/lib/function/statistics/mean'))\nmath.import(require('mathjs/lib/function/statistics/min'))\nmath.import(require('mathjs/lib/function/statistics/sum'))\nmath.import(require('mathjs/lib/type/matrix/function/matrix'))\nmath.import(require('mathjs/lib/type/matrix/Matrix'))\nmath.import(require('mathjs/lib/type/matrix/DenseMatrix'))\n\nexport default math\n","import math from '@/utilities/math'\n\nexport default (expression) => {\n  const symbols = []\n  math.parse(expression).traverse((node) => {\n    if (node.type === 'SymbolNode' && !symbols.includes(node.name)) {\n      symbols.push(node.name)\n    }\n  })\n  return symbols\n}\n","import math from '@/utilities/math'\nimport toSymbols from '@/utilities/math/toSymbols'\n\nexport default (expression = '', data = {}, options = { defaultSymbolValue: 0 }) => {\n  const safeData = { ...data }\n  toSymbols(expression).forEach((symbol) => {\n    if (safeData[symbol] === undefined) {\n      safeData[symbol] = options.defaultSymbolValue\n    }\n  })\n\n  return math.eval(expression, safeData)\n}\n","import { types } from 'mobx-state-tree'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport findParent from '@/utilities/findParent'\nimport math from '@/utilities/math'\nimport calculate from '@/utilities/math/calculate'\nimport toSymbols from '@/utilities/math/toSymbols'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(self => self.modifiedValue()),\n  IEditable,\n  types.model({\n    name: 'New Attribute...',\n    raw: types.optional(types.union(types.number, types.string), 0),\n  }).views(self => ({\n    get character() { return findParent(self, p => p.isCharacter) },\n    get id() {\n      return self.name.split(':').pop()\n        .trim().toLowerCase()\n        .replace(/[^a-z0-9]/ig, '')\n    },\n    get isComputed() { return typeof self.raw === 'string' },\n  })).actions((self) => {\n    let computing = false\n\n    return ({\n      effects() {\n        if (!self.character) return []\n        return self.character.activeEffects().filter(effect => effect.targetId === self.id)\n      },\n      modifiedValue() { return (self.value() || 0) + self.modifier() },\n      modifier() { return math.sum(self.effects().map(effect => effect.modifier)) },\n      modifierText() {\n        return self.effects().map(effect => `${effect.sourceName()}: ${effect.modifier}`).join(', ')\n      },\n      value() {\n        if (!self.isComputed) return self.raw\n        if (self.character === null) return 0\n        if (computing) return 0\n\n        computing = true\n        let computed = 0\n\n        try {\n          const values = toSymbols(self.raw).reduce((all, symbol) => {\n            const attribute = self.character.attributes.findBy('id', symbol)\n            return Object.assign(all, { [symbol]: attribute ? attribute.modifiedValue() : 0 })\n          }, {})\n\n          computed = calculate(self.raw, values)\n        } catch (error) {\n          // eslint-disable-next-line no-undef\n          if (process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.error(`Error computing: ${self.raw}`)\n          }\n          computed = 0\n        }\n\n        computing = false\n        return computed\n      },\n    })\n  }).preProcessSnapshot(({ value, ...snapshot }) => ({ ...snapshot, raw: value }))\n    .postProcessSnapshot(({ raw, ...snapshot }) => ({ ...snapshot, value: raw }))\n).named('Attribute')\n","import { types } from 'mobx-state-tree'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(),\n  IEditable,\n  types.model({\n    name: 'New Descriptor...',\n    value: '',\n  })\n).named('Descriptor')\n","export default (prop, reversed = false) => (objectA, objectB) => {\n  const a = String(objectA instanceof Map ? objectA.get(prop) : objectA[prop])\n  const b = String(objectB instanceof Map ? objectB.get(prop) : objectB[prop])\n\n  if (reversed) return b.localeCompare(a)\n  return a.localeCompare(b)\n}\n","import { isObservableArray } from 'mobx'\nimport { types } from 'mobx-state-tree'\nimport compareBy from '@/utilities/compareBy'\n\nexport default (TYPE, options = {}) => {\n  const TypedArrayWrapper = types.model({\n    values: types.array(TYPE),\n  }).views(self => ({\n    get asArray() { return self.values.slice() },\n    get first() { return self.length ? self.at(0) : undefined },\n    get last() { return self.length ? self.at(self.length - 1) : undefined },\n    get length() { return self.values.length },\n  })).actions(self => ({\n    /* eslint-disable no-param-reassign */\n\n    at: n => self.values[n],\n    clear: () => self.values.clear(),\n    delete: (object) => { self.values.replace(self.values.filter(item => item !== object)) },\n    deleteAt: (index) => { self.values.replace(self.values.filter((_, n) => n !== index)) },\n    every: fn => self.values.every(fn),\n    filter: fn => self.values.filter(fn),\n    find: fn => self.values.find(fn),\n    findBy: (key, value) => self.find(item => item[key] === value),\n    findById: (id) => {\n      if (!TYPE.identifierAttribute) return null\n      return self.find(item => item[TYPE.identifierAttribute] === id) || null\n    },\n    forEach: fn => self.values.forEach(fn),\n    includes: (searchElement, fromIndex) => self.values.includes(searchElement, fromIndex),\n    indexOf: element => self.values.indexOf(element),\n    insert: (object, index) => self.splice(index, 0, object),\n    map: fn => self.values.map(fn),\n    pop: () => self.values.pop(),\n    push: (...values) => self.values.replace([].concat(self.values, values)),\n    reduce: (fn, initial) => self.values.reduce(fn, initial),\n    replace: values => self.values.replace(values),\n    shift: () => self.values.shift(),\n    slice: (start, end) => self.values.slice(start, end),\n    some: fn => self.values.some(fn),\n    sortBy: (property, direction = 'asc') => {\n      if (!['asc', 'desc'].includes(direction)) {\n        throw new TypeError(`direction must be \"asc\" or \"desc\", got: \"${direction}\"`)\n      }\n      const values = self.values.slice().sort(compareBy(property))\n      self.values.replace(direction === 'desc' ? values.reverse() : values)\n      return self\n    },\n    splice: (index, deleteCount, value) => self.values.splice(index, deleteCount, value),\n    toObject: (keyProp, valueProp) => self.values.reduce((object, entry) => {\n      const key = entry[keyProp]\n      const value = valueProp !== undefined ? entry[valueProp] : entry\n      return { ...object, [key]: typeof value === 'function' ? value() : value }\n    }, {}),\n    unshift: (...values) => self.values.replace([].concat(values, self.values)),\n\n    /* eslint-enable no-param-reassign */\n  })).postProcessSnapshot(({ values }) => values)\n\n  return types.custom({\n    ...options,\n    fromSnapshot: (snapshot = []) => TypedArrayWrapper.create({ values: snapshot }),\n    getValidationMessage: (snapshot) => {\n      if (!snapshot) return ''\n      if (isObservableArray(snapshot) || Array.isArray(snapshot)) {\n        if (snapshot.every(f => TYPE.is(f))) return ''\n      }\n\n      return 'Collection types must be assigned an array of values or null'\n    },\n    isTargetType: target => TypedArrayWrapper.is(target),\n    name: options.name || 'Collection',\n  })\n}\n","export default (value, { min, max }) => {\n  if (min !== undefined && value < min) return min\n  if (max !== undefined && value > max) return max\n  return value\n}\n","import { isObservableArray } from 'mobx'\nimport { types } from 'mobx-state-tree'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport bound from '@/utilities/bound'\nimport findParent from '@/utilities/findParent'\n\nconst DAMAGE_LEVELS = [\n  'none',\n  'light',\n  'heavy',\n  'bane',\n]\n\nexport default types.compose(\n  IIdentity,\n  IEditable,\n  types.model({\n    damage: types.optional(types.union(...DAMAGE_LEVELS.map(dt => types.literal(dt))), 'none'),\n    name: 'New Health Level...',\n    penalty: 0,\n  }).views(self => ({\n    get healthBar() {\n      const parent = findParent(self)\n      return isObservableArray(parent) ? parent : null\n    },\n    get index() { return self.healthBar ? self.healthBar.indexOf(self) : null },\n    get severity() { return DAMAGE_LEVELS.indexOf(self.damage) },\n  })).actions(self => ({\n    adjust(byAmount) {\n      const index = bound(self.severity + byAmount, { max: 3, min: 0 })\n      self.apply(DAMAGE_LEVELS[index])\n    },\n    apply(damage) {\n      if (!DAMAGE_LEVELS.includes(damage)) return\n\n      const newSeverity = DAMAGE_LEVELS.indexOf(damage)\n      if (newSeverity === self.severity) return\n\n      const ownIndex = self.index\n      const direction = newSeverity < self.severity ? '↑' : '↓'\n\n      if (!self.healthBar) {\n        self.set({ damage })\n        return\n      }\n\n      self.healthBar.forEach((healthLevel, index) => {\n        if (\n          (direction === '↑' && index >= ownIndex && healthLevel.severity > newSeverity) ||\n          (direction === '↓' && index <= ownIndex && healthLevel.severity < newSeverity)\n        ) {\n          healthLevel.set({ damage })\n        }\n      })\n    },\n    heal() { self.apply('none') },\n  }))\n).named('HealthLevel')\n","import { types } from 'mobx-state-tree'\nimport Attribute from '@/models/Attribute'\nimport CollectionOf from '@/models/generic/Collection'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport findParent from '@/utilities/findParent'\n\nexport default types.compose(\n  IIdentity,\n  IEditable,\n  types.model({\n    condition: '',\n    modifier: 0,\n    targetId: '',\n  }).actions(self => ({\n    afterAttach() {\n      if (!self.targetId && self.available().length) {\n        // eslint-disable-next-line no-param-reassign\n        self.targetId = self.available().first.id\n      }\n    },\n\n    available() {\n      const character = self.character()\n      return character ? character.attributes : CollectionOf(Attribute).create([])\n    },\n    character() { return findParent(self, p => p.isCharacter) },\n    isApplicable() {\n      const character = self.character()\n      return Boolean(\n        !self.condition ||\n        (character && character.conditions.includes(self.condition))\n      )\n    },\n    source() { return findParent(self, p => p.name) || null },\n    sourceName() { return self.source() ? self.source().name : 'Unknown' },\n    target() {\n      const character = self.character()\n      return character ? character.attributes.findBy('name', self.targetId) : null\n    },\n  }))\n).named('Effect')\n","import { types } from 'mobx-state-tree'\nimport Effect from '@/models/Effect'\nimport CollectionOf from '@/models/generic/Collection'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(),\n  IEditable,\n  types.model({\n    description: '',\n    effects: CollectionOf(Effect),\n    equipped: false,\n    name: 'New Item...',\n  }),\n).named('Item')\n","import { types } from 'mobx-state-tree'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(),\n  IEditable,\n  types.model({\n    current: 0,\n    maximum: 10,\n    name: 'New Resource...',\n  })\n).named('Resource')\n","import { types } from 'mobx-state-tree'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(self => self.mastery),\n  IEditable,\n  types.model({\n    mastery: 1,\n    name: 'New Skill...',\n    theory: 0,\n  }).views(self => ({\n    get isComplex() { return self.theory !== 0 },\n    get isSimple() { return self.theory === 0 },\n  }))\n).named('Skill')\n","import { types } from 'mobx-state-tree'\nimport CollectionOf from '@/models/generic/Collection'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport Resource from '@/models/Resource'\nimport findParent from '@/utilities/findParent'\n\nexport default types.compose(\n  IIdentity,\n  IEditable,\n  types.model({\n    amount: 0,\n    resourceName: '',\n  }).views(self => ({\n    get available() {\n      return self.character ? self.character.resources : CollectionOf(Resource).create([])\n    },\n    get character() { return findParent(self, p => p.isCharacter) },\n  })).actions(self => ({\n    afterAttach() {\n      if (!self.resourceName && self.available.length) {\n        // eslint-disable-next-line no-param-reassign\n        self.resourceName = self.available.first.name\n      }\n    },\n    resource() {\n      if (!self.character) return null\n      return self.character.resources.findBy('name', self.resourceName)\n    },\n  }))\n).named('Cost')\n","import { types } from 'mobx-state-tree'\nimport Effect from '@/models/Effect'\nimport CollectionOf from '@/models/generic/Collection'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport ResourceCost from '@/models/ResourceCost'\nimport findParent from '@/utilities/findParent'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(self => self.level),\n  IEditable,\n  types.model({\n    costs: CollectionOf(ResourceCost), // Resources\n    description: '',\n    effects: CollectionOf(Effect),\n    isActive: false,\n    level: 0,\n    name: 'New Spell...',\n  }).views(self => ({\n    get character() { return findParent(self, p => p.isCharacter) },\n  })).actions(self => ({\n    cast() {\n      if (self.isAffordable()) {\n        self.costs.forEach((cost) => {\n          const resource = cost.resource()\n          resource.set({ current: resource.current - cost.amount })\n        })\n      }\n    },\n    isAffordable() {\n      if (!self.character || !self.costs.length) return true\n      return self.costs.every(cost => (\n        cost.resource() && cost.resource().current >= cost.amount\n      ))\n    },\n  }))\n).named('Spell')\n","import { types } from 'mobx-state-tree'\nimport Effect from '@/models/Effect'\nimport CollectionOf from '@/models/generic/Collection'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(self => self.value),\n  IEditable,\n  types.model('Trait', {\n    effects: CollectionOf(Effect),\n    name: 'New Trait...',\n    value: 0,\n  })\n).named('Trait')\n","export default function flatten(array, depth = Infinity) {\n  if (!array || !Array.isArray(array)) {\n    throw new TypeError(`cannot flatten non-Array value ${JSON.stringify(array)}`)\n  }\n\n  return array.reduce((all, next) => {\n    if (depth > 1 && next && Array.isArray(next)) {\n      return all.concat(flatten(next, depth - 1))\n    }\n\n    return all.concat(next)\n  }, [])\n}\n","import { types } from 'mobx-state-tree'\nimport Attribute from '@/models/Attribute'\nimport Descriptor from '@/models/Descriptor'\nimport CollectionOf from '@/models/generic/Collection'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport HealthLevel from '@/models/HealthLevel'\nimport Item from '@/models/Item'\nimport Resource from '@/models/Resource'\nimport Skill from '@/models/Skill'\nimport Spell from '@/models/Spell'\nimport Trait from '@/models/Trait'\nimport flatten from '@/utilities/flatten'\n\nexport default types.compose(\n  IIdentity,\n  IEditable,\n  types.model({\n    attributes: CollectionOf(Attribute),\n    conditions: CollectionOf(types.string), // ['vs Goblins', 'Crinos Form']\n    descriptors: CollectionOf(Descriptor),\n    experience: 0,\n    health: CollectionOf(HealthLevel),\n    items: CollectionOf(Item), // equipped / unequipped, have Effects\n    resources: CollectionOf(Resource),\n    skills: CollectionOf(Skill),\n    spells: CollectionOf(Spell),\n    traits: CollectionOf(Trait), // have Effects\n  }).volatile(() => ({\n    isCharacter: true,\n  })).actions(self => ({\n    activeEffects() {\n      return self.effects().filter(effect => effect && effect.isApplicable())\n    },\n    availableConditions() {\n      return self.effects()\n        .map(e => e.condition).concat(self.conditions.asArray)\n        .sort()\n        .filter((effect, i, all) => !i || effect !== all[i - 1])\n        .filter(Boolean)\n    },\n    effects() {\n      return flatten([\n        // Trait Effects first, because they're inherent\n        self.traits.filter(Boolean).map(trait => trait.effects.values),\n        // Direct Effects second, because they're cast on the character\n        self.spells.filter(spell => spell.isActive).map(spell => spell.effects.values),\n        // Item Effects third, because they're indirect\n        self.items.filter(item => item.equipped).map(item => item.effects.values),\n      ]).filter(Boolean)\n    },\n  }))\n).named('Character')\n","import Character from '@/models/Character'\nimport '@fontello/css/sheetforge-embedded'\n\nexport default Character\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}