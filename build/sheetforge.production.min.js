!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("mobx"),require("mobx-state-tree")):"function"==typeof define&&define.amd?define("sheetforge",["mobx","mobx-state-tree"],e):"object"==typeof exports?exports.sheetforge=e(require("mobx"),require("mobx-state-tree")):t.sheetforge=e(t.mobx,t["mobx-state-tree"])}(window,function(t,e){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="05fm")}({"+6pz":function(t,e,r){"use strict";e.name="ParenthesisNode",e.path="expression.node",e.factory=function(t,e,n,o){var i=n(r("K6lB"));function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return a.prototype=new i,a.prototype.type="ParenthesisNode",a.prototype.isParenthesisNode=!0,a.prototype._compile=function(t,e){return this.content._compile(t,e)},a.prototype.getContent=function(){return this.content.getContent()},a.prototype.forEach=function(t){t(this.content,"content",this)},a.prototype.map=function(t){return new a(t(this.content,"content",this))},a.prototype.clone=function(){return new a(this.content)},a.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},a.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},a.fromJSON=function(t){return new a(t.content)},a.prototype.toHTML=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},a.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},a}},"/z5F":function(t,e,r){"use strict";e.name="algorithm12",e.factory=function(t,e,r,n){var o=t.DenseMatrix;return function(t,e,r,i){var a=t._values,s=t._index,u=t._ptr,c=t._size,f=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,l=c[0],h=c[1],m=r;"string"==typeof f&&(p=f,e=n.convert(e,p),m=n.find(r,[p,p]));for(var y=[],d=new o({data:y,size:[l,h],datatype:p}),v=[],g=[],x=0;x<h;x++){for(var w=x+1,b=u[x],N=u[x+1],E=b;E<N;E++){var S=s[E];v[S]=a[E],g[S]=w}for(var M=0;M<l;M++)0===x&&(y[M]=[]),g[M]===w?y[M][x]=i?m(e,v[M]):m(v[M],e):y[M][x]=i?m(e,0):m(0,e)}return d}}},"05fm":function(t,e,r){"use strict";r.r(e);var n=r("YeEv"),o=r("MVZn"),i=r.n(o),a=r("QILm"),s=r.n(a),u=r("lSNA"),c=r.n(u),f=function(){},p=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t,e,r){return r.indexOf(t)===e})},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return n.types.model({}).volatile(function(){return{isICategorizable:!0}}).views(function(e){function r(){if(!e.name)return[];var t=e.name.split(":");return t.pop(),p(t.map(function(t){return t.trim()}).filter(Boolean)).sort()}var n=e.name,o=r();return{get categories(){return e.name&&e.name!==n?(n=e.name,o=r()):o},get categoryValue(){return t(e)}}})},h=r("cDf5"),m=r.n(h),y=r("f66B"),d=r.n(y),v=r("VBo9"),g=/([a-z0-9-_]+)(?![["'\].])*/gi,x=function(t){return"string"!=typeof t?null:t.match(g)},w=function(t,e){if("string"==typeof e){var r=x(e);if(Array.isArray(r)){var n=r.pop(),o=r.reduce(function(t,e){return t[e]||{}},t);return o?o[n]:void 0}}},b=n.types.model("IEditable",{}).volatile(function(){return{isIEditable:!0,savedVersion:{}}}).views(function(t){return{get isDirty(){return!d()(t.toJSON(),t.savedVersion)}}}).actions(function(t){return{afterCreate:function(){t.savedVersion=t.toJSON()},isPathDirty:function(e){var r=w(t.toJSON(),e),n=w(t.savedVersion,e);return!d()(r,n)},markAsClean:function(){t.savedVersion=t.toJSON(),Object.keys(t.savedVersion).forEach(function(e){var r=t[e];r&&(r.isIEditable?r.markAsClean():Object(v.isObservableArray)(r)&&r.forEach(function(t){return t&&t.isIEditable&&t.markAsClean()}))})},reset:function(){Object.assign(t,t.savedVersion)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;"string"==typeof e&&void 0!==r?void 0!==t[e]?t[e]=r:function(t,e,r){var n=x(e),o=n.pop(),i=n.reduce(function(t,e){return t[e]||{}},t);i&&i.isIEditable?i.set(o,r):i[o]=r}(t,e,r):"object"===m()(e)&&void 0===r&&Object.assign(t,e)}}});var N=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=String(t),n=0;return r.split("").forEach(function(t){n=(n<<5)-n+t.charCodeAt(0),n&=n}),Math.abs(n).toString(e)}(Math.random().toString())},E=n.types.model({}).volatile(function(){return{hash:""}}).actions(function(t){return{afterCreate:function(){t.hash=N()}}}),S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;if(!Object(n.hasParent)(t))return null;for(var r=Object(n.getParent)(t);r;){if(e(r))return r;if(!Object(n.hasParent)(r))return null;r=Object(n.getParent)(r)}return null},M=r("yZWr"),O=r.n(M).a.create();O.import(r("Wbaz")),O.import(r("lFTT")),O.import(r("NEdZ")),O.import(r("EjzI")),O.import(r("rVKH")),O.import(r("QllX")),O.import(r("gV/b")),O.import(r("NU+P")),O.import(r("CaZ0")),O.import(r("N5iU")),O.import(r("O1N0")),O.import(r("BSwV")),O.import(r("itDh")),O.import(r("FC7u")),O.import(r("I5O3")),O.import(r("Z+cb")),O.import(r("R4H5")),O.import(r("ohYX")),O.import(r("ZS3Q"));var A=O,_=function(t){var e=[];return A.parse(t).traverse(function(t){"SymbolNode"!==t.type||e.includes(t.name)||e.push(t.name)}),e},T=n.types.compose(E,l(function(t){return t.modifiedValue()}),b,n.types.model({name:"New Attribute...",raw:n.types.optional(n.types.union(n.types.number,n.types.string),0)}).views(function(t){return{get character(){return S(t,function(t){return t.isCharacter})},get id(){return t.name.split(":").pop().trim().toLowerCase().replace(/[^a-z0-9]/gi,"")},get isComputed(){return"string"==typeof t.raw}}}).actions(function(t){var e=!1;return{effects:function(){return t.character?t.character.activeEffects().filter(function(e){return e.targetId===t.id}):[]},modifiedValue:function(){return(t.value()||0)+t.modifier()},modifier:function(){return A.sum(t.effects().map(function(t){return t.modifier}))},modifierText:function(){return t.effects().map(function(t){return"".concat(t.sourceName(),": ").concat(t.modifier)}).join(", ")},value:function(){if(!t.isComputed)return t.raw;if(null===t.character)return 0;if(e)return 0;e=!0;var r=0;try{var n=_(t.raw).reduce(function(e,r){var n=t.character.attributes.findBy("id",r);return Object.assign(e,c()({},r,n?n.modifiedValue():0))},{});r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{defaultSymbolValue:0},n=i()({},e);return _(t).forEach(function(t){void 0===n[t]&&(n[t]=r.defaultSymbolValue)}),A.eval(t,n)}(t.raw,n)}catch(t){0,r=0}return e=!1,r}}}).preProcessSnapshot(function(t){var e=t.value,r=s()(t,["value"]);return i()({},r,{raw:e})}).postProcessSnapshot(function(t){var e=t.raw,r=s()(t,["raw"]);return i()({},r,{value:e})})).named("Attribute"),j=n.types.compose(E,l(),b,n.types.model({name:"New Descriptor...",value:""})).named("Descriptor"),k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.types.model({values:n.types.array(t)}).views(function(t){return{get asArray(){return t.values.slice()},get first(){return t.length?t.at(0):void 0},get last(){return t.length?t.at(t.length-1):void 0},get length(){return t.values.length}}}).actions(function(e){return{at:function(t){return e.values[t]},clear:function(){return e.values.clear()},delete:function(t){e.values.replace(e.values.filter(function(e){return e!==t}))},deleteAt:function(t){e.values.replace(e.values.filter(function(e,r){return r!==t}))},every:function(t){return e.values.every(t)},filter:function(t){return e.values.filter(t)},find:function(t){return e.values.find(t)},findBy:function(t,r){return e.find(function(e){return e[t]===r})},findById:function(r){return t.identifierAttribute&&e.find(function(e){return e[t.identifierAttribute]===r})||null},forEach:function(t){return e.values.forEach(t)},includes:function(t,r){return e.values.includes(t,r)},indexOf:function(t){return e.values.indexOf(t)},insert:function(t,r){return e.splice(r,0,t)},map:function(t){return e.values.map(t)},pop:function(){return e.values.pop()},push:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.values.replace([].concat(e.values,r))},reduce:function(t,r){return e.values.reduce(t,r)},replace:function(t){return e.values.replace(t)},shift:function(){return e.values.shift()},slice:function(t,r){return e.values.slice(t,r)},some:function(t){return e.values.some(t)},sortBy:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";if(!["asc","desc"].includes(r))throw new TypeError('direction must be "asc" or "desc", got: "'.concat(r,'"'));var n=e.values.slice().sort(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r,n){var o=String(r instanceof Map?r.get(t):r[t]),i=String(n instanceof Map?n.get(t):n[t]);return e?i.localeCompare(o):o.localeCompare(i)}}(t));return e.values.replace("desc"===r?n.reverse():n),e},splice:function(t,r,n){return e.values.splice(t,r,n)},toObject:function(t,r){return e.values.reduce(function(e,n){var o=n[t],a=void 0!==r?n[r]:n;return i()({},e,c()({},o,"function"==typeof a?a():a))},{})},unshift:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.values.replace([].concat(r,e.values))}}}).postProcessSnapshot(function(t){return t.values});return n.types.custom(i()({},e,{fromSnapshot:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.create({values:t})},getValidationMessage:function(e){return e?(Object(v.isObservableArray)(e)||Array.isArray(e))&&e.every(function(e){return t.is(e)})?"":"Collection types must be assigned an array of values or null":""},isTargetType:function(t){return r.is(t)},name:e.name||"Collection"}))},P=n.types.compose(E,b,n.types.model({condition:"",modifier:0,targetId:""}).actions(function(t){return{afterAttach:function(){!t.targetId&&t.available().length&&(t.targetId=t.available().first.id)},available:function(){var e=t.character();return e?e.attributes:k(T).create([])},character:function(){return S(t,function(t){return t.isCharacter})},isApplicable:function(){var e=t.character();return Boolean(!t.condition||e&&e.conditions.includes(t.condition))},source:function(){return S(t,function(t){return t.name})||null},sourceName:function(){return t.source()?t.source().name:"Unknown"},target:function(){var e=t.character();return e?e.attributes.findBy("name",t.targetId):null}}})).named("Effect"),C=n.types.compose(E,l(),b,n.types.model({description:"",effects:k(P),equipped:!1,name:"New Item..."})).named("Item"),D=n.types.compose(E,l(),b,n.types.model({current:0,maximum:10,name:"New Resource..."})).named("Resource"),z=n.types.compose(E,l(function(t){return t.mastery}),b,n.types.model({mastery:1,name:"New Skill...",theory:0}).views(function(t){return{get isComplex(){return 0!==t.theory},get isSimple(){return 0===t.theory}}})).named("Skill"),B=n.types.compose(E,b,n.types.model({amount:0,resourceName:""}).views(function(t){return{get available(){return t.character?t.character.resources:k(D).create([])},get character(){return S(t,function(t){return t.isCharacter})}}}).actions(function(t){return{afterAttach:function(){!t.resourceName&&t.available.length&&(t.resourceName=t.available.first.name)},resource:function(){return t.character?t.character.resources.findBy("name",t.resourceName):null}}})).named("Cost"),F=n.types.compose(E,l(function(t){return t.level}),b,n.types.model({costs:k(B),description:"",effects:k(P),isActive:!1,level:0,name:"New Spell..."}).views(function(t){return{get character(){return S(t,function(t){return t.isCharacter})}}}).actions(function(t){return{cast:function(){t.isAffordable()&&t.costs.forEach(function(t){var e=t.resource();e.set({current:e.current-t.amount})})},isAffordable:function(){return!t.character||!t.costs.length||t.costs.every(function(t){return t.resource()&&t.resource().current>=t.amount})}}})).named("Spell"),I=n.types.compose(E,l(function(t){return t.value}),b,n.types.model("Trait",{effects:k(P),name:"New Trait...",value:0})).named("Trait");var L=n.types.compose(E,b,n.types.model({attributes:k(T),conditions:k(n.types.string),descriptors:k(j),experience:0,items:k(C),resources:k(D),skills:k(z),spells:k(F),traits:k(I)}).volatile(function(){return{isCharacter:!0}}).actions(function(t){return{activeEffects:function(){return t.effects().filter(function(t){return t&&t.isApplicable()})},availableConditions:function(){return t.effects().map(function(t){return t.condition}).concat(t.conditions.asArray).sort().filter(function(t,e,r){return!e||t!==r[e-1]}).filter(Boolean)},effects:function(){return function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(!e||!Array.isArray(e))throw new TypeError("cannot flatten non-Array value ".concat(JSON.stringify(e)));return e.reduce(function(e,n){return r>1&&n&&Array.isArray(n)?e.concat(t(n,r-1)):e.concat(n)},[])}([t.traits.filter(Boolean).map(function(t){return t.effects.values}),t.spells.filter(function(t){return t.isActive}).map(function(t){return t.effects.values}),t.items.filter(function(t){return t.equipped}).map(function(t){return t.effects.values})]).filter(Boolean)}}})).named("Character");r("H3yI"),e.default=L},"0dEn":function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.memoize=function(t,e){return function r(){"object"!==n(r.cache)&&(r.cache={});for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=e?e(o):JSON.stringify(o);return a in r.cache||(r.cache[a]=t.apply(t,o)),r.cache[a]}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var r=(e.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)},e.callWithRightArgumentCount=function(t,e,r){return Object.keys(t.signatures||{}).reduce(function(t,e){var r=(e.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)}},"199F":function(t,e,r){"use strict";var n=r("Z2I/");function o(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}e.isNumber=function(t){return"number"==typeof t},e.isInteger=function(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,r){if("function"==typeof r)return r(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var o,i="auto";switch(r&&(r.notation&&(i=r.notation),e.isNumber(r)?o=r:e.isNumber(r.precision)&&(o=r.precision)),i){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"engineering":return e.toEngineering(t,o);case"auto":if(r&&r.exponential&&(void 0!==r.exponential.lower||void 0!==r.exponential.upper)){var a=n.map(r,function(t){return t});return a.exponential=void 0,void 0!==r.exponential.lower&&(a.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),void 0!==r.exponential.upper&&(a.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(a)),e.toPrecision(t,o,a)}return e.toPrecision(t,o,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},e.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],o=parseFloat(e[4]||"0"),i=n.indexOf(".");o+=-1!==i?i-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(t){return o-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===a.length&&(a.push(0),o++),{sign:r,coefficients:a,exponent:o}},e.toEngineering=function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=e.roundDigits(e.splitNumber(t),r),i=n.exponent,a=n.coefficients,s=i%3==0?i:i<0?i-3-i%3:i-i%3;if(e.isNumber(r))r>a.length&&(a=a.concat(o(r-a.length)));else{var u=i>=0?i:Math.abs(s);a.length-1<u&&(a=a.concat(o(u-(a.length-1))))}for(var c=Math.abs(i-s),f=1;--c>=0;)f++;var p=a.slice(f).join(""),l=e.isNumber(r)&&p.length||p.match(/[1-9]/)?"."+p:"",h=a.slice(0,f).join("")+l+"e"+(i>=0?"+":"")+s.toString();return n.sign+h},e.toFixed=function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=e.splitNumber(t),i="number"==typeof r?e.roundDigits(n,n.exponent+1+r):n,a=i.coefficients,s=i.exponent+1,u=s+(r||0);return a.length<u&&(a=a.concat(o(u-a.length))),s<0&&(a=o(1-s).concat(a),s=1),s<a.length&&a.splice(s,0,0===s?"0.":"."),i.sign+a.join("")},e.toExponential=function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=e.splitNumber(t),i=r?e.roundDigits(n,r):n,a=i.coefficients,s=i.exponent;a.length<r&&(a=a.concat(o(r-a.length)));var u=a.shift();return i.sign+u+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},e.toPrecision=function(t,r,n){if(isNaN(t)||!isFinite(t))return String(t);var i=n&&void 0!==n.lowerExp?n.lowerExp:-3,a=n&&void 0!==n.upperExp?n.upperExp:5,s=e.splitNumber(t);if(s.exponent<i||s.exponent>=a)return e.toExponential(t,r);var u=r?e.roundDigits(s,r):s,c=u.coefficients,f=u.exponent;c.length<r&&(c=c.concat(o(r-c.length))),c=c.concat(o(f-c.length+1+(c.length<r?r-c.length:0)));var p=f>0?f:0;return p<(c=o(-f).concat(c)).length-1&&c.splice(p+1,0,"."),u.sign+c.join("")},e.roundDigits=function(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var o=e-1;for(n[o]++;10===n[o];)n.pop(),0===o&&(n.unshift(0),r.exponent++,o++),n[--o]++}return r},e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,e.nearlyEqual=function(t,r,n){if(null==n)return t===r;if(t===r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var o=Math.abs(t-r);return o<e.DBL_EPSILON||o<=Math.max(Math.abs(t),Math.abs(r))*n}return!1}},"1d6v":function(t,e,r){"use strict";var n=r("aG3p"),o=r("X8kj");e.name="algorithm06",e.factory=function(t,e,i,a){var s=i(r("hj6K")),u=t.SparseMatrix;return function(t,e,r){var i=t._values,c=t._size,f=t._datatype,p=e._values,l=e._size,h=e._datatype;if(c.length!==l.length)throw new o(c.length,l.length);if(c[0]!==l[0]||c[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+l+")");var m,y=c[0],d=c[1],v=s,g=0,x=r;"string"==typeof f&&f===h&&(m=f,v=a.find(s,[m,m]),g=a.convert(0,m),x=a.find(r,[m,m]));for(var w=i&&p?[]:void 0,b=[],N=[],E=new u({values:w,index:b,ptr:N,size:[y,d],datatype:m}),S=w?[]:void 0,M=[],O=[],A=0;A<d;A++){N[A]=b.length;var _=A+1;if(n(t,A,M,S,O,_,E,x),n(e,A,M,S,O,_,E,x),S)for(var T=N[A];T<b.length;){var j=b[T];if(O[j]===_){var k=S[j];v(k,g)?b.splice(T,1):(w.push(k),T++)}else b.splice(T,1)}else for(var P=N[A];P<b.length;)O[b[P]]!==_?b.splice(P,1):P++}return N[d]=b.length,E}}},"1pc8":function(t,e,r){"use strict";var n=r("Z2I/");function o(t,e,r){if(void 0!==t[e]&&(o=r,i=t[e],-1===o.indexOf(i))){var n=function(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}(r,t[e]);-1!==n?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+r[n]+'" instead of "'+t[e]+'".'),t[e]=r[n]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+r.map(JSON.stringify).join(", ")+".")}var o,i}e.name="config",e.math=!0,e.factory=function(t,e,r,i,a){var s=["Matrix","Array"],u=["number","BigNumber","Fraction"];function c(t){if(t){var r=n.map(e,n.clone);o(t,"matrix",s),o(t,"number",u),n.deepExtend(e,t);var i=n.map(e,n.clone),c=n.map(t,n.clone);return a.emit("config",i,r,c),i}return n.map(e,n.clone)}return c.MATRIX=s,c.NUMBER=u,c}},"1stm":function(t,e,r){"use strict";t.exports=function t(e,r,n){return e&&"function"==typeof e.map?e.map(function(e){return t(e,r,n)}):r(e)}},"2g85":function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("XDH7").transform,i=r("4bae").getSafeProperty;e.factory=function(t,e,a,s){var u=a(r("Wail"));return function(t,e){try{if(Array.isArray(t))return u(t,e);if(t&&"function"==typeof t.subset)return t.subset(e);if("string"==typeof t)return u(t,e);if("object"===n(t)){if(!e.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return i(t,e.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw o(t)}}}},"2l0z":function(t,e,r){"use strict";Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t}},"35fj":function(t,e,r){"use strict";var n=r("Tb0o");e.name="ConditionalNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(r("K6lB")),s=o(r("uUDd"));function u(e,r,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError("Parameter condition must be a Node");if(!t.isNode(r))throw new TypeError("Parameter trueExpr must be a Node");if(!t.isNode(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=r,this.falseExpr=n}return u.prototype=new a,u.prototype.type="ConditionalNode",u.prototype.isConditionalNode=!0,u.prototype._compile=function(e,r){var n=this.condition._compile(e,r),o=this.trueExpr._compile(e,r),i=this.falseExpr._compile(e,r);return function(e,r,a){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(t.isBigNumber(e))return!e.isZero();if(t.isComplex(e))return!(!e.re&&!e.im);if(t.isUnit(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+s(e)+'"')}(n(e,r,a))?o(e,r,a):i(e,r,a)}},u.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},u.prototype.map=function(t){return new u(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},u.prototype.clone=function(){return new u(this.condition,this.trueExpr,this.falseExpr)},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=n.getPrecedence(this,e),o=this.condition.toString(t),i=n.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(o="("+o+")");var a=this.trueExpr.toString(t),s=n.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(a="("+a+")");var u=this.falseExpr.toString(t),c=n.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=r)&&(u="("+u+")"),o+" ? "+a+" : "+u},u.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},u.fromJSON=function(t){return new u(t.condition,t.trueExpr,t.falseExpr)},u.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=n.getPrecedence(this,e),o=this.condition.toHTML(t),i=n.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(t),s=n.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.falseExpr.toHTML(t),c=n.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=r)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+u},u.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},u}},"3LJV":function(t,e,r){"use strict";var n=r("6cPB");t.exports=function t(e,r){n(e)&&(e=e.valueOf());for(var o=0,i=e.length;o<i;o++){var a=e[o];Array.isArray(a)?t(a,r):r(a)}}},"3efQ":function(t,e,r){"use strict";var n=r("LHK7"),o=n.object,i=n.string;e.name="det",e.factory=function(t,e,n,a){var s=n(r("R4H5")),u=n(r("O1N0")),c=n(r("NU+P")),f=n(r("7DiD")),p=n(r("gpKz")),l=a("det",{any:function(t){return o.clone(t)},"Array | Matrix":function(e){var r;switch((r=t.isMatrix(e)?e.size():Array.isArray(e)?(e=s(e)).size():[]).length){case 0:return o.clone(e);case 1:if(1===r[0])return o.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+i.format(r)+")");case 2:var n=r[0],a=r[1];if(n===a)return function(t,e,r){if(1===e)return o.clone(t[0][0]);if(2===e)return u(c(t[0][0],t[1][1]),c(t[1][0],t[0][1]));for(var n=p(t),i=n.U[0][0],a=1;a<e;a++)i=c(i,n.U[a][a]);for(var s=0,l=0,h=[];;){for(;h[l];)l++;if(l>=e)break;for(var m=l,y=0;!h[n.p[m]];)h[n.p[m]]=!0,m=n.p[m],y++;y%2==0&&s++}return s%2==0?i:f(i)}(e.clone().valueOf(),n);throw new RangeError("Matrix must be square (size: "+i.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.format(r)+")")}}});return l.toTex={1:"\\det\\left(${args[0]}\\right)"},l}},"4bae":function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("Z2I/").hasOwnProperty;function i(t,e){return!(!t||"object"!==n(t))&&(!!o(u,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function a(t,e){return!(!t||"function"!=typeof t[e])&&(!(o(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!o(c,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function s(t){return"object"===n(t)&&t&&t.constructor===Object}var u={length:!0,name:!0},c={toString:!0,valueOf:!0,toLocaleString:!0};e.getSafeProperty=function(t,e){if(s(t)&&i(t,e))return t[e];if("function"==typeof t[e]&&a(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')},e.setSafeProperty=function(t,e,r){if(s(t)&&i(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')},e.isSafeProperty=i,e.validateSafeMethod=function(t,e){if(!a(t,e))throw new Error('No access to method "'+e+'"')},e.isSafeMethod=a,e.isPlainObject=s},"4fwU":function(t,e,r){"use strict";var n=r("X8kj");e.name="algorithm02",e.factory=function(t,e,o,i){var a=o(r("hj6K")),s=t.SparseMatrix;return function(t,e,r,o){var u=t._data,c=t._size,f=t._datatype,p=e._values,l=e._index,h=e._ptr,m=e._size,y=e._datatype;if(c.length!==m.length)throw new n(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,v=c[0],g=c[1],x=a,w=0,b=r;"string"==typeof f&&f===y&&(d=f,x=i.find(a,[d,d]),w=i.convert(0,d),b=i.find(r,[d,d]));for(var N=[],E=[],S=[],M=0;M<g;M++){S[M]=E.length;for(var O=h[M],A=h[M+1],_=O;_<A;_++){var T=l[_],j=o?b(p[_],u[T][M]):b(u[T][M],p[_]);x(j,w)||(E.push(T),N.push(j))}}return S[g]=E.length,new s({values:N,index:E,ptr:S,size:[v,g],datatype:d})}}},"6cPB":function(t,e,r){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isMatrix||!1}},"78Py":function(t,e,r){"use strict";var n=r("1stm");e.name="number",e.factory=function(t,e,r,o){var i=o("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return n(t,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}},"7DiD":function(t,e,r){"use strict";var n=r("1stm");e.name="unaryMinus",e.factory=function(t,e,o,i){var a=r("bFQJ"),s=i("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=s(t.value),e},"Array | Matrix":function(t){return n(t,s,!0)}});return s.toTex={1:"".concat(a.operators.unaryMinus,"\\left(${args[0]}\\right)")},s}},"7lEX":function(t,e,r){"use strict";e.path="type",e.name="_numeric",e.factory=function(t,e,n,o){var i=n(r("uUDd")),a={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:n(r("78Py")),BigNumber:n(r("MI9+")),Fraction:n(r("wJ/n"))},u=function(t,e){var r=i(t);if(!(r in a))throw new TypeError("Cannot convert "+t+' of type "'+r+'"; valid input types are '+Object.keys(a).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===r?t:s[e](t)};return u.toTex=function(t,e){return t.args[0].toTex()},u}},"8OQS":function(t,e){t.exports=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}},"9a6t":function(t,e,r){"use strict";var n=r("199F").isInteger,o=r("sTyi").resize;e.name="zeros",e.factory=function(t,e,i,a){var s=i(r("R4H5")),u=a("zeros",{"":function(){return"Array"===e.matrix?c([]):c([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var r=t.pop();return c(t,r)}return"Array"===e.matrix?c(t):c(t,"default")},Array:c,Matrix:function(t){var e=t.storage();return c(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return c(t.valueOf(),e)}});return u.toTex=void 0,u;function c(e,r){var i=function(e){var r=!1;return e.forEach(function(e,n,o){t.isBigNumber(e)&&(r=!0,o[n]=e.toNumber())}),r}(e)?new t.BigNumber(0):0;if(function(t){t.forEach(function(t){if("number"!=typeof t||!n(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}(e),r){var a=s(r);return e.length>0?a.resize(e,i):a}var u=[];return e.length>0?o(u,e,i):u}}},AGIY:function(t,e,r){"use strict";var n=r("sTyi").map,o=r("PXUV").escape;e.name="IndexNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(r("K6lB")),u=i(r("V3b4")),c=Array.isArray;function f(e,r){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=r||!1,!c(e)||!e.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function p(e,r,n){return new u(t.isBigNumber(e)?e.toNumber():e,t.isBigNumber(r)?r.toNumber():r,t.isBigNumber(n)?n.toNumber():n)}return f.prototype=new s,f.prototype.type="IndexNode",f.prototype.isIndexNode=!0,f.prototype._compile=function(e,r){var o=n(this.dimensions,function(n,o){if(t.isRangeNode(n)){if(n.needsEnd()){var i=Object.create(r);i.end=!0;var a=n.start._compile(e,i),s=n.end._compile(e,i),u=n.step?n.step._compile(e,i):function(){return 1};return function(t,r,n){var i=e.size(n).valueOf(),c=Object.create(r);return c.end=i[o],p(a(t,c,n),s(t,c,n),u(t,c,n))}}var c=n.start._compile(e,r),f=n.end._compile(e,r),l=n.step?n.step._compile(e,r):function(){return 1};return function(t,e,r){return p(c(t,e,r),f(t,e,r),l(t,e,r))}}if(t.isSymbolNode(n)&&"end"===n.name){var h=Object.create(r);h.end=!0;var m=n._compile(e,h);return function(t,r,n){var i=e.size(n).valueOf(),a=Object.create(r);return a.end=i[o],m(t,a,n)}}var y=n._compile(e,r);return function(t,e,r){return y(t,e,r)}});return function(t,r,i){var a=n(o,function(e){return e(t,r,i)});return e.index.apply(e,a)}},f.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},f.prototype.map=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new f(e)},f.prototype.clone=function(){return new f(this.dimensions.slice(0))},f.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&t.isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},f.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},f.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},f.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},f.fromJSON=function(t){return new f(t.dimensions,t.dotNotation)},f.prototype.toHTML=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+o(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},f.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},f}},BLb5:function(t,e,r){"use strict";var n=r("Z2I/").clone;e.name="algorithm14",e.factory=function(t,e,r,o){var i=t.DenseMatrix;return function(t,e,r,a){var s,u=t._data,c=t._size,f=t._datatype,p=r;"string"==typeof f&&(s=f,e=o.convert(e,s),p=o.find(r,[s,s]));var l=c.length>0?function t(e,r,n,o,i,a,s){var u=[];if(r===n.length-1)for(var c=0;c<o;c++)u[c]=s?e(a,i[c]):e(i[c],a);else for(var f=0;f<o;f++)u[f]=t(e,r+1,n,n[r+1],i[f],a,s);return u}(p,0,c,c[0],u,e,a):[];return new i({data:l,size:n(c),datatype:s})}}},BSwV:function(t,e,r){"use strict";t.exports=[r("Nsef"),r("BdOc"),r("o0nB"),r("n+Sg")]},BdOc:function(t,e,r){"use strict";var n=r("1stm");e.name="not",e.factory=function(t,e,o,i){var a=r("bFQJ"),s=i("not",{number:function(t){return!t},Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return null===t.value||s(t.value)},"Array | Matrix":function(t){return n(t,s)}});return s.toTex={1:a.operators.not+"\\left(${args[0]}\\right)"},s}},C8y5:function(t,e,r){"use strict";t.exports={end:!0}},CaZ0:function(t,e,r){"use strict";var n=r("199F").isInteger,o=r("sTyi").size;e.name="pow",e.factory=function(t,e,i,a){var s=r("bFQJ"),u=i(r("MKmT")),c=i(r("NU+P")),f=i(r("R4H5")),p=i(r("wJ/n")),l=i(r("78Py")),h=a("pow",{"number, number":m,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(r,n){return n.isInteger()||r>=0||e.predictable?r.pow(n):new t.Complex(r.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(t,r){if(1!==r.d){if(e.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return m(t.valueOf(),r.valueOf())}return t.pow(r)},"Array, number":y,"Array, BigNumber":function(t,e){return y(t,e.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(t,e){return d(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function m(r,o){if(e.predictable&&!n(o)&&r<0)try{var i=p(o),a=l(i);if((o===a||Math.abs((o-a)/o)<1e-14)&&i.d%2==1)return(i.n%2==0?1:-1)*Math.pow(-r,o)}catch(t){}return r*r<1&&o===1/0||r*r>1&&o===-1/0?0:e.predictable&&(r<-1&&o===1/0||r>-1&&r<0&&o===-1/0)?NaN:n(o)||r>=0||e.predictable?Math.pow(r,o):new t.Complex(r,0).pow(o,0)}function y(t,e){if(!n(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=o(t);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var i=u(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(i=c(a,i)),e>>=1,a=c(a,a);return i}function d(t,e){return f(y(t.valueOf(),e))}return h.toTex={2:"\\left(${args[0]}\\right)".concat(s.operators.pow,"{${args[1]}}")},h}},D2JG:function(t,e,r){"use strict";e.factory=function(t,e,n,o){var i=n(r("uUDd"));return function(t,e,r){var n;return-1!==String(t).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+i(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):-1!==String(t).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+i(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}}},Dnvl:function(t,e,r){"use strict";var n=r("Tb0o"),o=r("bFQJ"),i=r("PXUV").escape;e.name="RelationalNode",e.path="expression.node",e.factory=function(t,e,a,s){var u=a(r("K6lB")),c=r("4bae").getSafeProperty;function f(t,e){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e}return f.prototype=new u,f.prototype.type="RelationalNode",f.prototype.isRelationalNode=!0,f.prototype._compile=function(t,e){var r=this,n=this.params.map(function(r){return r._compile(t,e)});return function(e,o,i){for(var a,s=n[0](e,o,i),u=0;u<r.conditionals.length;u++)if(a=s,s=n[u+1](e,o,i),!c(t,r.conditionals[u])(a,s))return!1;return!0}},f.prototype.forEach=function(t){var e=this;this.params.forEach(function(r,n){return t(r,"params["+n+"]",e)},this)},f.prototype.map=function(t){var e=this;return new f(this.conditionals.slice(),this.params.map(function(r,n){return e._ifNode(t(r,"params["+n+"]",e))},this))},f.prototype.clone=function(){return new f(this.conditionals,this.params)},f.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=n.getPrecedence(this,e),o=this.params.map(function(o,i){var a=n.getPrecedence(o,e);return"all"===e||null!==a&&a<=r?"("+o.toString(t)+")":o.toString(t)}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=o[0],s=0;s<this.conditionals.length;s++)a+=" "+i[this.conditionals[s]]+" "+o[s+1];return a},f.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},f.fromJSON=function(t){return new f(t.conditionals,t.params)},f.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=n.getPrecedence(this,e),o=this.params.map(function(o,i){var a=n.getPrecedence(o,e);return"all"===e||null!==a&&a<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+o.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':o.toHTML(t)}),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=o[0],u=0;u<this.conditionals.length;u++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(a[this.conditionals[u]])+"</span>"+o[u+1];return s},f.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=n.getPrecedence(this,e),i=this.params.map(function(o,i){var a=n.getPrecedence(o,e);return"all"===e||null!==a&&a<=r?"\\left("+o.toTex(t)+"\right)":o.toTex(t)}),a=i[0],s=0;s<this.conditionals.length;s++)a+=o.operators[this.conditionals[s]]+i[s+1];return a},f}},"Dq+S":function(t,e,r){"use strict";var n=r("Z2I/");e.format=function(t,r){if("function"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var o,i="auto";switch(void 0!==r&&(r.notation&&(i=r.notation),"number"==typeof r?o=r:r.precision&&(o=r.precision)),i){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"auto":if(r&&r.exponential&&(void 0!==r.exponential.lower||void 0!==r.exponential.upper)){var a=n.map(r,function(t){return t});return a.exponential=void 0,void 0!==r.exponential.lower&&(a.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),void 0!==r.exponential.upper&&(a.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(a)),e.format(t,a)}var s=r&&void 0!==r.lowerExp?r.lowerExp:-3,u=r&&void 0!==r.upperExp?r.upperExp:5;if(t.isZero())return"0";var c=t.e;return(c>=s&&c<u?t.toSignificantDigits(o).toFixed():e.toExponential(t,o)).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e)}},ESPO:function(t,e,r){"use strict";function n(t,e,r,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=o,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(null!=o?"-"+o:"")+" expected)",this.stack=(new Error).stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="ArgumentsError",n.prototype.isArgumentsError=!0,t.exports=n},EjzI:function(t,e,r){"use strict";var n=r("1stm");e.name="ceil",e.factory=function(t,e,r,o){var i=o("ceil",{number:Math.ceil,Complex:function(t){return t.ceil()},BigNumber:function(t){return t.ceil()},Fraction:function(t){return t.ceil()},"Array | Matrix":function(t){return n(t,i,!0)}});return i.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},i}},FC7u:function(t,e,r){"use strict";var n=r("sTyi").size,o=r("3LJV"),i=r("rq6S"),a=r("G23K");e.name="mean",e.factory=function(t,e,s,u){var c=s(r("NEdZ")),f=s(r("rVKH")),p=s(r("D2JG")),l=u("mean",{"Array | Matrix":h,"Array | Matrix, number | BigNumber":function(t,e){try{var r=i(t,e,c),o=Array.isArray(t)?n(t):t.size();return f(r,o[e])}catch(t){throw p(t,"mean")}},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function mean");return h(t)}});return l.toTex=void 0,l;function h(t){var e=0,r=0;if(o(t,function(t){try{e=c(e,t),r++}catch(e){throw p(e,"mean",t)}}),0===r)throw new Error("Cannot calculate mean of an empty array");return f(e,r)}}},FX2d:function(t,e,r){"use strict";var n=r("bFQJ"),o=r("PXUV").escape,i=r("Z2I/").hasOwnProperty,a=r("4bae").getSafeProperty;e.name="SymbolNode",e.path="expression.node",e.math=!0,e.factory=function(t,e,s,u,c){var f=s(r("K6lB"));function p(e){return!!t.Unit&&t.Unit.isValuelessUnit(e)}function l(t){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}return l.prototype=new f,l.prototype.type="SymbolNode",l.prototype.isSymbolNode=!0,l.prototype._compile=function(e,r){var n=this.name;if(i(r,n))return function(t,e,r){return e[n]};if(n in e)return function(t,r,o){return a(n in t?t:e,n)};var o=p(n);return function(e,r,i){return n in e?a(e,n):o?new t.Unit(null,n):function(t){throw new Error("Undefined symbol "+t)}(n)}},l.prototype.forEach=function(t){},l.prototype.map=function(t){return this.clone()},l.prototype.clone=function(){return new l(this.name)},l.prototype._toString=function(t){return this.name},l.prototype.toHTML=function(t){var e=o(this.name);return"true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},l.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},l.fromJSON=function(t){return new l(t.name)},l.prototype._toTex=function(t){var e=!1;void 0===c[this.name]&&p(this.name)&&(e=!0);var r=n.toSymbol(this.name,e);return"\\"===r[0]?r:" "+r},l}},G23K:function(t,e,r){"use strict";var n=r("HJTy");t.exports=function(t){for(var e=0;e<t.length;e++)if(n(t[e]))return!0;return!1}},"H+Qf":function(t,e,r){"use strict";var n=r("199F").nearlyEqual,o=r("rMK7");e.name="larger",e.factory=function(t,e,i,a){var s=i(r("R4H5")),u=i(r("hYuG")),c=i(r("XXc+")),f=i(r("/z5F")),p=i(r("zbDx")),l=i(r("BLb5")),h=r("bFQJ"),m=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,r){return t>r&&!n(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.gt(r)&&!o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return m(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,m)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,m,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,m,!1)},"DenseMatrix, DenseMatrix":function(t,e){return p(t,e,m)},"Array, Array":function(t,e){return m(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return m(s(t),e)},"Matrix, Array":function(t,e){return m(t,s(e))},"SparseMatrix, any":function(t,e){return f(t,e,m,!1)},"DenseMatrix, any":function(t,e){return l(t,e,m,!1)},"any, SparseMatrix":function(t,e){return f(e,t,m,!0)},"any, DenseMatrix":function(t,e){return l(e,t,m,!0)},"Array, any":function(t,e){return l(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return l(s(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(h.operators.larger,"${args[1]}\\right)")},m}},H3yI:function(t,e,r){},HJTy:function(t,e,r){"use strict";var n=r("6cPB");t.exports=function(t){return Array.isArray(t)||n(t)}},I5O3:function(t,e,r){"use strict";var n=r("3LJV"),o=r("rq6S"),i=r("G23K");e.name="min",e.factory=function(t,e,a,s){var u=a(r("m4e2")),c=a(r("D2JG")),f=s("min",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),p)},"...":function(t){if(i(t))throw new TypeError("Scalar values expected in function min");return l(t)}});return f.toTex="\\min\\left(${args}\\right)",f;function p(t,e){try{return u(t,e)?t:e}catch(t){throw c(t,"min",e)}}function l(t){var e;if(n(t,function(t){try{isNaN(t)&&"number"==typeof t?e=NaN:(void 0===e||u(t,e))&&(e=t)}catch(e){throw c(e,"min",t)}}),void 0===e)throw new Error("Cannot calculate min of an empty array");return e}}},Ii65:function(t,e,r){"use strict";var n=r("4bae").getSafeProperty;e.name="AccessorNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(r("K6lB")),s=o(r("2g85"));function u(e,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError('Node expected for parameter "object"');if(!t.isIndexNode(r))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=r,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function c(e){return!(t.isAccessorNode(e)||t.isArrayNode(e)||t.isConstantNode(e)||t.isFunctionNode(e)||t.isObjectNode(e)||t.isParenthesisNode(e)||t.isSymbolNode(e))}return u.prototype=new a,u.prototype.type="AccessorNode",u.prototype.isAccessorNode=!0,u.prototype._compile=function(t,e){var r=this.object._compile(t,e),o=this.index._compile(t,e);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(t,e,o){return n(r(t,e,o),i)}}return function(t,e,n){var i=r(t,e,n),a=o(t,e,i);return s(i,a)}},u.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},u.prototype.map=function(t){return new u(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},u.prototype.clone=function(){return new u(this.object,this.index)},u.prototype._toString=function(t){var e=this.object.toString(t);return c(this.object)&&(e="("+e+")"),e+this.index.toString(t)},u.prototype.toHTML=function(t){var e=this.object.toHTML(t);return c(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},u.prototype._toTex=function(t){var e=this.object.toTex(t);return c(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},u.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},u.fromJSON=function(t){return new u(t.object,t.index)},u}},JrXr:function(t,e,r){"use strict";var n=r("wOJ8");e.mixin=function(t){var e=new n;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},K6lB:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("C8y5"),i=r("Z2I/").deepEqual,a=r("Z2I/").hasOwnProperty;e.name="Node",e.path="expression.node",e.math=!0,e.factory=function(t,e,r,s,u){function c(){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator")}return c.prototype.eval=function(t){return this.compile().eval(t)},c.prototype.type="Node",c.prototype.isNode=!0,c.prototype.comment="",c.prototype.compile=function(){var t=this._compile(u.expression.mathWithTransform,{}),e={};return{eval:function(r){var n=r||{};return function(t){for(var e in t)if(a(t,e)&&e in o)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(n),t(n,e,null)}}},c.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},c.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},c.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},c.prototype._ifNode=function(e){if(!t.isNode(e))throw new TypeError("Callback function must return a Node");return e},c.prototype.traverse=function(t){t(this,null,null),function t(e,r){e.forEach(function(e,n,o){r(e,n,o),t(e,r)})}(this,t)},c.prototype.transform=function(t){return function t(e,r){return e.map(function(e,n,o){return t(r(e,n,o),r)})}(t(this,null,null),t)},c.prototype.filter=function(t){var e=[];return this.traverse(function(r,n,o){t(r,n,o)&&e.push(r)}),e},c.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},c.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},c.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},c.prototype.cloneDeep=function(){return this.map(function(t){return t.cloneDeep()})},c.prototype.equals=function(t){return!!t&&i(this,t)},c.prototype.toString=function(t){var e;if(t&&"object"===n(t))switch(n(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},c.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},c.prototype.toHTML=function(t){var e;if(t&&"object"===n(t))switch(n(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},c.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},c.prototype.toTex=function(t){var e;if(t&&"object"===n(t))switch(n(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},c.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},c.prototype.getIdentifier=function(){return this.type},c.prototype.getContent=function(){return this},c}},LHK7:function(t,e,r){"use strict";e.array=r("sTyi"),e.boolean=r("NJZR"),e.function=r("0dEn"),e.number=r("199F"),e.object=r("Z2I/"),e.string=r("PXUV"),e.emitter=r("JrXr")},"MI9+":function(t,e,r){"use strict";var n=r("1stm");e.name="bignumber",e.factory=function(t,e,r,o){var i=o("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d).times(e.s)},null:function(e){return new t.BigNumber(0)},"Array | Matrix":function(t){return n(t,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)"},i}},MKmT:function(t,e,r){"use strict";var n=r("sTyi"),o=r("199F").isInteger;e.name="identity",e.factory=function(t,e,i,a){var s=i(r("R4H5")),u=a("identity",{"":function(){return"Matrix"===e.matrix?s([]):[]},string:function(t){return s(t)},"number | BigNumber":function(t){return f(t,t,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return f(t,t,e)},"number | BigNumber, number | BigNumber":function(t,r){return f(t,r,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return f(t,e,r)},Array:function(t){return c(t)},"Array, string":function(t,e){return c(t,e)},Matrix:function(t){return c(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return c(t.valueOf(),e)}});return u.toTex=void 0,u;function c(t,e){switch(t.length){case 0:return e?s(e):[];case 1:return f(t[0],t[0],e);case 2:return f(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function f(e,r,i){var a=t.isBigNumber(e)||t.isBigNumber(r)?t.BigNumber:null;if(t.isBigNumber(e)&&(e=e.toNumber()),t.isBigNumber(r)&&(r=r.toNumber()),!o(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!o(r)||r<1)throw new Error("Parameters in function identity must be positive integers");var s=a?new t.BigNumber(1):1,u=a?new a(0):0,c=[e,r];if(i)return t.Matrix.storage(i).diagonal(c,s,0,u);for(var f=n.resize([],c,u),p=e<r?e:r,l=0;l<p;l++)f[l][l]=s;return f}}},MUdo:function(t,e,r){"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var o=r("ESPO"),i=r("1stm");e.name="parse",e.path="expression",e.factory=function(t,e,a,s){var u=a(r("7lEX")),c=a(r("Ii65")),f=a(r("v0wB")),p=a(r("uxtw")),l=a(r("l41f")),h=a(r("35fj")),m=a(r("kip4")),y=a(r("p2yA")),d=a(r("AGIY")),v=a(r("RYjE")),g=a(r("ut+i")),x=a(r("+6pz")),w=a(r("Z+Vt")),b=a(r("uPaw")),N=a(r("Dnvl")),E=a(r("FX2d"));function S(e,r){if(1!==arguments.length&&2!==arguments.length)throw new o("parse",arguments.length,1,2);var n=r&&r.nodes?r.nodes:{};if("string"==typeof e)return L(e,n);if(Array.isArray(e)||e instanceof t.Matrix)return i(e,function(t){if("string"!=typeof t)throw new TypeError("String expected");return L(t,n)});throw new TypeError("String or matrix expected")}var M={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},O={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},_={true:!0,false:!1,null:null,undefined:void 0},T=["NaN","Infinity"];function j(t,e){return t.expression.substr(t.index,e)}function k(t){return j(t,1)}function P(t){t.index++}function C(t){return t.expression.charAt(t.index-1)}function D(t){return t.expression.charAt(t.index+1)}function z(t){for(t.tokenType=M.NULL,t.token="",t.comment="";S.isWhitespace(k(t),t.nestingLevel);)P(t);if("#"===k(t))for(;"\n"!==k(t)&&""!==k(t);)t.comment+=k(t),P(t);if(""!==k(t)){if("\n"===k(t)&&!t.nestingLevel)return t.tokenType=M.DELIMITER,t.token=k(t),void P(t);var e=k(t),r=j(t,2),n=j(t,3);if(3===n.length&&O[n])return t.tokenType=M.DELIMITER,t.token=n,P(t),P(t),void P(t);if(2===r.length&&O[r])return t.tokenType=M.DELIMITER,t.token=r,P(t),void P(t);if(O[e])return t.tokenType=M.DELIMITER,t.token=e,void P(t);if(S.isDigitDot(e)){if(t.tokenType=M.NUMBER,"."===k(t))t.token+=k(t),P(t),S.isDigit(k(t))||(t.tokenType=M.DELIMITER);else{for(;S.isDigit(k(t));)t.token+=k(t),P(t);S.isDecimalMark(k(t),D(t))&&(t.token+=k(t),P(t))}for(;S.isDigit(k(t));)t.token+=k(t),P(t);if("E"===k(t)||"e"===k(t))if(S.isDigit(D(t))||"-"===D(t)||"+"===D(t)){if(t.token+=k(t),P(t),"+"!==k(t)&&"-"!==k(t)||(t.token+=k(t),P(t)),!S.isDigit(k(t)))throw at(t,'Digit expected, got "'+k(t)+'"');for(;S.isDigit(k(t));)t.token+=k(t),P(t);if(S.isDecimalMark(k(t),D(t)))throw at(t,'Digit expected, got "'+k(t)+'"')}else if("."===D(t))throw P(t),at(t,'Digit expected, got "'+k(t)+'"')}else{if(!S.isAlpha(k(t),C(t),D(t))){for(t.tokenType=M.UNKNOWN;""!==k(t);)t.token+=k(t),P(t);throw at(t,'Syntax error in part "'+t.token+'"')}for(;S.isAlpha(k(t),C(t),D(t))||S.isDigit(k(t));)t.token+=k(t),P(t);A.hasOwnProperty(t.token)?t.tokenType=M.DELIMITER:t.tokenType=M.SYMBOL}}else t.tokenType=M.DELIMITER}function B(t){do{z(t)}while("\n"===t.token)}function F(t){t.nestingLevel++}function I(t){t.nestingLevel--}function L(t,e){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:M.NULL,nestingLevel:0,conditionalLevel:null};n(r,{expression:t,extraNodes:e}),z(r);var o=function(t){var e,r,n=[];for(""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=R(t)).comment=t.comment);"\n"===t.token||";"===t.token;)0===n.length&&e&&(r=";"!==t.token,n.push({node:e,visible:r})),z(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=R(t)).comment=t.comment,r=";"!==t.token,n.push({node:e,visible:r}));return n.length>0?new l(n):(e||((e=new m(void 0)).comment=t.comment),e)}(r);if(""!==r.token)throw r.tokenType===M.DELIMITER?st(r,"Unexpected operator "+r.token):at(r,'Unexpected part "'+r.token+'"');return o}function R(e){var r,n,o,i,a=function(t){for(var e=function(t){for(var e=U(t);"or"===t.token;)B(t),e=new g("or","or",[e,U(t)]);return e}(t);"?"===t.token;){var r=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,B(t);var n=e,o=R(t);if(":"!==t.token)throw at(t,"False part of conditional expression expected");t.conditionalLevel=null,B(t);var i=R(t);e=new h(n,o,i),t.conditionalLevel=r}return e}(e);if("="===e.token){if(t.isSymbolNode(a))return r=a.name,B(e),o=R(e),new p(new E(r),o);if(t.isAccessorNode(a))return B(e),o=R(e),new p(a.object,a.index,o);if(t.isFunctionNode(a)&&t.isSymbolNode(a.fn)&&(i=!0,n=[],r=a.name,a.args.forEach(function(e,r){t.isSymbolNode(e)?n[r]=e.name:i=!1}),i))return B(e),o=R(e),new y(r,n,o);throw at(e,"Invalid left hand side of assignment operator =")}return a}function U(t){for(var e=J(t);"xor"===t.token;)B(t),e=new g("xor","xor",[e,J(t)]);return e}function J(t){for(var e=H(t);"and"===t.token;)B(t),e=new g("and","and",[e,H(t)]);return e}function H(t){for(var e=X(t);"|"===t.token;)B(t),e=new g("|","bitOr",[e,X(t)]);return e}function X(t){for(var e=q(t);"^|"===t.token;)B(t),e=new g("^|","bitXor",[e,q(t)]);return e}function q(t){for(var e=W(t);"&"===t.token;)B(t),e=new g("&","bitAnd",[e,W(t)]);return e}function W(t){for(var e=[V(t)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};n.hasOwnProperty(t.token);){var o={name:t.token,fn:n[t.token]};r.push(o),B(t),e.push(V(t))}return 1===e.length?e[0]:2===e.length?new g(r[0].name,r[0].fn,e):new N(r.map(function(t){return t.fn}),e)}function V(t){var e,r,n,o,i;for(e=Z(t),r={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};r.hasOwnProperty(t.token);)o=r[n=t.token],B(t),i=[e,Z(t)],e=new g(n,o,i);return e}function Z(t){var e,r,n,o,i;for(e=$(t),r={to:"to",in:"to"};r.hasOwnProperty(t.token);)o=r[n=t.token],B(t),"in"===n&&""===t.token?e=new g("*","multiply",[e,new E("in")],!0):(i=[e,$(t)],e=new g(n,o,i));return e}function $(t){var e,r=[];if(e=":"===t.token?new m(1):K(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(r.push(e);":"===t.token&&r.length<3;)B(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?r.push(new E("end")):r.push(K(t));e=3===r.length?new b(r[0],r[2],r[1]):new b(r[0],r[1])}return e}function K(t){var e,r,n,o,i;for(e=Q(t),r={"+":"add","-":"subtract"};r.hasOwnProperty(t.token);)o=r[n=t.token],B(t),i=[e,Q(t)],e=new g(n,o,i);return e}function Q(t){var e,r,n,o,i;for(r=e=G(t),n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};n.hasOwnProperty(t.token);)i=n[o=t.token],B(t),r=G(t),e=new g(o,i,[e,r]);return e}function G(e){var r,n;for(n=r=Y(e);e.tokenType===M.SYMBOL||"in"===e.token&&t.isConstantNode(r)||!(e.tokenType!==M.NUMBER||t.isConstantNode(n)||t.isOperatorNode(n)&&"!"!==n.op)||"("===e.token;)n=Y(e),r=new g("*","multiply",[r,n],!0);return r}function Y(e){for(var r=tt(e),o=r,i=[];"/"===e.token&&t.isConstantNode(o);){if(i.push(n({},e)),B(e),e.tokenType!==M.NUMBER){n(e,i.pop());break}if(i.push(n({},e)),B(e),e.tokenType!==M.SYMBOL&&"("!==e.token){i.pop(),n(e,i.pop());break}n(e,i.pop()),i.pop(),o=tt(e),r=new g("/","divide",[r,o])}return r}function tt(t){var r,n,o,i={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return i.hasOwnProperty(t.token)?(o=i[t.token],r=t.token,B(t),n=[tt(t)],new g(r,o,n)):function(t){var r,n,o,i;return r=function(t){var r,n,o,i;for(r=function(t){var r=[];if(t.tokenType===M.SYMBOL&&t.extraNodes.hasOwnProperty(t.token)){var n=t.extraNodes[t.token];if(z(t),"("===t.token){if(r=[],F(t),z(t),")"!==t.token)for(r.push(R(t));","===t.token;)z(t),r.push(R(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");I(t),z(t)}return new n(r)}return function(t){var r,n;return t.tokenType===M.SYMBOL||t.tokenType===M.DELIMITER&&t.token in A?(n=t.token,z(t),r=_.hasOwnProperty(n)?new m(_[n]):-1!==T.indexOf(n)?new m(u(n,"number")):new E(n),r=et(t,r)):function(t){var r,n;return'"'===t.token?(n=rt(t),r=new m(n),r=et(t,r)):function(t){var r,n;return"'"===t.token?(n=nt(t),r=new m(n),r=et(t,r)):function(t){var r,n,o,i;if("["===t.token){if(F(t),z(t),"]"!==t.token){var a=ot(t);if(";"===t.token){for(o=1,n=[a];";"===t.token;)z(t),n[o]=ot(t),o++;if("]"!==t.token)throw at(t,"End of matrix ] expected");I(t),z(t),i=n[0].items.length;for(var s=1;s<o;s++)if(n[s].items.length!==i)throw st(t,"Column dimensions mismatch ("+n[s].items.length+" !== "+i+")");r=new f(n)}else{if("]"!==t.token)throw at(t,"End of matrix ] expected");I(t),z(t),r=a}}else I(t),z(t),r=new f([]);return et(t,r)}return function(t){if("{"===t.token){var r;F(t);var n={};do{if(z(t),"}"!==t.token){if('"'===t.token)r=rt(t);else if("'"===t.token)r=nt(t);else{if(t.tokenType!==M.SYMBOL)throw at(t,"Symbol or string expected as object key");r=t.token,z(t)}if(":"!==t.token)throw at(t,"Colon : expected after object key");z(t),n[r]=R(t)}}while(","===t.token);if("}"!==t.token)throw at(t,"Comma , or bracket } expected after object value");I(t),z(t);var o=new v(n);return o=et(t,o)}return function(t){var r;return t.tokenType===M.NUMBER?(r=t.token,z(t),new m(u(r,e.number))):function(t){var e;if("("===t.token){if(F(t),z(t),e=R(t),")"!==t.token)throw at(t,"Parenthesis ) expected");return I(t),z(t),e=new x(e),e=et(t,e)}return function(t){throw""===t.token?at(t,"Unexpected end of expression"):at(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t),n={"!":"factorial","'":"ctranspose"};n.hasOwnProperty(t.token);)o=t.token,i=n[o],z(t),r=new g(o,i,[r]),r=et(t,r);return r}(t),("^"===t.token||".^"===t.token)&&(n=t.token,o="^"===n?"pow":"dotPow",B(t),i=[r,tt(t)],r=new g(n,o,i)),r}(t)}function et(e,r,n){for(var o;!("("!==e.token&&"["!==e.token&&"."!==e.token||n&&-1===n.indexOf(e.token));)if(o=[],"("===e.token){if(!t.isSymbolNode(r)&&!t.isAccessorNode(r))return r;if(F(e),z(e),")"!==e.token)for(o.push(R(e));","===e.token;)z(e),o.push(R(e));if(")"!==e.token)throw at(e,"Parenthesis ) expected");I(e),z(e),r=new w(r,o)}else if("["===e.token){if(F(e),z(e),"]"!==e.token)for(o.push(R(e));","===e.token;)z(e),o.push(R(e));if("]"!==e.token)throw at(e,"Parenthesis ] expected");I(e),z(e),r=new c(r,new d(o))}else{if(z(e),e.tokenType!==M.SYMBOL)throw at(e,"Property name expected after dot");o.push(new m(e.token)),z(e),r=new c(r,new d(o,!0))}return r}function rt(t){for(var e="";""!==k(t)&&'"'!==k(t);)"\\"===k(t)&&(e+=k(t),P(t)),e+=k(t),P(t);if(z(t),'"'!==t.token)throw at(t,'End of string " expected');return z(t),JSON.parse('"'+e+'"')}function nt(t){for(var e="";""!==k(t)&&"'"!==k(t);)"\\"===k(t)&&(e+=k(t),P(t)),e+=k(t),P(t);if(z(t),"'"!==t.token)throw at(t,"End of string ' expected");return z(t),JSON.parse('"'+e+'"')}function ot(t){for(var e=[R(t)],r=1;","===t.token;)z(t),e[r]=R(t),r++;return new f(e)}function it(t){return t.index-t.token.length+1}function at(t,e){var r=it(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function st(t,e){var r=it(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return S.isAlpha=function(t,e,r){return S.isValidLatinOrGreek(t)||S.isValidMathSymbol(t,r)||S.isValidMathSymbol(e,t)},S.isValidLatinOrGreek=function(t){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},S.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},S.isWhitespace=function(t,e){return" "===t||"\t"===t||"\n"===t&&e>0},S.isDecimalMark=function(t,e){return"."===t&&"/"!==e&&"*"!==e&&"^"!==e},S.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},S.isDigit=function(t){return t>="0"&&t<="9"},S}},MVZn:function(t,e,r){var n=r("lSNA");t.exports=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(e){n(t,e,r[e])})}return t}},MmBA:function(t,e){function r(t){var e=[];for(var r in t)e.push(r);return e}(t.exports="function"==typeof Object.keys?Object.keys:r).shim=r},MqKi:function(t,e,r){"use strict";var n=r("X8kj");e.name="algorithm04",e.factory=function(t,e,o,i){var a=o(r("hj6K")),s=t.SparseMatrix;return function(t,e,r){var o=t._values,u=t._index,c=t._ptr,f=t._size,p=t._datatype,l=e._values,h=e._index,m=e._ptr,y=e._size,d=e._datatype;if(f.length!==y.length)throw new n(f.length,y.length);if(f[0]!==y[0]||f[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+y+")");var v,g=f[0],x=f[1],w=a,b=0,N=r;"string"==typeof p&&p===d&&(v=p,w=i.find(a,[v,v]),b=i.convert(0,v),N=i.find(r,[v,v]));var E,S,M,O,A,_=o&&l?[]:void 0,T=[],j=[],k=new s({values:_,index:T,ptr:j,size:[g,x],datatype:v}),P=o&&l?[]:void 0,C=o&&l?[]:void 0,D=[],z=[];for(S=0;S<x;S++){j[S]=T.length;var B=S+1;for(O=c[S],A=c[S+1],M=O;M<A;M++)E=u[M],T.push(E),D[E]=B,P&&(P[E]=o[M]);for(O=m[S],A=m[S+1],M=O;M<A;M++)if(D[E=h[M]]===B){if(P){var F=N(P[E],l[M]);w(F,b)?D[E]=null:P[E]=F}}else T.push(E),z[E]=B,C&&(C[E]=l[M]);if(P&&C)for(M=j[S];M<T.length;)D[E=T[M]]===B?(_[M]=P[E],M++):z[E]===B?(_[M]=C[E],M++):T.splice(M,1)}return j[x]=T.length,k}}},N5iU:function(t,e,r){"use strict";var n=r("199F").isInteger,o=r("199F").toFixed,i=r("1stm"),a="Number of decimals in function round must be an integer";function s(t,e){return parseFloat(o(t,e))}e.name="round",e.factory=function(t,e,o,u){var c=o(r("R4H5")),f=o(r("hj6K")),p=o(r("9a6t")),l=o(r("nr1U")),h=o(r("/z5F")),m=o(r("BLb5")),y=u("round",{number:function(t){return s(t,0)},"number, number":function(t,e){if(!n(e))throw new TypeError(a);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return s(t,e)},Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(a);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(a);var r=e.toNumber();return t.round(r)},"number, BigNumber":function(e,r){if(!r.isInteger())throw new TypeError(a);return new t.BigNumber(e).toDecimalPlaces(r.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(a);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(a);return t.round(e)},"Array | Matrix":function(t){return i(t,y,!0)},"SparseMatrix, number | BigNumber":function(t,e){return l(t,e,y,!1)},"DenseMatrix, number | BigNumber":function(t,e){return m(t,e,y,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return f(t,0)?p(e.size(),e.storage()):h(e,t,y,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return f(t,0)?p(e.size(),e.storage()):m(e,t,y,!0)},"Array, number | BigNumber":function(t,e){return m(c(t),e,y,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return m(c(e),t,y,!0).valueOf()}});return y.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},y}},NEdZ:function(t,e,r){"use strict";var n=r("Z2I/").extend;e.name="add",e.factory=function(t,e,o,i){var a=o(r("R4H5")),s=o(r("XXst")),u=r("bFQJ"),c=o(r("eX2I")),f=o(r("MqKi")),p=o(r("v+4T")),l=o(r("zbDx")),h=o(r("BLb5")),m=i("add",n({"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,s)},"DenseMatrix, SparseMatrix":function(t,e){return c(t,e,s,!1)},"SparseMatrix, DenseMatrix":function(t,e){return c(e,t,s,!0)},"SparseMatrix, SparseMatrix":function(t,e){return f(t,e,s)},"Array, Array":function(t,e){return m(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return m(a(t),e)},"Matrix, Array":function(t,e){return m(t,a(e))},"DenseMatrix, any":function(t,e){return h(t,e,s,!1)},"SparseMatrix, any":function(t,e){return p(t,e,s,!1)},"any, DenseMatrix":function(t,e){return h(e,t,s,!0)},"any, SparseMatrix":function(t,e){return p(e,t,s,!0)},"Array, any":function(t,e){return h(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return h(a(e),t,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(t,e,r){for(var n=m(t,e),o=0;o<r.length;o++)n=m(n,r[o]);return n}},s.signatures));return m.toTex={2:"\\left(${args[0]}".concat(u.operators.add,"${args[1]}\\right)")},m}},NJZR:function(t,e,r){"use strict";e.isBoolean=function(t){return"boolean"==typeof t}},"NU+P":function(t,e,r){"use strict";var n=r("Z2I/").extend,o=r("sTyi");e.name="multiply",e.factory=function(t,e,i,a){var s=r("bFQJ"),u=i(r("R4H5")),c=i(r("XXst")),f=i(r("oiZ2")),p=i(r("hj6K")),l=i(r("nr1U")),h=i(r("BLb5")),m=t.DenseMatrix,y=t.SparseMatrix,d=a("multiply",n({"Array, Array":function(e,r){v(o.size(e),o.size(r));var n=d(u(e),u(r));return t.isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return v(r,n),1===r.length?1===n.length?function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");var n,o=t._data,i=t._datatype,s=e._data,u=e._datatype,p=c,l=f;i&&u&&i===u&&"string"==typeof i&&(n=i,p=a.find(c,[n,n]),l=a.find(f,[n,n]));for(var h=l(o[0],s[0]),m=1;m<r;m++)h=p(h,l(o[m],s[m]));return h}(t,e,r[0]):function(t,e){if("dense"!==e.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,e){var r,n=t._data,o=t._size,i=t._datatype,s=e._data,u=e._size,p=e._datatype,l=o[0],h=u[1],y=c,d=f;i&&p&&i===p&&"string"==typeof i&&(r=i,y=a.find(c,[r,r]),d=a.find(f,[r,r]));for(var v=[],g=0;g<h;g++){for(var x=d(n[0],s[0][g]),w=1;w<l;w++)x=y(x,d(n[w],s[w][g]));v[g]=x}return new m({data:v,size:[h],datatype:r})}(t,e)}(t,e):1===n.length?g(t,e):x(t,e)},"Matrix, Array":function(t,e){return d(t,u(e))},"Array, Matrix":function(t,e){return d(u(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return l(t,e,f,!1)},"DenseMatrix, any":function(t,e){return h(t,e,f,!1)},"any, SparseMatrix":function(t,e){return l(e,t,f,!0)},"any, DenseMatrix":function(t,e){return h(e,t,f,!0)},"Array, any":function(t,e){return h(u(t),e,f,!1).valueOf()},"any, Array":function(t,e){return h(u(e),t,f,!0).valueOf()},"any, any":f,"any, any, ...any":function(t,e,r){for(var n=d(t,e),o=0;o<r.length;o++)n=d(n,r[o]);return n}},f.signatures));function v(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var g=a("_multiplyMatrixVector",{"DenseMatrix, any":function(t,e){var r,n=t._data,o=t._size,i=t._datatype,s=e._data,u=e._datatype,p=o[0],l=o[1],h=c,y=f;i&&u&&i===u&&"string"==typeof i&&(r=i,h=a.find(c,[r,r]),y=a.find(f,[r,r]));for(var d=[],v=0;v<p;v++){for(var g=n[v],x=y(g[0],s[0]),w=1;w<l;w++)x=h(x,y(g[w],s[w]));d[v]=x}return new m({data:d,size:[p],datatype:r})},"SparseMatrix, any":function(t,e){var r=t._values,n=t._index,o=t._ptr,i=t._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,l=e._datatype,h=t._size[0],m=e._size[0],d=[],v=[],g=[],x=c,w=f,b=p,N=0;i&&l&&i===l&&"string"==typeof i&&(s=i,x=a.find(c,[s,s]),w=a.find(f,[s,s]),b=a.find(p,[s,s]),N=a.convert(0,s));var E=[],S=[];g[0]=0;for(var M=0;M<m;M++){var O=u[M];if(!b(O,N))for(var A=o[M],_=o[M+1],T=A;T<_;T++){var j=n[T];S[j]?E[j]=x(E[j],w(O,r[T])):(S[j]=!0,v.push(j),E[j]=w(O,r[T]))}}for(var k=v.length,P=0;P<k;P++){var C=v[P];d[P]=E[C]}return g[1]=v.length,new y({values:d,index:v,ptr:g,size:[h,1],datatype:s})}}),x=a("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,e){var r,n=t._data,o=t._size,i=t._datatype,s=e._data,u=e._size,p=e._datatype,l=o[0],h=o[1],y=u[1],d=c,v=f;i&&p&&i===p&&"string"==typeof i&&(r=i,d=a.find(c,[r,r]),v=a.find(f,[r,r]));for(var g=[],x=0;x<l;x++){var w=n[x];g[x]=[];for(var b=0;b<y;b++){for(var N=v(w[0],s[0][b]),E=1;E<h;E++)N=d(N,v(w[E],s[E][b]));g[x][b]=N}}return new m({data:g,size:[l,y],datatype:r})},"DenseMatrix, SparseMatrix":function(t,e){var r=t._data,n=t._size,o=t._datatype,i=e._values,s=e._index,u=e._ptr,l=e._size,h=e._datatype;if(!i)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m,d=n[0],v=l[1],g=c,x=f,w=p,b=0;o&&h&&o===h&&"string"==typeof o&&(m=o,g=a.find(c,[m,m]),x=a.find(f,[m,m]),w=a.find(p,[m,m]),b=a.convert(0,m));for(var N=[],E=[],S=[],M=new y({values:N,index:E,ptr:S,size:[d,v],datatype:m}),O=0;O<v;O++){S[O]=E.length;var A=u[O],_=u[O+1];if(_>A)for(var T=0,j=0;j<d;j++){for(var k=j+1,P=void 0,C=A;C<_;C++){var D=s[C];T!==k?(P=x(r[j][D],i[C]),T=k):P=g(P,x(r[j][D],i[C]))}T!==k||w(P,b)||(E.push(j),N.push(P))}}return S[v]=E.length,M},"SparseMatrix, DenseMatrix":function(t,e){var r=t._values,n=t._index,o=t._ptr,i=t._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,l=e._datatype,h=t._size[0],m=e._size[0],d=e._size[1],v=c,g=f,x=p,w=0;i&&l&&i===l&&"string"==typeof i&&(s=i,v=a.find(c,[s,s]),g=a.find(f,[s,s]),x=a.find(p,[s,s]),w=a.convert(0,s));for(var b=[],N=[],E=[],S=new y({values:b,index:N,ptr:E,size:[h,d],datatype:s}),M=[],O=[],A=0;A<d;A++){E[A]=N.length;for(var _=A+1,T=0;T<m;T++){var j=u[T][A];if(!x(j,w))for(var k=o[T],P=o[T+1],C=k;C<P;C++){var D=n[C];O[D]!==_?(O[D]=_,N.push(D),M[D]=g(j,r[C])):M[D]=v(M[D],g(j,r[C]))}}for(var z=E[A],B=N.length,F=z;F<B;F++){var I=N[F];b[F]=M[I]}}return E[d]=N.length,S},"SparseMatrix, SparseMatrix":function(t,e){var r,n=t._values,o=t._index,i=t._ptr,s=t._datatype,u=e._values,p=e._index,l=e._ptr,h=e._datatype,m=t._size[0],d=e._size[1],v=n&&u,g=c,x=f;s&&h&&s===h&&"string"==typeof s&&(r=s,g=a.find(c,[r,r]),x=a.find(f,[r,r]));for(var w,b,N,E,S,M,O,A,_=v?[]:void 0,T=[],j=[],k=new y({values:_,index:T,ptr:j,size:[m,d],datatype:r}),P=v?[]:void 0,C=[],D=0;D<d;D++){j[D]=T.length;var z=D+1;for(S=l[D],M=l[D+1],E=S;E<M;E++)if(A=p[E],v)for(b=i[A],N=i[A+1],w=b;w<N;w++)O=o[w],C[O]!==z?(C[O]=z,T.push(O),P[O]=x(u[E],n[w])):P[O]=g(P[O],x(u[E],n[w]));else for(b=i[A],N=i[A+1],w=b;w<N;w++)O=o[w],C[O]!==z&&(C[O]=z,T.push(O));if(v)for(var B=j[D],F=T.length,I=B;I<F;I++){var L=T[I];_[I]=P[L]}}return j[d]=T.length,k}});return d.toTex={2:"\\left(${args[0]}".concat(s.operators.multiply,"${args[1]}\\right)")},d}},Nsef:function(t,e,r){"use strict";e.name="and",e.factory=function(t,e,n,o){var i=r("bFQJ"),a=n(r("R4H5")),s=n(r("9a6t")),u=n(r("BdOc")),c=n(r("4fwU")),f=n(r("1d6v")),p=n(r("nr1U")),l=n(r("zbDx")),h=n(r("BLb5")),m=o("and",{"number, number":function(t,e){return!(!t||!e)},"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return m(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return f(t,e,m,!1)},"SparseMatrix, DenseMatrix":function(t,e){return c(e,t,m,!0)},"DenseMatrix, SparseMatrix":function(t,e){return c(t,e,m,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,m)},"Array, Array":function(t,e){return m(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return m(a(t),e)},"Matrix, Array":function(t,e){return m(t,a(e))},"SparseMatrix, any":function(t,e){return u(e)?s(t.size(),t.storage()):p(t,e,m,!1)},"DenseMatrix, any":function(t,e){return u(e)?s(t.size(),t.storage()):h(t,e,m,!1)},"any, SparseMatrix":function(t,e){return u(t)?s(t.size(),t.storage()):p(e,t,m,!0)},"any, DenseMatrix":function(t,e){return u(t)?s(t.size(),t.storage()):h(e,t,m,!0)},"Array, any":function(t,e){return m(a(t),e).valueOf()},"any, Array":function(t,e){return m(t,a(e)).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(i.operators.and,"${args[1]}\\right)")},m}},O1N0:function(t,e,r){"use strict";var n=r("X8kj");function o(t,e){var r=t.size(),o=e.size();if(r.length!==o.length)throw new n(r.length,o.length)}e.name="subtract",e.factory=function(t,e,n,i){var a=r("bFQJ"),s=n(r("R4H5")),u=n(r("XXst")),c=n(r("7DiD")),f=n(r("eX2I")),p=n(r("hYuG")),l=n(r("ZXMR")),h=n(r("v+4T")),m=n(r("zbDx")),y=n(r("BLb5")),d=i("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=d(r.value,e.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e),l(t,e,d)},"SparseMatrix, DenseMatrix":function(t,e){return o(t,e),p(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e),f(t,e,d,!1)},"DenseMatrix, DenseMatrix":function(t,e){return o(t,e),m(t,e,d)},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"SparseMatrix, any":function(t,e){return h(t,c(e),u)},"DenseMatrix, any":function(t,e){return y(t,e,d)},"any, SparseMatrix":function(t,e){return h(e,t,d,!0)},"any, DenseMatrix":function(t,e){return y(e,t,d,!0)},"Array, any":function(t,e){return y(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return y(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(a.operators.subtract,"${args[1]}\\right)")},d}},PXUV:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("199F").format,i=r("Dq+S").format,a=r("pvRk");e.isString=function(t){return"string"==typeof t},e.endsWith=function(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e},e.format=function(t,r){if("number"==typeof t)return o(t,r);if(a(t))return i(t,r);if(function(t){return t&&"object"===n(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t))return r&&"decimal"===r.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return function t(r,n){if(Array.isArray(r)){for(var o="[",i=r.length,a=0;a<i;a++)0!==a&&(o+=", "),o+=t(r[a],n);return o+="]"}return e.format(r,n)}(t,r);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===n(t)){if("function"==typeof t.format)return t.format(r);if(t&&t.toString()!=={}.toString())return t.toString();var s=[];for(var u in t)t.hasOwnProperty(u)&&s.push('"'+u+'": '+e.format(t[u],r));return"{"+s.join(", ")+"}"}return String(t)},e.stringify=function(t){for(var e=String(t),r="",n=0;n<e.length;){var o=e.charAt(n);"\\"===o?(r+=o,n++,""!==(o=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(o)||(r+="\\"),r+=o):r+='"'===o?'\\"':o,n++}return'"'+r+'"'},e.escape=function(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},QILm:function(t,e,r){var n=r("8OQS");t.exports=function(t,e){if(null==t)return{};var r,o,i=n(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)r=a[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}},QfvV:function(t,e,r){"use strict";var n=r("LHK7");e.name="inv",e.factory=function(t,e,o,i){var a=o(r("R4H5")),s=o(r("WPGy")),u=o(r("XXst")),c=o(r("NU+P")),f=o(r("7DiD")),p=o(r("3efQ")),l=o(r("MKmT")),h=o(r("fTxE")),m=i("inv",{"Array | Matrix":function(e){var r=t.isMatrix(e)?e.size():n.array.size(e);switch(r.length){case 1:if(1===r[0])return t.isMatrix(e)?a([s(1,e.valueOf()[0])]):[s(1,e[0])];throw new RangeError("Matrix must be square (size: "+n.string.format(r)+")");case 2:var o=r[0],i=r[1];if(o===i)return t.isMatrix(e)?a(y(e.valueOf(),o,i),e.storage()):y(e,o,i);throw new RangeError("Matrix must be square (size: "+n.string.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+n.string.format(r)+")")}},any:function(t){return s(1,t)}});function y(t,e,r){var n,o,i,a,m;if(1===e){if(0===(a=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[s(1,a)]]}if(2===e){var y=p(t);if(0===y)throw Error("Cannot calculate inverse, determinant is zero");return[[s(t[1][1],y),s(f(t[0][1]),y)],[s(f(t[1][0]),y),s(t[0][0],y)]]}var d=t.concat();for(n=0;n<e;n++)d[n]=d[n].concat();for(var v=l(e).valueOf(),g=0;g<r;g++){var x=h(d[g][g]),w=g;for(n=g+1;n<e;)h(d[n][g])>x&&(x=h(d[n][g]),w=n),n++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(n=w)!==g&&(m=d[g],d[g]=d[n],d[n]=m,m=v[g],v[g]=v[n],v[n]=m);var b=d[g],N=v[g];for(n=0;n<e;n++){var E=d[n],S=v[n];if(n!==g){if(0!==E[g]){for(i=s(f(E[g]),b[g]),o=g;o<r;o++)E[o]=u(E[o],c(i,b[o]));for(o=0;o<r;o++)S[o]=u(S[o],c(i,N[o]))}}else{for(i=b[g],o=g;o<r;o++)E[o]=s(E[o],i);for(o=0;o<r;o++)S[o]=s(S[o],i)}}}return v}return m.toTex={1:"\\left(${args[0]}\\right)^{-1}"},m}},QllX:function(t,e,r){"use strict";var n=r("1stm");e.name="floor",e.factory=function(t,e,r,o){var i=o("floor",{number:Math.floor,Complex:function(t){return t.floor()},BigNumber:function(t){return t.floor()},Fraction:function(t){return t.floor()},"Array | Matrix":function(t){return n(t,i,!0)}});return i.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},i}},R4H5:function(t,e,r){"use strict";e.name="matrix",e.factory=function(t,e,r,n){var o=n("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o;function i(e,r,n){return new(t.Matrix.storage(r||"default"))(e,n)}}},R4gy:function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},i={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(t,e){return n({},t,e)};t.exports=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.preserveFormatting,s=void 0!==r&&r,u=e.escapeMapFn,c=void 0===u?a:u,f=String(t),p="",l=c(n({},o),s?n({},i):{}),h=Object.keys(l),m=function(){var t=!1;h.forEach(function(e,r){t||f.length>=e.length&&f.slice(0,e.length)===e&&(p+=l[h[r]],f=f.slice(e.length,f.length),t=!0)}),t||(p+=f.slice(0,1),f=f.slice(1,f.length))};f;)m();return p}},RYjE:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("PXUV").stringify,i=r("PXUV").escape,a=r("4bae").isSafeProperty,s=r("Z2I/").hasOwnProperty;e.name="ObjectNode",e.path="expression.node",e.factory=function(t,e,u,c){var f=u(r("K6lB"));function p(e){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==n(e)||!Object.keys(e).every(function(r){return t.isNode(e[r])})))throw new TypeError("Object containing Nodes expected")}return p.prototype=new f,p.prototype.type="ObjectNode",p.prototype.isObjectNode=!0,p.prototype._compile=function(t,e){var r={};for(var n in this.properties)if(s(this.properties,n)){var i=o(n),u=JSON.parse(i);if(!a(this.properties,u))throw new Error('No access to property "'+u+'"');r[u]=this.properties[n]._compile(t,e)}return function(t,e,n){var o={};for(var i in r)s(r,i)&&(o[i]=r[i](t,e,n));return o}},p.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],"properties["+o(e)+"]",this)},p.prototype.map=function(t){var e={};for(var r in this.properties)this.properties.hasOwnProperty(r)&&(e[r]=this._ifNode(t(this.properties[r],"properties["+o(r)+"]",this)));return new p(e)},p.prototype.clone=function(){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new p(t)},p.prototype._toString=function(t){var e=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&e.push(o(r)+": "+this.properties[r].toString(t));return"{"+e.join(", ")+"}"},p.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},p.fromJSON=function(t){return new p(t.properties)},p.prototype.toHTML=function(t){var e=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&e.push('<span class="math-symbol math-property">'+i(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},p.prototype._toTex=function(t){var e=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},p}},S2pI:function(t,e,r){"use strict";function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0,t.exports=n},SgCf:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("Z2I/").lazy,i=r("Z2I/").isFactory,a=r("Z2I/").traverse,s=r("ESPO");e.math=!0,e.name="import",e.factory=function(t,e,r,u,c){function f(t,e,r){if(r.wrap&&"function"==typeof e&&(o=function(){for(var t=[],e=0,r=arguments.length;e<r;e++){var o=arguments[e];t[e]=o&&o.valueOf()}return n.apply(c,t)},(n=e).transform&&(o.transform=n.transform),e=o),y(c[t])&&y(e))return e=r.override?u(t,e.signatures):u(c[t],e),c[t]=e,p(t,e),void c.emit("import",t,function(){return e});var n,o;if(void 0===c[t]||r.override)return c[t]=e,p(t,e),void c.emit("import",t,function(){return e});if(!r.silent)throw new Error('Cannot import "'+t+'": already exists')}function p(t,e){e&&"function"==typeof e.transform?(c.expression.transform[t]=e.transform,d(t)&&(c.expression.mathWithTransform[t]=e.transform)):(delete c.expression.transform[t],d(t)&&(c.expression.mathWithTransform[t]=e))}function l(t){delete c.expression.transform[t],d(t)?c.expression.mathWithTransform[t]=c[t]:delete c.expression.mathWithTransform[t]}function h(t,e){if("string"==typeof t.name){var n=t.name,i=n in c.expression.transform,s=t.path?a(c,t.path):c,f=s.hasOwnProperty(n)?s[n]:void 0,p=function(){var o=r(t);if(o&&"function"==typeof o.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(y(f)&&y(o))return e.override||(o=u(f,o)),o;if(void 0===f||e.override)return o;if(!e.silent)throw new Error('Cannot import "'+n+'": already exists')};!1!==t.lazy?(o(s,n,p),i?l(n):("expression.transform"===t.path||v(t))&&o(c.expression.mathWithTransform,n,p)):(s[n]=p(),i?l(n):("expression.transform"===t.path||v(t))&&(c.expression.mathWithTransform[n]=p())),c.emit("import",n,p,t.path)}else r(t)}function m(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||e&&t.isUnit(e)||e&&t.isComplex(e)||e&&t.isBigNumber(e)||e&&t.isFraction(e)||e&&t.isMatrix(e)||e&&Array.isArray(e)}function y(t){return"function"==typeof t&&"object"===n(t.signatures)}function d(t){return!g.hasOwnProperty(t)}function v(t){return void 0===t.path&&!g.hasOwnProperty(t.name)}var g={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function t(e,r){var o=arguments.length;if(1!==o&&2!==o)throw new s("import",o,1,2);if(r||(r={}),i(e))h(e,r);else if(Array.isArray(e))e.forEach(function(e){t(e,r)});else if("object"===n(e)){for(var a in e)if(e.hasOwnProperty(a)){var u=e[a];m(u)?f(a,u,r):i(e)?h(e,r):t(u,r)}}else if(!r.silent)throw new TypeError("Factory, Object, or Array expected")}},e.lazy=!0},Tb0o:function(t,e,r){"use strict";var n=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function o(t,e){var r=t;"keep"!==e&&(r=t.getContent());for(var o=r.getIdentifier(),i=0;i<n.length;i++)if(o in n[i])return i;return null}t.exports.properties=n,t.exports.getPrecedence=o,t.exports.getAssociativity=function(t,e){var r=t;"keep"!==e&&(r=t.getContent());var i=r.getIdentifier(),a=o(r,e);if(null===a)return null;var s=n[a][i];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null},t.exports.isAssociativeWith=function(t,e,r){var i="keep"!==r?t.getContent():t,a="keep"!==r?t.getContent():e,s=i.getIdentifier(),u=a.getIdentifier(),c=o(i,r);if(null===c)return null;var f=n[c][s];if(f.hasOwnProperty("associativeWith")&&f.associativeWith instanceof Array){for(var p=0;p<f.associativeWith.length;p++)if(f.associativeWith[p]===u)return!0;return!1}return null}},V3b4:function(t,e,r){"use strict";var n=r("199F");e.name="Range",e.path="type",e.factory=function(t,e,r,o){function i(e,r,n){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");var o=null!=e,a=null!=r,s=null!=n;if(o)if(t.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(a)if(t.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(s)if(t.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=o?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=s?parseFloat(n):1}return i.prototype.type="Range",i.prototype.isRange=!0,i.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":").map(function(t){return parseFloat(t)});if(e.some(function(t){return isNaN(t)}))return null;switch(e.length){case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[2],e[1]);default:return null}},i.prototype.clone=function(){return new i(this.start,this.end,this.step)},i.prototype.size=function(){var t=0,e=this.start,r=this.step,o=this.end-e;return n.sign(r)===n.sign(o)?t=Math.ceil(o/r):0===o&&(t=0),isNaN(t)&&(t=0),[t]},i.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},i.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},i.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,o=0;if(r>0)for(;e<n;)t(e,[o],this),e+=r,o++;else if(r<0)for(;e>n;)t(e,[o],this),e+=r,o++},i.prototype.map=function(t){var e=[];return this.forEach(function(r,n,o){e[n[0]]=t(r,n,o)}),e},i.prototype.toArray=function(){var t=[];return this.forEach(function(e,r){t[r[0]]=e}),t},i.prototype.valueOf=function(){return this.toArray()},i.prototype.format=function(t){var e=n.format(this.start,t);return 1!==this.step&&(e+=":"+n.format(this.step,t)),e+=":"+n.format(this.end,t)},i.prototype.toString=function(){return this.format()},i.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},i.fromJSON=function(t){return new i(t.start,t.end,t.step)},i}},VBo9:function(e,r){e.exports=t},WPGy:function(t,e,r){"use strict";e.factory=function(t,e,n,o){var i=n(r("7lEX")),a=n(r("uUDd")),s=o("divide",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var r=t.clone(),n=i(1,a(e));return r.value=s(null===r.value?r._normalize(n):r.value,e),r},"number | Fraction | BigNumber, Unit":function(t,e){var r=e.clone();r=r.pow(-1);var n=i(1,a(t));return r.value=s(t,null===e.value?e._normalize(n):e.value),r},"Unit, Unit":function(t,e){return t.divide(e)}});return s}},Wail:function(t,e,r){"use strict";var n=r("Z2I/").clone,o=r("sTyi").validateIndex,i=r("4bae").getSafeProperty,a=r("4bae").setSafeProperty,s=r("X8kj");function u(t,e){if(1!==e.size().length)throw new s(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return i(t,r)}function c(t,e,r){if(1!==e.size().length)throw new s(e.size(),1);var o=e.dimension(0);if("string"!=typeof o)throw new TypeError("String expected as index to retrieve an object property");var i=n(t);return a(i,o,r),i}e.name="subset",e.factory=function(t,e,i,a){var f=i(r("R4H5")),p=a("subset",{"Array, Index":function(t,e){var r=f(t).subset(e);return e.isScalar()?r:r.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":u,"string, Index":function(e,r){if(!t.isIndex(r))throw new TypeError("Index expected");if(1!==r.size().length)throw new s(r.size().length,1);var n=e.length;o(r.min()[0],n),o(r.max()[0],n);var i=r.dimension(0),a="";return i.forEach(function(t){a+=e.charAt(t)}),a},"Array, Index, any":function(t,e,r){return f(n(t)).subset(e,r,void 0).valueOf()},"Array, Index, any, any":function(t,e,r,o){return f(n(t)).subset(e,r,o).valueOf()},"Matrix, Index, any":function(t,e,r){return t.clone().subset(e,r)},"Matrix, Index, any, any":function(t,e,r,n){return t.clone().subset(e,r,n)},"string, Index, string":l,"string, Index, string, string":l,"Object, Index, any":c});return p.toTex=void 0,p;function l(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new s(e.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0);if(i.size()[0]!==r.length)throw new s(i.size()[0],r.length);var a=t.length;o(e.min()[0]),o(e.max()[0]);for(var u=[],c=0;c<a;c++)u[c]=t.charAt(c);if(i.forEach(function(t,e){u[t]=r.charAt(e[0])}),u.length>a)for(var f=a-1,p=u.length;f<p;f++)u[f]||(u[f]=n);return u.join("")}}},Wbaz:function(t,e,r){"use strict";var n=r("1stm");e.name="eval",e.factory=function(t,e,o,i){var a=o(r("MUdo"));return i("compile",{string:function(t){return a(t).compile().eval({})},"string, Object":function(t,e){return a(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return n(t,function(t){return a(t).compile().eval(e)})},"Array | Matrix, Object":function(t,e){return n(t,function(t){return a(t).compile().eval(e)})}})}},X8kj:function(t,e,r){"use strict";function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0,t.exports=n},XDH7:function(t,e,r){"use strict";var n=r("S2pI");e.transform=function(t){return t&&t.isIndexError?new n(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},"XXc+":function(t,e,r){"use strict";var n=r("X8kj");e.name="algorithm07",e.factory=function(t,e,r,o){var i=t.DenseMatrix;function a(t,e,r,n,o){for(var i=t._values,a=t._index,s=t._ptr,u=s[e],c=s[e+1];u<c;u++){var f=a[u];r[f]=o,n[f]=i[u]}}return function(t,e,r){var s=t._size,u=t._datatype,c=e._size,f=e._datatype;if(s.length!==c.length)throw new n(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");var p,l,h,m=s[0],y=s[1],d=0,v=r;"string"==typeof u&&u===f&&(p=u,d=o.convert(0,p),v=o.find(r,[p,p]));var g=[];for(l=0;l<m;l++)g[l]=[];var x=new i({data:g,size:[m,y],datatype:p}),w=[],b=[],N=[],E=[];for(h=0;h<y;h++){var S=h+1;for(a(t,h,N,w,S),a(e,h,E,b,S),l=0;l<m;l++){var M=N[l]===S?w[l]:d,O=E[l]===S?b[l]:d;g[l][h]=v(M,O)}}return x}}},XXst:function(t,e,r){"use strict";e.factory=function(t,e,r,n){var o=n("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=o(r.value,e.value),r.fixPrefix=!1,r}});return o}},"XZ/J":function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("XDH7").transform,i=r("4bae").setSafeProperty;e.factory=function(t,e,a,s){var u=a(r("Wail")),c=a(r("R4H5"));return function(t,e,r){try{if(Array.isArray(t))return c(t).subset(e,r).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,r);if("string"==typeof t)return u(t,e,r);if("object"===n(t)){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return i(t,e.getObjectProperty(),r),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw o(t)}}}},YeEv:function(t,r){t.exports=e},"Z+Vt":function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var i=r("bFQJ"),a=r("PXUV").escape,s=r("Z2I/").hasOwnProperty,u=r("sTyi").map,c=r("4bae").validateSafeMethod,f=r("4bae").getSafeProperty;e.name="FunctionNode",e.path="expression.node",e.math=!0,e.factory=function(t,e,p,l,h){var m=p(r("K6lB")),y=p(r("FX2d"));function d(e,r){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new y(e)),!t.isNode(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(r)||!r.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=r||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}d.prototype=new m,d.prototype.type="FunctionNode",d.prototype.isFunctionNode=!0,d.prototype._compile=function(e,r){if(!(this instanceof d))throw new TypeError("No valid FunctionNode");var n=u(this.args,function(t){return t._compile(e,r)});if(t.isSymbolNode(this.fn)){var i=this.fn.name,a=i in e?f(e,i):void 0;if("function"==typeof a&&!0===a.rawArgs){var s=this.args;return function(t,r,n){return(i in t?f(t,i):a)(s,e,o({},t,r))}}if(1===n.length){var p=n[0];return function(t,e,r){return(i in t?f(t,i):a)(p(t,e,r))}}if(2===n.length){var l=n[0],h=n[1];return function(t,e,r){return(i in t?f(t,i):a)(l(t,e,r),h(t,e,r))}}return function(t,e,r){return(i in t?f(t,i):a).apply(null,u(n,function(n){return n(t,e,r)}))}}if(t.isAccessorNode(this.fn)&&t.isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var m=this.fn.object._compile(e,r),y=this.fn.index.getObjectProperty(),v=this.args;return function(t,r,i){var a=m(t,r,i);return c(a,y),a[y]&&a[y].rawArgs?a[y](v,e,o({},t,r)):a[y].apply(a,u(n,function(e){return e(t,r,i)}))}}var g=this.fn._compile(e,r),x=this.args;return function(t,r,i){var a=g(t,r,i);return a&&a.rawArgs?a(x,e,o({},t,r)):a.apply(a,u(n,function(e){return e(t,r,i)}))}},d.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},d.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new d(e,r)},d.prototype.clone=function(){return new d(this.fn,this.args.slice(0))};var v=d.prototype.toString;function g(e,r,o){for(var i,a="",s=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),u=0;null!==(i=s.exec(e));)if(a+=e.substring(u,i.index),u=i.index,"$$"===i[0])a+="$",u++;else{u+=i[0].length;var c=r[i[1]];if(!c)throw new ReferenceError("Template: Property "+i[1]+" does not exist.");if(void 0===i[2])switch(n(c)){case"string":a+=c;break;case"object":if(t.isNode(c))a+=c.toTex(o);else{if(!Array.isArray(c))throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes");a+=c.map(function(e,r){if(t.isNode(e))return e.toTex(o);throw new TypeError("Template: "+i[1]+"["+r+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes")}else{if(!t.isNode(c[i[2]]&&c[i[2]]))throw new TypeError("Template: "+i[1]+"["+i[2]+"] is not a Node.");a+=c[i[2]].toTex(o)}}return a+=e.slice(u)}d.prototype.toString=function(t){var e,r=this.fn.toString(t);return t&&"object"===n(t.handler)&&s(t.handler,r)&&(e=t.handler[r](this,t)),void 0!==e?e:v.call(this,t)},d.prototype._toString=function(e){var r=this.args.map(function(t){return t.toString(e)});return(t.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+r.join(", ")+")"},d.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},d.fromJSON=function(t){return new d(t.fn,t.args)},d.prototype.toHTML=function(t){var e=this.args.map(function(e){return e.toHTML(t)});return'<span class="math-function">'+a(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var x=d.prototype.toTex;return d.prototype.toTex=function(t){var e;return t&&"object"===n(t.handler)&&s(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:x.call(this,t)},d.prototype._toTex=function(t){var e,r,o=this.args.map(function(e){return e.toTex(t)});switch(!h[this.name]||"function"!=typeof h[this.name].toTex&&"object"!==n(h[this.name].toTex)&&"string"!=typeof h[this.name].toTex||(e=h[this.name].toTex),n(e)){case"function":r=e(this,t);break;case"string":r=g(e,this,t);break;case"object":switch(n(e[o.length])){case"function":r=e[o.length](this,t);break;case"string":r=g(e[o.length],this,t)}}return void 0!==r?r:g(i.defaultTemplate,this,t)},d.prototype.getIdentifier=function(){return this.type+":"+this.name},d}},"Z+cb":function(t,e,r){"use strict";var n=r("3LJV"),o=r("rq6S"),i=r("G23K");e.name="sum",e.factory=function(t,e,a,s){var u=a(r("XXst")),c=a(r("D2JG")),f=s("sum",{"Array | Matrix":p,"Array | Matrix, number | BigNumber":function(t,e){try{var r=o(t,e,u);return r}catch(t){throw c(t,"sum")}},"...":function(t){if(i(t))throw new TypeError("Scalar values expected in function sum");return p(t)}});return f.toTex=void 0,f;function p(r){var o;if(n(r,function(t){try{o=void 0===o?t:u(o,t)}catch(e){throw c(e,"sum",t)}}),void 0===o)switch(e.number){case"number":return 0;case"BigNumber":return new t.BigNumber(0);case"Fraction":return new t.Fraction(0);default:return 0}return o}}},"Z2I/":function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("pvRk");e.clone=function t(r){var i=n(r);if("number"===i||"string"===i||"boolean"===i||null==r)return r;if("function"==typeof r.clone)return r.clone();if(Array.isArray(r))return r.map(function(e){return t(e)});if(r instanceof Date)return new Date(r.valueOf());if(o(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return e.map(r,t)},e.map=function(t,r){var n={};for(var o in t)e.hasOwnProperty(t,o)&&(n[o]=r(t[o]));return n},e.extend=function(t,r){for(var n in r)e.hasOwnProperty(r,n)&&(t[n]=r[n]);return t},e.deepExtend=function t(r,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var o in n)if(e.hasOwnProperty(n,o))if(n[o]&&n[o].constructor===Object)void 0===r[o]&&(r[o]={}),r[o].constructor===Object?t(r[o],n[o]):r[o]=n[o];else{if(Array.isArray(n[o]))throw new TypeError("Arrays are not supported by deepExtend");r[o]=n[o]}return r},e.deepEqual=function(t,r){var n,o,i;if(Array.isArray(t)){if(!Array.isArray(r))return!1;if(t.length!==r.length)return!1;for(o=0,i=t.length;o<i;o++)if(!e.deepEqual(t[o],r[o]))return!1;return!0}if(t instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in t)if(!e.deepEqual(t[n],r[n]))return!1;for(n in r)if(!e.deepEqual(t[n],r[n]))return!1;return!0}return t===r},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,r,n){if(e.canDefineProperty()){var o,i=!0;Object.defineProperty(t,r,{get:function(){return i&&(o=n(),i=!1),o},set:function(t){o=t,i=!1},configurable:!0,enumerable:!0})}else t[r]=n()},e.traverse=function(t,e){var r=t;if(e)for(var n=e.split("."),o=0;o<n.length;o++){var i=n[o];i in r||(r[i]={}),r=r[i]}return r},e.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},e.isFactory=function(t){return t&&"function"==typeof t.factory}},ZS3Q:function(t,e,r){"use strict";var n=r("LHK7"),o=r("X8kj"),i=n.string,a=n.array,s=n.object,u=n.number,c=Array.isArray,f=u.isNumber,p=u.isInteger,l=i.isString,h=a.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=function(t,e,u,m){var y=u(r("xFnQ")),d=u(r("ohYX"));function v(e,r){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!l(r))throw new Error("Invalid datatype: "+r);if(t.isMatrix(e))"DenseMatrix"===e.type?(this._data=s.clone(e._data),this._size=s.clone(e._size),this._datatype=r||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=r||e._datatype);else if(e&&c(e.data)&&c(e.size))this._data=e.data,this._size=e.size,this._datatype=r||e.datatype;else if(c(e))this._data=function t(e){for(var r=0,n=e.length;r<n;r++){var o=e[r];c(o)?e[r]=t(o):o&&!0===o.isMatrix&&(e[r]=t(o.valueOf()))}return e}(e),this._size=a.size(this._data),a.validate(this._data,this._size),this._datatype=r;else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._data=[],this._size=[0],this._datatype=r}}function g(t,e,r){if(0===e.length){for(var n=t._data;c(n);)n=n[0];return n}return t._size=e.slice(0),t._data=a.resize(t._data,t._size,r),t}function x(t,e,r){for(var n=t._size.slice(0),o=!1;n.length<e.length;)n.push(0),o=!0;for(var i=0,a=e.length;i<a;i++)e[i]>n[i]&&(n[i]=e[i],o=!0);o&&g(t,n,r)}return v.prototype=new d,v.prototype.type="DenseMatrix",v.prototype.isDenseMatrix=!0,v.prototype.getDataType=function(){return y(this._data)},v.prototype.storage=function(){return"dense"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(t,e){return new v(t,e)},v.prototype.subset=function(e,r,n){switch(arguments.length){case 1:return function(e,r){if(!t.isIndex(r))throw new TypeError("Invalid index");if(r.isScalar())return e.get(r.min());var n=r.size();if(n.length!==e._size.length)throw new o(n.length,e._size.length);for(var i=r.min(),a=r.max(),s=0,u=e._size.length;s<u;s++)h(i[s],e._size[s]),h(a[s],e._size[s]);return new v(function t(e,r,n,o){var i=o===n-1,a=r.dimension(o);return i?a.map(function(t){return h(t,e.length),e[t]}).valueOf():a.map(function(i){h(i,e.length);var a=e[i];return t(a,r,n,o+1)}).valueOf()}(e._data,r,n.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,r,n,i){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var u,c=r.size(),f=r.isScalar();if(t.isMatrix(n)?(u=n.size(),n=n.valueOf()):u=a.size(n),f){if(0!==u.length)throw new TypeError("Scalar expected");e.set(r.min(),n,i)}else{if(c.length<e._size.length)throw new o(c.length,e._size.length,"<");if(u.length<c.length){for(var p=0,l=0;1===c[p]&&1===u[p];)p++;for(;1===c[p];)l++,p++;n=a.unsqueeze(n,c.length,l,u)}if(!s.deepEqual(c,u))throw new o(c,u,">");var m=r.max().map(function(t){return t+1});x(e,m,i);var y=c.length;!function t(e,r,n,o,i){var a=i===o-1,s=r.dimension(i);a?s.forEach(function(t,r){h(t),e[t]=n[r[0]]}):s.forEach(function(a,s){h(a),t(e[a],r,n[s[0]],o,i+1)})}(e._data,r,n,y,0)}return e}(this,e,r,n);default:throw new SyntaxError("Wrong number of arguments")}},v.prototype.get=function(t){if(!c(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new o(t.length,this._size.length);for(var e=0;e<t.length;e++)h(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var a=t[n];h(a,r.length),r=r[a]}return r},v.prototype.set=function(t,e,r){if(!c(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new o(t.length,this._size.length,"<");var n,i,a;x(this,t.map(function(t){return t+1}),r);var s=this._data;for(n=0,i=t.length-1;n<i;n++)a=t[n],h(a,s.length),s=s[a];return a=t[t.length-1],h(a,s.length),s[a]=e,this},v.prototype.resize=function(t,e,r){if(!c(t))throw new TypeError("Array expected");return g(r?this.clone():this,t,e)},v.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=a.reshape(r._data,t),r._size=t.slice(0),r},v.prototype.clone=function(){return new v({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(t){var e=this;return new v({data:function r(n,o){return c(n)?n.map(function(t,e){return r(t,o.concat(e))}):t(n,o,e)}(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},v.prototype.forEach=function(t){var e=this;!function r(n,o){c(n)?n.forEach(function(t,e){r(t,o.concat(e))}):t(n,o,e)}(this._data,[])},v.prototype.toArray=function(){return s.clone(this._data)},v.prototype.valueOf=function(){return this._data},v.prototype.format=function(t){return i.format(this._data,t)},v.prototype.toString=function(){return i.format(this._data)},v.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!f(e)||!p(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var r=e>0?e:0,n=e<0?-e:0,o=this._size[0],i=this._size[1],a=Math.min(o-n,i-r),s=[],u=0;u<a;u++)s[u]=this._data[u+n][u+r];return new v({data:s,size:[a],datatype:this._datatype})},v.diagonal=function(e,r,n,o,i){if(!c(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!f(e)||!p(e)||e<1)throw new Error("Size values must be positive integers");return e}),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!f(n)||!p(n))throw new TypeError("The parameter k must be an integer number")}else n=0;o&&l(i)&&(o=m.convert(o,i));var s,u=n>0?n:0,h=n<0?-n:0,y=e[0],d=e[1],g=Math.min(y-h,d-u);if(c(r)){if(r.length!==g)throw new Error("Invalid value array length");s=function(t){return r[t]}}else if(t.isMatrix(r)){var x=r.size();if(1!==x.length||x[0]!==g)throw new Error("Invalid matrix length");s=function(t){return r.get([t])}}else s=function(){return r};o||(o=t.isBigNumber(s(0))?new t.BigNumber(0):0);var w=[];if(e.length>0){w=a.resize(w,e,o);for(var b=0;b<g;b++)w[b+h][b+u]=s(b)}return new v({data:w,size:[y,d]})},v.fromJSON=function(t){return new v(t)},v.prototype.swapRows=function(t,e){if(!(f(t)&&p(t)&&f(e)&&p(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(t,this._size[0]),h(e,this._size[0]),v._swapRows(t,e,this._data),this},v._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n},t.Matrix._storage.dense=v,t.Matrix._storage.default=v,v},e.lazy=!1},ZXMR:function(t,e,r){"use strict";var n=r("X8kj");e.name="algorithm05",e.factory=function(t,e,o,i){var a=o(r("hj6K")),s=t.SparseMatrix;return function(t,e,r){var o=t._values,u=t._index,c=t._ptr,f=t._size,p=t._datatype,l=e._values,h=e._index,m=e._ptr,y=e._size,d=e._datatype;if(f.length!==y.length)throw new n(f.length,y.length);if(f[0]!==y[0]||f[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+y+")");var v,g=f[0],x=f[1],w=a,b=0,N=r;"string"==typeof p&&p===d&&(v=p,w=i.find(a,[v,v]),b=i.convert(0,v),N=i.find(r,[v,v]));var E,S,M,O,A=o&&l?[]:void 0,_=[],T=[],j=new s({values:A,index:_,ptr:T,size:[g,x],datatype:v}),k=A?[]:void 0,P=A?[]:void 0,C=[],D=[];for(S=0;S<x;S++){T[S]=_.length;var z=S+1;for(M=c[S],O=c[S+1];M<O;M++)E=u[M],_.push(E),C[E]=z,k&&(k[E]=o[M]);for(M=m[S],O=m[S+1];M<O;M++)C[E=h[M]]!==z&&_.push(E),D[E]=z,P&&(P[E]=l[M]);if(A)for(M=T[S];M<_.length;){var B=C[E=_[M]],F=D[E];if(B===z||F===z){var I=N(B===z?k[E]:b,F===z?P[E]:b);w(I,b)?_.splice(M,1):(A.push(I),M++)}}}return T[x]=_.length,j}}},aG3p:function(t,e,r){"use strict";t.exports=function(t,e,r,n,o,i,a,s,u,c,f){var p,l,h,m,y=t._values,d=t._index,v=t._ptr,g=a._index;if(n)for(l=v[e],h=v[e+1],p=l;p<h;p++)r[m=d[p]]!==i?(r[m]=i,g.push(m),c?(n[m]=u?s(y[p],f):s(f,y[p]),o[m]=i):n[m]=y[p]):(n[m]=u?s(y[p],n[m]):s(n[m],y[p]),o[m]=i);else for(l=v[e],h=v[e+1],p=l;p<h;p++)r[m=d[p]]!==i?(r[m]=i,g.push(m)):o[m]=i}},b5sn:function(t,e,r){"use strict";r("2l0z");var n=r("Z2I/").isFactory,o=r("kIfi"),i=r("JrXr"),a=r("SgCf"),s=r("1pc8");e.create=function(t){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var e=[],r=[],u=i.mixin({});u.type={},u.expression={transform:{},mathWithTransform:{}},u.typed=o.create(u.type);var c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function f(t){if(!n(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var o,i=e.indexOf(t);return-1===i?(o=!0===t.math?t.factory(u.type,c,f,u.typed,u):t.factory(u.type,c,f,u.typed),e.push(t),r.push(o)):o=r[i],o}return u.import=f(a),u.config=f(s),u.expression.mathWithTransform.config=u.config,t&&u.config(t),u}},bFQJ:function(t,e,r){"use strict";var n=r("R4gy");e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var o={deg:"^\\circ"};e.escape=function(t){return n(t,{preserveFormatting:!0})},e.toSymbol=function(t,r){return(r=void 0!==r&&r)?o.hasOwnProperty(t)?o[t]:"\\mathrm{"+e.escape(t)+"}":e.symbols.hasOwnProperty(t)?e.symbols[t]:e.escape(t)}},c0b4:function(t,e,r){"use strict";e.name="ResultSet",e.path="type",e.factory=function(t,e,r,n){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return o.prototype.type="ResultSet",o.prototype.isResultSet=!0,o.prototype.valueOf=function(){return this.entries},o.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},o.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},o.fromJSON=function(t){return new o(t.entries)},o}},cDf5:function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(e){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?t.exports=n=function(t){return r(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},n(e)}t.exports=n},djRN:function(t,e,r){"use strict";var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){function t(){return!0}function e(){return!1}function r(){}return function n(){var o=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],i={name:"any",test:t},a=[],s=[],u={types:o,conversions:s,ignore:a};function c(t){var e=I(u.types,function(e){return e.name===t});if(e)return e;if("any"===t)return i;var r=I(u.types,function(e){return e.name.toLowerCase()===t.toLowerCase()});throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function f(t){return t===i?999:u.types.indexOf(t)}function p(t){var e=I(u.types,function(e){return e.test(t)});if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function l(t){return t.map(function(t){var e=t.types.map(w);return(t.restParam?"...":"")+e.join("|")}).join(",")}function h(t,e){var r=0===t.indexOf("..."),n=r?t.length>3?t.slice(3):"any":t,o=n.split("|").map(k).filter(P).filter(j),i=function(t,e){var r={};return t.forEach(function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t)}),Object.keys(r).map(function(t){return r[t]})}(e,o),a=o.map(function(t){var e=c(t);return{name:t,typeIndex:f(e),test:e.test,conversion:null,conversionIndex:-1}}),s=i.map(function(t){var r=c(t.from);return{name:t.from,typeIndex:f(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}});return{types:a.concat(s),restParam:r}}function m(t){var e=z(t);return!!e&&e.restParam}function y(t){return t.types.some(function(t){return null!=t.conversion})}function d(e){if(e&&0!==e.types.length){if(1===e.types.length)return c(e.types[0].name).test;if(2===e.types.length){var r=c(e.types[0].name).test,n=c(e.types[1].name).test;return function(t){return r(t)||n(t)}}var o=e.types.map(function(t){return c(t.name).test});return function(t){for(var e=0;e<o.length;e++)if(o[e](t))return!0;return!1}}return t}function v(t){var e,r,n,o;if(m(t)){var i=(e=(o=t,o.slice(0,o.length-1)).map(d)).length,a=d(z(t));return function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return!1;return function(t){for(var e=i;e<t.length;e++)if(!a(t[e]))return!1;return!0}(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=d(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=d(t[0]),n=d(t[1]),function(t){return r(t[0])&&n(t[1])&&2===t.length}):(e=t.map(d),function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return!1;return t.length===e.length})}function g(t,e){return e<t.params.length?t.params[e]:m(t.params)?z(t.params):null}function x(t,e,r){var n=g(t,e),o=n?r?n.types.filter(b):n.types:[];return o.map(w)}function w(t){return t.name}function b(t){return null===t.conversion||void 0===t.conversion}function N(t,e){var r=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}(L(t,function(t){return x(t,e,!1)}));return-1!==r.indexOf("any")?["any"]:r}function E(t){for(var e=999,r=0;r<t.types.length;r++)b(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function S(t){for(var e=999,r=0;r<t.types.length;r++)b(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function M(t,e){var r;return 0!=(r=t.restParam-e.restParam)?r:0!=(r=y(t)-y(e))?r:0!=(r=E(t)-E(e))?r:S(t)-S(e)}function O(t,e){var r,n,o=Math.min(t.params.length,e.params.length);if(0!=(n=t.params.some(y)-e.params.some(y)))return n;for(r=0;r<o;r++)if(0!=(n=y(t.params[r])-y(e.params[r])))return n;for(r=0;r<o;r++)if(0!==(n=M(t.params[r],e.params[r])))return n;return t.params.length-e.params.length}function A(t){var e,r,n,o,i=[],a=[];switch(t.types.forEach(function(t){t.conversion&&(i.push(c(t.conversion.from).test),a.push(t.conversion.convert))}),a.length){case 0:return function(t){return t};case 1:return e=i[0],n=a[0],function(t){return e(t)?n(t):t};case 2:return e=i[0],r=i[1],n=a[0],o=a[1],function(t){return e(t)?n(t):r(t)?o(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(i[e](t))return a[e](t);return t}}}function _(t,e){return function t(r,n,o){if(n<r.length){var i,a=r[n],s=e?a.types.filter(b):a.types;if(a.restParam){var u=s.filter(b);i=u.length<s.length?[u,s]:[s]}else i=s.map(function(t){return[t]});return L(i,function(e){return t(r,n+1,o.concat([e]))})}var c=o.map(function(t,e){return{types:t,restParam:e===r.length-1&&m(r)}});return[c]}(t,0,[])}function T(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var o=[];Object.keys(n).map(function(t){return function(t,e,r){var n=[];return""!==t.trim()&&(n=t.split(",").map(k).map(function(t,e,n){var o=h(t,r);if(o.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return o})),n.some(D)?null:{params:n,fn:e}}(t,n[t],u.conversions)}).filter(C).forEach(function(t){var e=I(o,function(e){return function(t,e){for(var r=Math.max(t.params.length,e.params.length),n=0;n<r;n++){var o=x(t,n,!0),i=x(e,n,!0);if(!F(o,i))return!1}var a=t.params.length,s=e.params.length,u=m(t.params),c=m(e.params);return u?c?a===s:s>=a:c?a>=s:a===s}(e,t)});if(e)throw new TypeError('Conflicting signatures "'+l(e.params)+'" and "'+l(t.params)+'".');o.push(t)});var i=L(o,function(t){var e=t?_(t.params,!1):[];return e.map(function(e){return{params:e,fn:t.fn}})}).filter(C);i.sort(O);var a=i[0]&&i[0].params.length<=2&&!m(i[0].params),s=i[1]&&i[1].params.length<=2&&!m(i[1].params),c=i[2]&&i[2].params.length<=2&&!m(i[2].params),f=i[3]&&i[3].params.length<=2&&!m(i[3].params),w=i[4]&&i[4].params.length<=2&&!m(i[4].params),b=i[5]&&i[5].params.length<=2&&!m(i[5].params),E=a&&s&&c&&f&&w&&b,S=i.map(function(t){return v(t.params)}),M=a?d(i[0].params[0]):e,T=s?d(i[1].params[0]):e,j=c?d(i[2].params[0]):e,P=f?d(i[3].params[0]):e,z=w?d(i[4].params[0]):e,R=b?d(i[5].params[0]):e,U=a?d(i[0].params[1]):e,J=s?d(i[1].params[1]):e,H=c?d(i[2].params[1]):e,X=f?d(i[3].params[1]):e,q=w?d(i[4].params[1]):e,W=b?d(i[5].params[1]):e,V=i.map(function(t){return function(t,e){var r=e;if(t.some(y)){var n=m(t),o=t.map(A);r=function(){for(var t=[],r=n?arguments.length-1:arguments.length,i=0;i<r;i++)t[i]=o[i](arguments[i]);return n&&(t[r]=arguments[r].map(o[r])),e.apply(null,t)}}var i=r;if(m(t)){var a=t.length-1;i=function(){return r.apply(null,B(arguments,0,a).concat([B(arguments,a)]))}}return i}(t.params,t.fn)}),Z=a?V[0]:r,$=s?V[1]:r,K=c?V[2]:r,Q=f?V[3]:r,G=w?V[4]:r,Y=b?V[5]:r,tt=a?i[0].params.length:-1,et=s?i[1].params.length:-1,rt=c?i[2].params.length:-1,nt=f?i[3].params.length:-1,ot=w?i[4].params.length:-1,it=b?i[5].params.length:-1,at=E?6:0,st=i.length,ut=function(){for(var e=at;e<st;e++)if(S[e](arguments))return V[e].apply(null,arguments);throw function(t,e,r){var n,o,i,a=t||"unnamed",s=r;for(i=0;i<e.length;i++){var u=s.filter(function(t){var r=d(g(t,i));return(i<t.params.length||m(t.params))&&r(e[i])});if(0===u.length){if((o=N(s,i)).length>0){var c=p(e[i]);return(n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+c+", index: "+i+")")).data={category:"wrongType",fn:a,index:i,actual:c,expected:o},n}}else s=u}var f=s.map(function(t){return m(t.params)?1/0:t.params.length});if(e.length<Math.min.apply(null,f))return o=N(s,i),(n=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:o},n;var l=Math.max.apply(null,f);return e.length>l?((n=new TypeError("Too many arguments in function "+a+" (expected: "+l+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:l},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(p)},n)}(t,arguments,i)},ct=function(t,e){return arguments.length===tt&&M(t)&&U(e)?Z.apply(null,arguments):arguments.length===et&&T(t)&&J(e)?$.apply(null,arguments):arguments.length===rt&&j(t)&&H(e)?K.apply(null,arguments):arguments.length===nt&&P(t)&&X(e)?Q.apply(null,arguments):arguments.length===ot&&z(t)&&q(e)?G.apply(null,arguments):arguments.length===it&&R(t)&&W(e)?Y.apply(null,arguments):ut.apply(null,arguments)};try{Object.defineProperty(ct,"name",{value:t})}catch(t){}return ct.signatures=function(t){var e={};return t.forEach(function(t){t.params.some(y)||_(t.params,!0).forEach(function(r){e[l(r)]=t.fn})}),e}(i),ct}function j(t){return-1===u.ignore.indexOf(t)}function k(t){return t.trim()}function P(t){return!!t}function C(t){return null!==t}function D(t){return 0===t.types.length}function z(t){return t[t.length-1]}function B(t,e,r){return Array.prototype.slice.call(t,e,r)}function F(t,e){for(var r=0;r<t.length;r++)if(n=e,o=t[r],-1!==n.indexOf(o))return!0;var n,o;return!1}function I(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function L(t,e){return Array.prototype.concat.apply([],t.map(e))}function R(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var o=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw o.data={actual:n.name,expected:e},o}}return e}function U(t){var e,r={};function n(t,n){if(r.hasOwnProperty(t)&&n!==r[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var o=0;o<t.length;o++){var i=t[o];if("object"==typeof i.signatures)for(var a in i.signatures)i.signatures.hasOwnProperty(a)&&(n(a,i.signatures[a]),r[a]=i.signatures[a]);else{if("string"!=typeof i.signature)throw(e=new TypeError("Function is no typed-function (index: "+o+")")).data={index:o},e;n(i.signature,i),r[i.signature]=i}}return r}return(u=T("typed",{"string, Object":T,Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);var n=R(e);return T(n,t)},"...Function":function(t){return T(R(t),U(t))},"string, ...Function":function(t,e){return T(t,U(e))}})).create=n,u.types=o,u.conversions=s,u.ignore=a,u.convert=function(t,e){var r=p(t);if(e===r)return t;for(var n=0;n<u.conversions.length;n++){var o=u.conversions[n];if(o.from===r&&o.to===e)return o.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)},u.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e}var o=r.join(","),i=t.signatures[o];if(i)return i;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")},u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,t);u.types.push(t)},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t)},u}()})?n.apply(e,o):n)||(t.exports=i)},eX2I:function(t,e,r){"use strict";var n=r("X8kj");e.name="algorithm01",e.factory=function(t,e,r,o){var i=t.DenseMatrix;return function(t,e,r,a){var s=t._data,u=t._size,c=t._datatype,f=e._values,p=e._index,l=e._ptr,h=e._size,m=e._datatype;if(u.length!==h.length)throw new n(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,d,v=u[0],g=u[1],x="string"==typeof c&&c===m?c:void 0,w=x?o.find(r,[x,x]):r,b=[];for(y=0;y<v;y++)b[y]=[];var N=[],E=[];for(d=0;d<g;d++){for(var S=d+1,M=l[d],O=l[d+1],A=M;A<O;A++)N[y=p[A]]=a?w(f[A],s[y][d]):w(s[y][d],f[A]),E[y]=S;for(y=0;y<v;y++)E[y]===S?b[y][d]=N[y]:b[y][d]=s[y][d]}return new i({data:b,size:[v,g],datatype:x})}}},f66B:function(t,e,r){var n=Array.prototype.slice,o=r("MmBA"),i=r("mX2D"),a=t.exports=function(t,e,r){return r||(r={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?r.strict?t===e:t==e:function(t,e,r){var c,f;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=n.call(t),e=n.call(e),a(t,e,r));if(u(t)){if(!u(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var p=o(t),l=o(e)}catch(t){return!1}if(p.length!=l.length)return!1;for(p.sort(),l.sort(),c=p.length-1;c>=0;c--)if(p[c]!=l[c])return!1;for(c=p.length-1;c>=0;c--)if(f=p[c],!a(t[f],e[f],r))return!1;return typeof t==typeof e}(t,e,r))};function s(t){return null==t}function u(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},fTxE:function(t,e,r){"use strict";var n=r("1stm");e.name="abs",e.factory=function(t,e,r,o){var i=o("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return n(t,i,!0)},Unit:function(t){return t.abs()}});return i.toTex={1:"\\left|${args[0]}\\right|"},i}},"gV/b":function(t,e,r){"use strict";e.name="mod",e.factory=function(t,e,n,o){var i=n(r("R4H5")),a=r("bFQJ"),s=n(r("4fwU")),u=n(r("hYuG")),c=n(r("ZXMR")),f=n(r("nr1U")),p=n(r("/z5F")),l=n(r("zbDx")),h=n(r("BLb5")),m=o("mod",{"number, number":function(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")},"BigNumber, BigNumber":function(t,e){return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){return t.mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,m,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,m,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,m,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,m)},"Array, Array":function(t,e){return m(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return m(i(t),e)},"Matrix, Array":function(t,e){return m(t,i(e))},"SparseMatrix, any":function(t,e){return f(t,e,m,!1)},"DenseMatrix, any":function(t,e){return h(t,e,m,!1)},"any, SparseMatrix":function(t,e){return p(e,t,m,!0)},"any, DenseMatrix":function(t,e){return h(e,t,m,!0)},"Array, any":function(t,e){return h(i(t),e,m,!1).valueOf()},"any, Array":function(t,e){return h(i(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(a.operators.mod,"${args[1]}\\right)")},m}},gpKz:function(t,e,r){"use strict";var n=r("LHK7").object;e.name="lup",e.factory=function(t,e,o,i){var a=o(r("R4H5")),s=o(r("fTxE")),u=o(r("XXst")),c=o(r("WPGy")),f=o(r("oiZ2")),p=o(r("O1N0")),l=o(r("H+Qf")),h=o(r("hj6K")),m=o(r("7DiD")),y=t.SparseMatrix,d=t.DenseMatrix,v=t.Spa;function g(t){var e,r,o,i=t._size[0],a=t._size[1],m=Math.min(i,a),y=n.clone(t._data),v=[],g=[i,m],x=[],w=[m,a],b=[];for(e=0;e<i;e++)b[e]=e;for(r=0;r<a;r++){if(r>0)for(e=0;e<i;e++){var N=Math.min(e,r),E=0;for(o=0;o<N;o++)E=u(E,f(y[e][o],y[o][r]));y[e][r]=p(y[e][r],E)}var S=r,M=0,O=0;for(e=r;e<i;e++){var A=y[e][r],_=s(A);l(_,M)&&(S=e,M=_,O=A)}if(r!==S&&(b[r]=[b[S],b[S]=b[r]][0],d._swapRows(r,S,y)),r<i)for(e=r+1;e<i;e++){var T=y[e][r];h(T,0)||(y[e][r]=c(y[e][r],O))}}for(r=0;r<a;r++)for(e=0;e<i;e++)0===r&&(e<a&&(x[e]=[]),v[e]=[]),e<r?(e<a&&(x[e][r]=y[e][r]),r<i&&(v[e][r]=0)):e!==r?(e<a&&(x[e][r]=0),r<i&&(v[e][r]=y[e][r])):(e<a&&(x[e][r]=y[e][r]),r<i&&(v[e][r]=1));var j=new d({data:v,size:g}),k=new d({data:x,size:w}),P=[];for(e=0,m=b.length;e<m;e++)P[b[e]]=e;return{L:j,U:k,p:P,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function x(t){var e,r,n,o=t._size[0],i=t._size[1],a=Math.min(o,i),u=t._values,p=t._index,d=t._ptr,g=[],x=[],w=[],b=[o,a],N=[],E=[],S=[],M=[a,i],O=[],A=[];for(e=0;e<o;e++)O[e]=e,A[e]=e;var _=function(){var t=new v;r<o&&(w.push(g.length),g.push(1),x.push(r)),S.push(N.length);var i=d[r],a=d[r+1];for(n=i;n<a;n++)e=p[n],t.set(O[e],u[n]);r>0&&t.forEach(0,r-1,function(e,r){y._forEachRow(e,g,x,w,function(n,o){n>e&&t.accumulate(n,m(f(o,r)))})});var _,T,j,k,P=r,C=t.get(r),D=s(C);t.forEach(r+1,o-1,function(t,e){var r=s(e);l(r,D)&&(P=t,D=r,C=e)}),r!==P&&(y._swapRows(r,P,b[1],g,x,w),y._swapRows(r,P,M[1],N,E,S),t.swap(r,P),T=P,j=A[_=r],k=A[T],O[j]=T,O[k]=_,A[_]=k,A[T]=j),t.forEach(0,o-1,function(t,e){t<=r?(N.push(e),E.push(t)):(e=c(e,C),h(e,0)||(g.push(e),x.push(t)))})};for(r=0;r<i;r++)_();return S.push(N.length),w.push(g.length),{L:new y({values:g,index:x,ptr:w,size:b}),U:new y({values:N,index:E,ptr:S,size:M}),p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}return i("lup",{DenseMatrix:function(t){return g(t)},SparseMatrix:function(t){return x(t)},Array:function(t){var e=g(a(t));return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}})}},hYuG:function(t,e,r){"use strict";var n=r("X8kj");e.name="algorithm03",e.factory=function(t,e,r,o){var i=t.DenseMatrix;return function(t,e,r,a){var s=t._data,u=t._size,c=t._datatype,f=e._values,p=e._index,l=e._ptr,h=e._size,m=e._datatype;if(u.length!==h.length)throw new n(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,d=u[0],v=u[1],g=0,x=r;"string"==typeof c&&c===m&&(y=c,g=o.convert(0,y),x=o.find(r,[y,y]));for(var w=[],b=0;b<d;b++)w[b]=[];for(var N=[],E=[],S=0;S<v;S++){for(var M=S+1,O=l[S],A=l[S+1],_=O;_<A;_++){var T=p[_];N[T]=a?x(f[_],s[T][S]):x(s[T][S],f[_]),E[T]=M}for(var j=0;j<d;j++)E[j]===M?w[j][S]=N[j]:w[j][S]=a?x(g,s[j][S]):x(s[j][S],g)}return new i({data:w,size:[d,v],datatype:y})}}},hj6K:function(t,e,r){"use strict";var n=r("199F").nearlyEqual,o=r("rMK7");e.factory=function(t,e,r,i){var a=i("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,r){return t===r||n(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.eq(r)||o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)}});return a}},itDh:function(t,e,r){"use strict";var n=r("3LJV"),o=r("rq6S"),i=r("G23K");e.name="max",e.factory=function(t,e,a,s){var u=a(r("H+Qf")),c=a(r("D2JG")),f=s("max",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),p)},"...":function(t){if(i(t))throw new TypeError("Scalar values expected in function max");return l(t)}});return f.toTex="\\max\\left(${args}\\right)",f;function p(t,e){try{return u(t,e)?t:e}catch(t){throw c(t,"max",e)}}function l(t){var e;if(n(t,function(t){try{isNaN(t)&&"number"==typeof t?e=NaN:(void 0===e||u(t,e))&&(e=t)}catch(e){throw c(e,"max",t)}}),void 0===e)throw new Error("Cannot calculate max of an empty array");return e}}},kIfi:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r("djRN"),i=r("199F").digits,a=r("pvRk"),s=r("6cPB"),u=function(){return u=o.create,o};e.create=function(t){t.isNumber=function(t){return"number"==typeof t},t.isComplex=function(e){return t.Complex&&e instanceof t.Complex||!1},t.isBigNumber=a,t.isFraction=function(e){return t.Fraction&&e instanceof t.Fraction||!1},t.isUnit=function(t){return t&&t.constructor.prototype.isUnit||!1},t.isString=function(t){return"string"==typeof t},t.isArray=Array.isArray,t.isMatrix=s,t.isDenseMatrix=function(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix||!1},t.isSparseMatrix=function(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix||!1},t.isRange=function(t){return t&&t.constructor.prototype.isRange||!1},t.isIndex=function(t){return t&&t.constructor.prototype.isIndex||!1},t.isBoolean=function(t){return"boolean"==typeof t},t.isResultSet=function(t){return t&&t.constructor.prototype.isResultSet||!1},t.isHelp=function(t){return t&&t.constructor.prototype.isHelp||!1},t.isFunction=function(t){return"function"==typeof t},t.isDate=function(t){return t instanceof Date},t.isRegExp=function(t){return t instanceof RegExp},t.isObject=function(e){return"object"===n(e)&&e.constructor===Object&&!t.isComplex(e)&&!t.isFraction(e)},t.isNull=function(t){return null===t},t.isUndefined=function(t){return void 0===t},t.isAccessorNode=function(t){return t&&t.isAccessorNode&&t.constructor.prototype.isNode||!1},t.isArrayNode=function(t){return t&&t.isArrayNode&&t.constructor.prototype.isNode||!1},t.isAssignmentNode=function(t){return t&&t.isAssignmentNode&&t.constructor.prototype.isNode||!1},t.isBlockNode=function(t){return t&&t.isBlockNode&&t.constructor.prototype.isNode||!1},t.isConditionalNode=function(t){return t&&t.isConditionalNode&&t.constructor.prototype.isNode||!1},t.isConstantNode=function(t){return t&&t.isConstantNode&&t.constructor.prototype.isNode||!1},t.isFunctionAssignmentNode=function(t){return t&&t.isFunctionAssignmentNode&&t.constructor.prototype.isNode||!1},t.isFunctionNode=function(t){return t&&t.isFunctionNode&&t.constructor.prototype.isNode||!1},t.isIndexNode=function(t){return t&&t.isIndexNode&&t.constructor.prototype.isNode||!1},t.isNode=function(t){return t&&t.isNode&&t.constructor.prototype.isNode||!1},t.isObjectNode=function(t){return t&&t.isObjectNode&&t.constructor.prototype.isNode||!1},t.isOperatorNode=function(t){return t&&t.isOperatorNode&&t.constructor.prototype.isNode||!1},t.isParenthesisNode=function(t){return t&&t.isParenthesisNode&&t.constructor.prototype.isNode||!1},t.isRangeNode=function(t){return t&&t.isRangeNode&&t.constructor.prototype.isNode||!1},t.isSymbolNode=function(t){return t&&t.isSymbolNode&&t.constructor.prototype.isNode||!1},t.isChain=function(t){return t&&t.constructor.prototype.isChain||!1};var e=u();return e.types=[{name:"number",test:t.isNumber},{name:"Complex",test:t.isComplex},{name:"BigNumber",test:t.isBigNumber},{name:"Fraction",test:t.isFraction},{name:"Unit",test:t.isUnit},{name:"string",test:t.isString},{name:"Array",test:t.isArray},{name:"Matrix",test:t.isMatrix},{name:"DenseMatrix",test:t.isDenseMatrix},{name:"SparseMatrix",test:t.isSparseMatrix},{name:"Range",test:t.isRange},{name:"Index",test:t.isIndex},{name:"boolean",test:t.isBoolean},{name:"ResultSet",test:t.isResultSet},{name:"Help",test:t.isHelp},{name:"function",test:t.isFunction},{name:"Date",test:t.isDate},{name:"RegExp",test:t.isRegExp},{name:"null",test:t.isNull},{name:"undefined",test:t.isUndefined},{name:"OperatorNode",test:t.isOperatorNode},{name:"ConstantNode",test:t.isConstantNode},{name:"SymbolNode",test:t.isSymbolNode},{name:"ParenthesisNode",test:t.isParenthesisNode},{name:"FunctionNode",test:t.isFunctionNode},{name:"FunctionAssignmentNode",test:t.isFunctionAssignmentNode},{name:"ArrayNode",test:t.isArrayNode},{name:"AssignmentNode",test:t.isAssignmentNode},{name:"BlockNode",test:t.isBlockNode},{name:"ConditionalNode",test:t.isConditionalNode},{name:"IndexNode",test:t.isIndexNode},{name:"RangeNode",test:t.isRangeNode},{name:"Node",test:t.isNode},{name:"Object",test:t.isObject}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(new t.Fraction(e).valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new t.BigNumber(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new t.Fraction(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new t.Complex(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},kip4:function(t,e,r){"use strict";var n=r("PXUV").format,o=r("bFQJ").escape;e.name="ConstantNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(r("K6lB")),u=i(r("uUDd"));function c(t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=t}return c.prototype=new s,c.prototype.type="ConstantNode",c.prototype.isConstantNode=!0,c.prototype._compile=function(t,e){var r=this.value;return function(){return r}},c.prototype.forEach=function(t){},c.prototype.map=function(t){return this.clone()},c.prototype.clone=function(){return new c(this.value)},c.prototype._toString=function(t){return n(this.value,t)},c.prototype.toHTML=function(t){var e=this._toString(t);switch(u(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+e+"</span>";case"string":return'<span class="math-string">'+e+"</span>";case"boolean":return'<span class="math-boolean">'+e+"</span>";case"null":return'<span class="math-null-symbol">'+e+"</span>";case"undefined":return'<span class="math-undefined">'+e+"</span>";default:return'<span class="math-symbol">'+e+"</span>"}},c.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},c.fromJSON=function(t){return new c(t.value)},c.prototype._toTex=function(t){var e=this._toString(t);switch(u(this.value)){case"string":return"\\mathtt{"+o(e)+"}";case"number":case"BigNumber":var r=e.toLowerCase().indexOf("e");return-1!==r?e.substring(0,r)+"\\cdot10^{"+e.substring(r+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},c}},l41f:function(t,e,r){"use strict";var n=r("sTyi").forEach,o=r("sTyi").map;e.name="BlockNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(r("K6lB")),u=i(r("c0b4"));function c(e){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var r=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!t.isNode(r))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:r,visible:n}})}return c.prototype=new s,c.prototype.type="BlockNode",c.prototype.isBlockNode=!0,c.prototype._compile=function(t,e){var r=o(this.blocks,function(r){return{eval:r.node._compile(t,e),visible:r.visible}});return function(t,e,o){var i=[];return n(r,function(r){var n=r.eval(t,e,o);r.visible&&i.push(n)}),new u(i)}},c.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},c.prototype.map=function(t){for(var e=[],r=0;r<this.blocks.length;r++){var n=this.blocks[r],o=this._ifNode(t(n.node,"blocks["+r+"].node",this));e[r]={node:o,visible:n.visible}}return new c(e)},c.prototype.clone=function(){return new c(this.blocks.map(function(t){return{node:t.node,visible:t.visible}}))},c.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},c.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},c.fromJSON=function(t){return new c(t.blocks)},c.prototype.toHTML=function(t){return this.blocks.map(function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},c.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},c}},lFTT:function(t,e,r){"use strict";e.name="parse",e.factory=function(t,e,n,o){var i=n(r("MUdo"));return o("parse",{"string | Array | Matrix":i,"string | Array | Matrix, Object":i})}},lSNA:function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},m4e2:function(t,e,r){"use strict";var n=r("199F").nearlyEqual,o=r("rMK7");e.name="smaller",e.factory=function(t,e,i,a){var s=i(r("R4H5")),u=i(r("hYuG")),c=i(r("XXc+")),f=i(r("/z5F")),p=i(r("zbDx")),l=i(r("BLb5")),h=r("bFQJ"),m=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,r){return t<r&&!n(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.lt(r)&&!o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return m(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,m)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,m,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,m,!1)},"DenseMatrix, DenseMatrix":function(t,e){return p(t,e,m)},"Array, Array":function(t,e){return m(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return m(s(t),e)},"Matrix, Array":function(t,e){return m(t,s(e))},"SparseMatrix, any":function(t,e){return f(t,e,m,!1)},"DenseMatrix, any":function(t,e){return l(t,e,m,!1)},"any, SparseMatrix":function(t,e){return f(e,t,m,!0)},"any, DenseMatrix":function(t,e){return l(e,t,m,!0)},"Array, any":function(t,e){return l(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return l(s(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(h.operators.smaller,"${args[1]}\\right)")},m}},mX2D:function(t,e){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=r?n:o).supported=n,e.unsupported=o},"n+Sg":function(t,e,r){"use strict";e.name="xor",e.factory=function(t,e,n,o){var i=r("bFQJ"),a=n(r("R4H5")),s=n(r("hYuG")),u=n(r("XXc+")),c=n(r("/z5F")),f=n(r("zbDx")),p=n(r("BLb5")),l=o("xor",{"number, number":function(t,e){return!!t!=!!e},"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return l(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,l)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,l,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,l,!1)},"DenseMatrix, DenseMatrix":function(t,e){return f(t,e,l)},"Array, Array":function(t,e){return l(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return l(a(t),e)},"Matrix, Array":function(t,e){return l(t,a(e))},"SparseMatrix, any":function(t,e){return c(t,e,l,!1)},"DenseMatrix, any":function(t,e){return p(t,e,l,!1)},"any, SparseMatrix":function(t,e){return c(e,t,l,!0)},"any, DenseMatrix":function(t,e){return p(e,t,l,!0)},"Array, any":function(t,e){return p(a(t),e,l,!1).valueOf()},"any, Array":function(t,e){return p(a(e),t,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}".concat(i.operators.xor,"${args[1]}\\right)")},l}},nr1U:function(t,e,r){"use strict";e.name="algorithm11",e.factory=function(t,e,n,o){var i=n(r("hj6K")),a=t.SparseMatrix;return function(t,e,r,n){var s=t._values,u=t._index,c=t._ptr,f=t._size,p=t._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,h=f[0],m=f[1],y=i,d=0,v=r;"string"==typeof p&&(l=p,y=o.find(i,[l,l]),d=o.convert(0,l),e=o.convert(e,l),v=o.find(r,[l,l]));for(var g=[],x=[],w=[],b=new a({values:g,index:x,ptr:w,size:[h,m],datatype:l}),N=0;N<m;N++){w[N]=x.length;for(var E=c[N],S=c[N+1],M=E;M<S;M++){var O=u[M],A=n?v(e,s[M]):v(s[M],e);y(A,d)||(x.push(O),g.push(A))}}return w[m]=x.length,b}}},o0nB:function(t,e,r){"use strict";e.name="or",e.factory=function(t,e,n,o){var i=r("bFQJ"),a=n(r("R4H5")),s=n(r("hYuG")),u=n(r("ZXMR")),c=n(r("/z5F")),f=n(r("zbDx")),p=n(r("BLb5")),l=o("or",{"number, number":function(t,e){return!(!t&&!e)},"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return l(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,l)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,l,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,l,!1)},"DenseMatrix, DenseMatrix":function(t,e){return f(t,e,l)},"Array, Array":function(t,e){return l(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return l(a(t),e)},"Matrix, Array":function(t,e){return l(t,a(e))},"SparseMatrix, any":function(t,e){return c(t,e,l,!1)},"DenseMatrix, any":function(t,e){return p(t,e,l,!1)},"any, SparseMatrix":function(t,e){return c(e,t,l,!0)},"any, DenseMatrix":function(t,e){return p(e,t,l,!0)},"Array, any":function(t,e){return p(a(t),e,l,!1).valueOf()},"any, Array":function(t,e){return p(a(e),t,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}".concat(i.operators.or,"${args[1]}\\right)")},l}},ohYX:function(t,e,r){"use strict";var n=r("LHK7").string.isString;e.name="Matrix",e.path="type",e.factory=function(t,e,r,o){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){if(!n(t))throw new TypeError("format must be a string value");var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}},oiZ2:function(t,e,r){"use strict";e.factory=function(t,e,r,n){var o=n("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):o(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):o(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}});return o}},p2yA:function(t,e,r){"use strict";var n=r("C8y5"),o=r("PXUV").escape,i=r("sTyi").forEach,a=r("sTyi").join,s=r("bFQJ"),u=r("Tb0o"),c=r("4bae").setSafeProperty;e.name="FunctionAssignmentNode",e.path="expression.node",e.factory=function(t,e,f,p){var l=f(r("K6lB"));function h(e,r,o){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(r))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!t.isNode(o))throw new TypeError('Node expected for parameter "expr"');if(e in n)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=r.map(function(t){return t&&t.name||t}),this.types=r.map(function(t){return t&&t.type||"any"}),this.expr=o}function m(t,e){var r=u.getPrecedence(t,e),n=u.getPrecedence(t.expr,e);return"all"===e||null!==n&&n<=r}return h.prototype=new l,h.prototype.type="FunctionAssignmentNode",h.prototype.isFunctionAssignmentNode=!0,h.prototype._compile=function(t,e){var r=Object.create(e);i(this.params,function(t){r[t]=!0});var n=this.expr._compile(t,r),o=this.name,s=this.params,u=a(this.types,","),f=o+"("+a(this.params,", ")+")";return function(t,e,r){var i={};i[u]=function(){for(var o=Object.create(e),i=0;i<s.length;i++)o[s[i]]=arguments[i];return n(t,o,r)};var a=p(o,i);return a.syntax=f,c(t,o,a),a}},h.prototype.forEach=function(t){t(this.expr,"expr",this)},h.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new h(this.name,this.params.slice(0),e)},h.prototype.clone=function(){return new h(this.name,this.params.slice(0),this.expr)},h.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return m(this,e)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},h.prototype.toJSON=function(){var t=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(e,r){return{name:e,type:t[r]}}),expr:this.expr}},h.fromJSON=function(t){return new h(t.name,t.params,t.expr)},h.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+o(this.params[n])+"</span>");var i=this.expr.toHTML(t);return m(this,e)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+o(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},h.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return m(this,e)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(s.toSymbol).join(",")+"\\right):="+r},h}},pvRk:function(t,e,r){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isBigNumber||!1}},rMK7:function(t,e,r){"use strict";t.exports=function(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var o=t.constructor.max(t.abs(),e.abs());return n.lte(o.times(r))}return!1}},rVKH:function(t,e,r){"use strict";var n=r("Z2I/").extend;e.name="divide",e.factory=function(t,e,o,i){var a=o(r("WPGy")),s=o(r("NU+P")),u=o(r("QfvV")),c=o(r("R4H5")),f=o(r("nr1U")),p=o(r("BLb5")),l=i("divide",n({"Array | Matrix, Array | Matrix":function(t,e){return s(t,u(e))},"DenseMatrix, any":function(t,e){return p(t,e,a,!1)},"SparseMatrix, any":function(t,e){return f(t,e,a,!1)},"Array, any":function(t,e){return p(c(t),e,a,!1).valueOf()},"any, Array | Matrix":function(t,e){return s(t,u(e))}},a.signatures));return l.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},l}},rq6S:function(t,e,r){"use strict";var n=r("sTyi").size,o=r("6cPB"),i=r("S2pI");function a(t,e,r){var n,o,i,s;if(e<=0){if(Array.isArray(t[0])){for(s=function(t){var e,r,n=t.length,o=t[0].length,i=[];for(r=0;r<o;r++){var a=[];for(e=0;e<n;e++)a.push(t[e][r]);i.push(a)}return i}(t),o=[],n=0;n<s.length;n++)o[n]=a(s[n],e-1,r);return o}for(i=t[0],n=1;n<t.length;n++)i=r(i,t[n]);return i}for(o=[],n=0;n<t.length;n++)o[n]=a(t[n],e-1,r);return o}t.exports=function(t,e,r){var s=Array.isArray(t)?n(t):t.size();if(e<0||e>=s.length)throw new i(e,s.length);return o(t)?t.create(a(t.valueOf(),e,r)):a(t,e,r)}},sTyi:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.size=u,e.validate=function(t,e){if(0===e.length){if(Array.isArray(t))throw new i.default(t.length,0)}else!function t(e,r,n){var o;var a=e.length;if(a!==r[n])throw new i.default(a,r[n]);if(n<r.length-1){var s=n+1;for(o=0;o<a;o++){var u=e[o];if(!Array.isArray(u))throw new i.default(r.length-1,r.length,"<");t(e[o],r,s)}}else for(o=0;o<a;o++)if(Array.isArray(e[o]))throw new i.default(r.length+1,r.length,">")}(t,e,0)},e.validateIndex=function(t,e){if(!n.default.isNumber(t)||!n.default.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new a.default(t,e)},e.resize=function(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!n.default.isNumber(t)||!n.default.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+o.default.format(e)+")")});var i=void 0!==r?r:0;return function t(e,r,n,o){var i,a,s=e.length,u=r[n],c=Math.min(s,u);if(e.length=u,n<r.length-1){var f=n+1;for(i=0;i<c;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),t(a,r,f,o);for(i=c;i<u;i++)a=[],e[i]=a,t(a,r,f,o)}else{for(i=0;i<c;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=c;i<u;i++)e[i]=o}}(t,e,0,i),t},e.reshape=function(t,e){var r,n=c(t);function o(t){return t.reduce(function(t,e){return t*e})}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new i.default(0,o(u(t)),"!=");for(var a=1,s=0;s<e.length;s++)a*=e[s];if(n.length!==a)throw new i.default(o(e),o(u(t)),"!=");try{r=function(t,e){for(var r,n=t,o=e.length-1;o>0;o--){var i=e[o];r=[];for(var a=n.length/i,s=0;s<a;s++)r.push(n.slice(s*i,(s+1)*i));n=r}return n}(n,e)}catch(r){if(r instanceof i.default)throw new i.default(o(e),o(u(t)),"!=");throw r}return r},e.squeeze=function(t,e){var r=e||u(t);for(;Array.isArray(t)&&1===t.length;)t=t[0],r.shift();var n=r.length;for(;1===r[n-1];)n--;n<r.length&&(t=function t(e,r,n){var o,i;if(n<r){var a=n+1;for(o=0,i=e.length;o<i;o++)e[o]=t(e[o],r,a)}else for(;Array.isArray(e);)e=e[0];return e}(t,n,0),r.length=n);return t},e.unsqueeze=function(t,e,r,n){var o=n||u(t);if(r)for(var i=0;i<r;i++)t=[t],o.unshift(1);t=function t(e,r,n){var o,i;if(Array.isArray(e)){var a=n+1;for(o=0,i=e.length;o<i;o++)e[o]=t(e[o],r,a)}else for(var s=n;s<r;s++)e=[e];return e}(t,e,0);for(;o.length<e;)o.push(1);return t},e.flatten=c,e.map=function(t,e){return Array.prototype.map.call(t,e)},e.forEach=function(t,e){Array.prototype.forEach.call(t,e)},e.filter=function(t,e){if(1!==u(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)},e.filterRegExp=function(t,e){if(1!==u(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,function(t){return e.test(t)})},e.join=function(t,e){return Array.prototype.join.call(t,e)},e.identify=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e},e.generalize=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e};var n=s(r("199F")),o=s(r("PXUV")),i=s(r("X8kj")),a=s(r("S2pI"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function c(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}},uPaw:function(t,e,r){"use strict";var n=r("Tb0o");e.name="RangeNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(r("K6lB"));function s(e,r,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError("Node expected");if(!t.isNode(r))throw new TypeError("Node expected");if(n&&!t.isNode(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=r,this.step=n||null}function u(t,e){var r=n.getPrecedence(t,e),o={},i=n.getPrecedence(t.start,e);if(o.start=null!==i&&i<=r||"all"===e,t.step){var a=n.getPrecedence(t.step,e);o.step=null!==a&&a<=r||"all"===e}var s=n.getPrecedence(t.end,e);return o.end=null!==s&&s<=r||"all"===e,o}return s.prototype=new a,s.prototype.type="RangeNode",s.prototype.isRangeNode=!0,s.prototype.needsEnd=function(){return this.filter(function(e){return t.isSymbolNode(e)&&"end"===e.name}).length>0},s.prototype._compile=function(t,e){var r=t.range,n=this.start._compile(t,e),o=this.end._compile(t,e);if(this.step){var i=this.step._compile(t,e);return function(t,e,a){return r(n(t,e,a),o(t,e,a),i(t,e,a))}}return function(t,e,i){return r(n(t,e,i),o(t,e,i))}},s.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},s.prototype.clone=function(){return new s(this.start,this.end,this.step&&this.step)},s.prototype._toString=function(t){var e,r=u(this,t&&t.parenthesis?t.parenthesis:"keep"),n=this.start.toString(t);if(r.start&&(n="("+n+")"),e=n,this.step){var o=this.step.toString(t);r.step&&(o="("+o+")"),e+=":"+o}var i=this.end.toString(t);return r.end&&(i="("+i+")"),e+=":"+i},s.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(t){return new s(t.start,t.end,t.step)},s.prototype.toHTML=function(t){var e,r=u(this,t&&t.parenthesis?t.parenthesis:"keep"),n=this.start.toHTML(t);if(r.start&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=n,this.step){var o=this.step.toHTML(t);r.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+o}var i=this.end.toHTML(t);return r.end&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+i},s.prototype._toTex=function(t){var e=u(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toTex(t);if(e.start&&(r="\\left(".concat(r,"\\right)")),this.step){var n=this.step.toTex(t);e.step&&(n="\\left(".concat(n,"\\right)")),r+=":"+n}var o=this.end.toTex(t);return e.end&&(o="\\left(".concat(o,"\\right)")),r+=":"+o},s}},uUDd:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.name="typeof",e.factory=function(t,e,r,o){var i=o("_typeof",{any:function(e){var r=n(e);return"object"===r?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":t.isBigNumber(e)?"BigNumber":t.isComplex(e)?"Complex":t.isFraction(e)?"Fraction":t.isMatrix(e)?"Matrix":t.isUnit(e)?"Unit":t.isIndex(e)?"Index":t.isRange(e)?"Range":t.isResultSet(e)?"ResultSet":t.isNode(e)?e.type:t.isChain(e)?"Chain":t.isHelp(e)?"Help":"Object":"function"===r?"Function":r}});return i.toTex=void 0,i}},"ut+i":function(t,e,r){"use strict";var n=r("bFQJ"),o=r("sTyi").map,i=r("PXUV").escape,a=r("4bae").isSafeMethod,s=r("4bae").getSafeProperty,u=r("Tb0o");e.name="OperatorNode",e.path="expression.node",e.factory=function(t,e,c,f){var p=c(r("K6lB"));function l(e,r,n,o){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof r)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===o,this.op=e,this.fn=r,this.args=n||[]}function h(t,e,r,n,o){var i,a=u.getPrecedence(t,e),s=u.getAssociativity(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return n.map(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(n.length){case 0:i=[];break;case 1:var c=u.getPrecedence(n[0],e);if(o&&null!==c){var f,p;if("keep"===e?(f=n[0].getIdentifier(),p=t.getIdentifier()):(f=n[0].getContent().getIdentifier(),p=t.getContent().getIdentifier()),!1===u.properties[a][p].latexLeftParens){i=[!1];break}if(!1===u.properties[c][f].latexParens){i=[!1];break}}if(null===c){i=[!1];break}if(c<=a){i=[!0];break}i=[!1];break;case 2:var l,h,m=u.getPrecedence(n[0],e),y=u.isAssociativeWith(t,n[0],e);l=null!==m&&(m===a&&"right"===s&&!y||m<a);var d,v,g,x=u.getPrecedence(n[1],e),w=u.isAssociativeWith(t,n[1],e);h=null!==x&&(x===a&&"left"===s&&!w||x<a),o&&("keep"===e?(d=t.getIdentifier(),v=t.args[0].getIdentifier(),g=t.args[1].getIdentifier()):(d=t.getContent().getIdentifier(),v=t.args[0].getContent().getIdentifier(),g=t.args[1].getContent().getIdentifier()),null!==m&&(!1===u.properties[a][d].latexLeftParens&&(l=!1),!1===u.properties[m][v].latexParens&&(l=!1)),null!==x&&(!1===u.properties[a][d].latexRightParens&&(h=!1),!1===u.properties[x][g].latexParens&&(h=!1))),i=[l,h];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(i=n.map(function(r){var n=u.getPrecedence(r,e),o=u.isAssociativeWith(t,r,e),i=u.getAssociativity(r,e);return null!==n&&(a===n&&s===i&&!o||n<a)}))}return n.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===r&&(i=n.map(function(t,e){var r="ParenthesisNode"===t.getIdentifier();return!(!i[e]&&!r)})),i}return l.prototype=new p,l.prototype.type="OperatorNode",l.prototype.isOperatorNode=!0,l.prototype._compile=function(t,e){if("string"!=typeof this.fn||!a(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=s(t,this.fn),n=o(this.args,function(r){return r._compile(t,e)});if(1===n.length){var i=n[0];return function(t,e,n){return r(i(t,e,n))}}if(2===n.length){var u=n[0],c=n[1];return function(t,e,n){return r(u(t,e,n),c(t,e,n))}}return function(t,e,i){return r.apply(null,o(n,function(r){return r(t,e,i)}))}},l.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},l.prototype.map=function(t){for(var e=[],r=0;r<this.args.length;r++)e[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new l(this.op,this.fn,e,this.implicit)},l.prototype.clone=function(){return new l(this.op,this.fn,this.args.slice(0),this.implicit)},l.prototype.isUnary=function(){return 1===this.args.length},l.prototype.isBinary=function(){return 2===this.args.length},l.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,o=h(this,e,r,n,!1);if(1===n.length){var i=u.getAssociativity(this,e),a=n[0].toString(t);o[0]&&(a="("+a+")");var s=/[a-zA-Z]+/.test(this.op);return"right"===i?this.op+(s?" ":"")+a:"left"===i?a+(s?" ":"")+this.op:a+this.op}if(2===n.length){var c=n[0].toString(t),f=n[1].toString(t);return o[0]&&(c="("+c+")"),o[1]&&(f="("+f+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+" "+f:c+" "+this.op+" "+f}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=n.map(function(e,r){return e=e.toString(t),o[r]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?p.join(" "):p.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},l.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},l.fromJSON=function(t){return new l(t.op,t.fn,t.args,t.implicit)},l.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,o=h(this,e,r,n,!1);if(1===n.length){var a=u.getAssociativity(this,e),s=n[0].toHTML(t);return o[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+i(this.op)+"</span>"+s:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+i(this.op)+"</span>"+s}if(2===n.length){var c=n[0].toHTML(t),f=n[1].toHTML(t);return o[0]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o[1]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+f:c+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(this.op)+"</span>"+f}var p=n.map(function(e,r){return e=e.toHTML(t),o[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e});return n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(this.op)+"</span>"):'<span class="math-function">'+i(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},l.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",o=this.args,i=h(this,e,r,o,!0),a=n.operators[this.fn];if(a=void 0===a?this.op:a,1===o.length){var s=u.getAssociativity(this,e),c=o[0].toTex(t);return i[0]&&(c="\\left(".concat(c,"\\right)")),"right"===s?a+c:c+a}if(2===o.length){var f=o[0],p=f.toTex(t);i[0]&&(p="\\left(".concat(p,"\\right)"));var l,m=o[1].toTex(t);switch(i[1]&&(m="\\left(".concat(m,"\\right)")),l="keep"===e?f.getIdentifier():f.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+p+"}{"+m+"}";case"OperatorNode:pow":switch(p="{"+p+"}",m="{"+m+"}",l){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return p+"~"+m}return p+a+m}if(o.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var y=o.map(function(e,r){return e=e.toTex(t),i[r]&&(e="\\left(".concat(e,"\\right)")),e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?y.join("~"):y.join(a)}return"\\mathrm{"+this.fn+"}\\left("+o.map(function(e){return e.toTex(t)}).join(",")+"\\right)"},l.prototype.getIdentifier=function(){return this.type+":"+this.fn},l}},uxtw:function(t,e,r){"use strict";var n=r("4bae").getSafeProperty,o=r("4bae").setSafeProperty;e.name="AssignmentNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(r("K6lB")),u=i(r("XZ/J")),c=i(r("2g85")),f=r("Tb0o");function p(e,r,n){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?r:null,this.value=n||r,!t.isSymbolNode(e)&&!t.isAccessorNode(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(t.isSymbolNode(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!t.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!t.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function l(t,e){e||(e="keep");var r=f.getPrecedence(t,e),n=f.getPrecedence(t.value,e);return"all"===e||null!==n&&n<=r}return p.prototype=new s,p.prototype.type="AssignmentNode",p.prototype.isAssignmentNode=!0,p.prototype._compile=function(e,r){var i=this.object._compile(e,r),a=this.index?this.index._compile(e,r):null,s=this.value._compile(e,r),f=this.object.name;if(this.index){if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(t,e,r){var n=i(t,e,r),a=s(t,e,r);return o(n,p,a)}}if(t.isSymbolNode(this.object))return function(t,e,r){var n=i(t,e,r),c=s(t,e,r),p=a(t,e,n);return o(t,f,u(n,p,c)),c};var l=this.object.object._compile(e,r);if(this.object.index.isObjectProperty()){var h=this.object.index.getObjectProperty();return function(t,e,r){var i=l(t,e,r),c=n(i,h),f=a(t,e,c),p=s(t,e,r);return o(i,h,u(c,f,p)),p}}var m=this.object.index._compile(e,r);return function(t,e,r){var n=l(t,e,r),o=m(t,e,n),i=c(n,o),f=a(t,e,i),p=s(t,e,r);return u(n,o,u(i,f,p)),p}}if(!t.isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,r){return o(t,f,s(t,e,r))}},p.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},p.prototype.map=function(t){return new p(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},p.prototype.clone=function(){return new p(this.object,this.index,this.value)},p.prototype._toString=function(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return l(this,t&&t.parenthesis)&&(n="("+n+")"),e+r+" = "+n},p.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},p.fromJSON=function(t){return new p(t.object,t.index,t.value)},p.prototype.toHTML=function(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return l(this,t&&t.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},p.prototype._toTex=function(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return l(this,t&&t.parenthesis)&&(n="\\left(".concat(n,"\\right)")),e+r+":="+n},p}},"v+4T":function(t,e,r){"use strict";e.name="algorithm10",e.factory=function(t,e,r,n){var o=t.DenseMatrix;return function(t,e,r,i){var a=t._values,s=t._index,u=t._ptr,c=t._size,f=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,l=c[0],h=c[1],m=r;"string"==typeof f&&(p=f,e=n.convert(e,p),m=n.find(r,[p,p]));for(var y=[],d=new o({data:y,size:[l,h],datatype:p}),v=[],g=[],x=0;x<h;x++){for(var w=x+1,b=u[x],N=u[x+1],E=b;E<N;E++){var S=s[E];v[S]=a[E],g[S]=w}for(var M=0;M<l;M++)0===x&&(y[M]=[]),g[M]===w?y[M][x]=i?m(e,v[M]):m(v[M],e):y[M][x]=e}return d}}},v0wB:function(t,e,r){"use strict";var n=r("sTyi").map;e.name="ArrayNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(r("K6lB"));function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(t.isNode))throw new TypeError("Array containing Nodes expected");var r=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:r,set:r})}return s.prototype=new a,s.prototype.type="ArrayNode",s.prototype.isArrayNode=!0,s.prototype._compile=function(t,e){var r=n(this.items,function(r){return r._compile(t,e)});if("Array"!==t.config().matrix){var o=t.matrix;return function(t,e,i){return o(n(r,function(r){return r(t,e,i)}))}}return function(t,e,o){return n(r,function(r){return r(t,e,o)})}},s.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++)t(this.items[e],"items["+e+"]",this)},s.prototype.map=function(t){for(var e=[],r=0;r<this.items.length;r++)e[r]=this._ifNode(t(this.items[r],"items["+r+"]",this));return new s(e)},s.prototype.clone=function(){return new s(this.items.slice(0))},s.prototype._toString=function(t){return"["+this.items.map(function(e){return e.toString(t)}).join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},s.fromJSON=function(t){return new s(t.items)},s.prototype.toHTML=function(t){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(e){return e.toHTML(t)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},s.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach(function(r){r.items?e+=r.items.map(function(e){return e.toTex(t)}).join("&"):e+=r.toTex(t),e+="\\\\"}),e+="\\end{bmatrix}"},s}},"wJ/n":function(t,e,r){"use strict";var n=r("1stm");e.name="fraction",e.factory=function(t,e,r,o){var i=o("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,r){return new t.Fraction(e,r)},null:function(e){return new t.Fraction(0)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return n(t,i)}});return i}},wOJ8:function(t,e){function r(){}r.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function o(){n.off(t,o),e.apply(r,arguments)}return o._=e,this.on(t,o,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=r.length;n<o;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],o=[];if(n&&e)for(var i=0,a=n.length;i<a;i++)n[i].fn!==e&&n[i].fn._!==e&&o.push(n[i]);return o.length?r[t]=o:delete r[t],this}},t.exports=r,t.exports.TinyEmitter=r},xFnQ:function(t,e,r){"use strict";e.factory=function(t,e,n,o){var i=n(r("uUDd"));return function t(e){for(var r,n=0,o=0;o<e.length;o++){var a=e[o],s=Array.isArray(a);if(0===o&&s&&(n=a.length),s&&a.length!==n)return;var u=s?t(a):i(a);if(void 0===r)r=u;else if(r!==u)return"mixed"}return r}}},yZWr:function(t,e,r){t.exports=r("b5sn")},zbDx:function(t,e,r){"use strict";var n=r("X8kj");e.name="algorithm13",e.factory=function(t,e,r,o){var i=t.DenseMatrix;return function(t,e,r){var a,s=t._data,u=t._size,c=t._datatype,f=e._data,p=e._size,l=e._datatype,h=[];if(u.length!==p.length)throw new n(u.length,p.length);for(var m=0;m<u.length;m++){if(u[m]!==p[m])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");h[m]=u[m]}var y=r;"string"==typeof c&&c===l&&(a=c,y=o.find(r,[a,a]));var d=h.length>0?function t(e,r,n,o,i,a){var s=[];if(r===n.length-1)for(var u=0;u<o;u++)s[u]=e(i[u],a[u]);else for(var c=0;c<o;c++)s[c]=t(e,r+1,n,n[r+1],i[c],a[c]);return s}(y,0,h,h[0],s,f):[];return new i({data:d,size:h,datatype:a})}}}})});
//# sourceMappingURL=sheetforge.production.min.js.map