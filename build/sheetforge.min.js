!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("mobx-react"),require("mobx-state-tree"),require("react")):"function"==typeof define&&define.amd?define("sheetforge",["mobx-react","mobx-state-tree","react"],t):"object"==typeof exports?exports.sheetforge=t(require("mobx-react"),require("mobx-state-tree"),require("react")):e.sheetforge=t(e["mobx-react"],e["mobx-state-tree"],e.react)}("undefined"!=typeof self?self:this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports
var a=n[r]={i:r,l:!1,exports:{}}
return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={}
return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e}
return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=17)}([function(e,t){e.exports=n},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),p=r(f),m=n(5),y=r(m),h=n(3),v=r(h)
n(27)
var b=["text","multiline","boolean","number","slider"],g=(l=i=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={editing:!1,resetValue:r.props.value},r.getEditorType=function(){var e=r.props.value,t=r.props.type
return void 0!==t&&b.includes(t)?t:(t=void 0===e?"undefined":s(e),"string"===t?e.includes("\n")?"multiline":"text":["boolean","number"].includes(t)?t:"text")},r.resetChanges=function(){r.props.onChange(r.state.resetValue,r.props.value),r.handleToggleEditing()},r.createRefWithAutoFocus=function(e){r.editor=e,e&&("function"==typeof e.focus&&e.focus(),r.props.forceEditMode&&"function"==typeof e.setSelectionRange&&e.setSelectionRange(e.value.length,e.value.length))},r.handleChange=function(e){var t=e.target,n=r.props,a=n.min,o=n.max,u=t.value
switch(r.getEditorType()){case"slider":case"number":u=parseInt(u||0,10),Number.isNaN(u)&&(u=r.props.value),u=(0,y.default)(u,{min:a,max:o})}r.props.onChange(u,r.state.resetValue)},r.handleKeys=function(e){var t=e.target,n=e.key,a=e.ctrlKey,o=e.metaKey
"Escape"===n&&r.resetChanges(),"Enter"===n&&("TEXTAREA"!==t.nodeName||a||o)&&r.handleToggleEditing()},r.handleReceivingFocus=function(){r.props.readonly||r.state.editing||r.handleToggleEditing()},r.handleToggleEditing=function(){if(!r.props.readonly){var e=!r.editing
r.setState({editing:e,resetValue:r.props.value},function(){r.state.editing?r.props.onEditStart():r.props.onEditEnd()})}},r.selectOnFocus=function(e){return e.target.select()},r.toggleBoolean=function(){r.props.onEditStart(),r.props.onChange(!r.props.value,r.props.value),r.props.onEditEnd()},r.renderBoolean=function(){return p.default.createElement("input",{type:"checkbox",checked:Boolean(r.props.value),disabled:r.props.readonly,onChange:r.toggleBoolean})},r.renderMultiline=function(){if(!r.editing){var e=(r.props.value||r.props.placeholder).split("\n"),t=e.map(function(e,t){return p.default.createElement("p",{key:t},e)}),n=["multiline",r.props.value?"":"placeholder"].join(" ").trim()
return p.default.createElement("div",{className:n,onClick:r.handleToggleEditing},t)}return p.default.createElement("textarea",{disabled:r.props.readonly,onBlur:r.handleToggleEditing,onChange:r.handleChange,onFocus:r.selectOnFocus,onKeyDown:r.handleKeys,placeholder:r.props.placeholder,ref:r.createRefWithAutoFocus,rows:r.props.value.split("\n").length,value:r.props.value})},r.renderNumber=function(){return r.editing?p.default.createElement("input",{type:"number",disabled:r.props.readonly,max:r.props.max,min:r.props.min,onBlur:r.handleToggleEditing,onChange:r.handleChange,onFocus:r.selectOnFocus,onKeyDown:r.handleKeys,placeholder:r.props.placeholder,ref:r.createRefWithAutoFocus,step:r.props.step,value:r.props.value}):r.renderStatic()},r.renderSlider=function(){return p.default.createElement("input",{type:"range",disabled:r.props.readonly,max:r.props.max,min:r.props.min,onBlur:r.handleToggleEditing,onChange:r.handleChange,ref:r.createRefWithAutoFocus,step:r.props.step,value:r.props.value})},r.renderText=function(){return r.editing?p.default.createElement("input",{type:"text",disabled:r.props.readonly,onBlur:r.handleToggleEditing,onChange:r.handleChange,onFocus:r.selectOnFocus,onKeyDown:r.handleKeys,placeholder:r.props.placeholder,ref:r.createRefWithAutoFocus,value:r.props.value}):r.renderStatic()},r.renderStatic=function(){var e=r.props.placeholder&&!r.props.value,t=e?"placeholder":""
return p.default.createElement("span",{className:t,onClick:r.handleToggleEditing},e?r.props.placeholder:r.props.value)},r.renderEditor=function(){switch(r.getEditorType()){case"boolean":return r.renderBoolean()
case"slider":return r.renderSlider()
case"multiline":return r.renderMultiline()
case"number":return r.renderNumber()
default:return r.renderText()}},r.render=function(){var e=r.props,t=e.className,n=e.readonly,a=["editable",r.editing?"editing":"",t||"",n?"readonly":""].filter(Boolean),o={}
return n||r.editing||(o={tabIndex:"0",onFocus:r.handleReceivingFocus}),p.default.createElement("div",c({className:a.join(" ")},o),r.renderEditor())},u=n,o(r,u)}return u(t,e),d(t,[{key:"editing",get:function(){return this.props.forceEditMode||this.state.editing}}]),t}(p.default.Component),i.defaultProps={className:"",forceEditMode:!1,max:void 0,min:void 0,onChange:v.default,onEditStart:v.default,onEditEnd:v.default,placeholder:"",readonly:!1,step:1,type:void 0,value:""},l)
t.default=g},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.min,r=t.max
return void 0!==n&&e<n?n:void 0!==r&&e>r?r:e}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.autoHash=void 0
var r=n(2),a=n(12)
t.autoHash=r.types.optional(r.types.identifier(r.types.string),a.randomHash)},function(e,t,n){"use strict"
function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2
return u.types.model({}).views(function(t){return{get xpCost(){return e(t)}}}).actions(function(e){var a=function(){if(!n)return e
try{return(0,u.getParent)(e,n)}catch(t){return console.warn("Failed to find character "+n+" parents up from ExperienceCost model."),e}},i=function(){return a().xp},l=function(e){var t=a()
t&&"function"==typeof t.setXP&&t.setXP(t.xp+e)},c=t.reduce(function(t,n){var a
return o({},t,(a={},r(a,n+"Unguarded",e[n]),r(a,n,function(){var t=i(),r=(0,u.clone)(e)
r[n+"Unguarded"].apply(r,arguments)
var a=r.xpCost-e.xpCost
if(!(t<a))return l(-a),e[n+"Unguarded"].apply(e,arguments)}),a))},{})
return o({},c,{xpCostAfter:function(t){var n=(0,u.clone)(e)
return t(n),n.xpCost},xpCostDelta:function(t){return e.xpCostAfter(t)-e.xpCost}})})}Object.defineProperty(t,"__esModule",{value:!0})
var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
t.default=a
var u=n(2)},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=n(2),a=n(6),o=n(21),u=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r.types.compose(r.types.model("Item",{id:a.autoHash,description:"",name:"New Item",quantity:r.types.optional(r.types.refinement(r.types.number,function(e){return e>=0}),1),type:r.types.optional(r.types.literal("item"),"item"),worth:r.types.optional(r.types.refinement(r.types.number,function(e){return e>=0}),0)}).actions(function(e){return{remove:function(){return(0,r.getParent)(e,2).removeItem(e)},setDescription:function(t){e.description=t},setName:function(t){e.name=t},setQuantity:function(t){e.quantity=t},setWorth:function(t){e.worth=t}}}),u.default)
t.default=i},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return function(n,r){var a=String(n instanceof Map?n.get(e):n[e]),o=String(r instanceof Map?r.get(e):r[e])
return t?o.localeCompare(a):a.localeCompare(o)}}},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=t.toLowerCase(),a=o({},n,{className:((n.className||"")+" "+r).trim()})
return i.default.createElement(c.default,o({caption:n.caption||i.default.createElement("i",{className:"icon-"+r}),className:r,onChange:e["set"+t],value:e[r]},a))}Object.defineProperty(t,"__esModule",{value:!0}),t.renderPropWithIcon=void 0
var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
t.renderEditable=a
var u=n(0),i=r(u),l=n(36),c=r(l)
t.renderPropWithIcon=function(e,t){return a(e,t,{caption:i.default.createElement("abbr",{className:"icon-"+t.toLowerCase(),title:t}),min:0,type:"number"})}},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c,s=n(0),d=r(s),f=n(1),p=n(3),m=r(p)
n(38)
var y=(0,f.observer)((c=l=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={expanded:!1},r.toggleExpanded=function(){r.setState({expanded:!r.state.expanded})},r.render=function(){var e=r.props,t=e.className,n=e.contentsClassName,a=r.props,o=a.renderAlways,u=a.renderCollapsed,i=a.renderExpanded,l=r.state.expanded?"expanded":"collapsed"
return d.default.createElement("div",{className:("card "+l+" "+(t||"")).trim()},d.default.createElement("div",{className:"expander icon-"+l,onClick:r.toggleExpanded}),d.default.createElement("div",{className:("card-contents "+(n||"")).trim()},o(),r.state.expanded?i():u()))},u=n,o(r,u)}return u(t,e),t}(s.Component),l.defaultProps={renderAlways:m.default,renderCollapsed:m.default,renderExpanded:m.default},i=c))||i
t.default=y},function(e,t,n){"use strict"
function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=String(e),r=0
return n.split("").forEach(function(e){r=(r<<5)-r+e.charCodeAt(0),r&=r}),Math.abs(r).toString(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r
t.randomHash=function(){return r(Math.random().toString())}},function(e,t,n){"use strict"
function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t]
return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e<=t?1:-1,a=Math.abs(t-e)/Math.abs(n)+1
return Array.apply(void 0,r(Array(a))).map(function(t,r){return e+r*n})}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=n(2),a=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(a),u=r.types.refinement(r.types.number,function(e){return e>=0}),i=r.types.compose(o.default,r.types.model("Armor",{name:"New Armor",rating:r.types.optional(u,0),type:r.types.optional(r.types.literal("armor"),"armor")}).actions(function(e){return{setRating:function(t){e.rating=t}}}))
t.default=i},function(e,t,n){"use strict"
function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t]
return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES=void 0
var a=n(2),o=n(5),u=function(e){return e&&e.__esModule?e:{default:e}}(o),i=t.TYPES=["ok","light","heavy","bane"],l=a.types.union.apply(a.types,r(i.map(function(e){return a.types.literal(e)}))),c=a.types.model("Health",{levels:a.types.optional(a.types.array(l),[])}).volatile(function(e){return{get parent(){return(0,a.getParent)(e)}}}).views(function(e){return{get damage(){return e.levels.filter(function(e){return"ok"!==e}).length},get max(){var t=e.parent.attribute("resilience").value||0,n=e.parent.attribute("size").value||0
return(0,u.default)(5+t+n,{min:1})}}}).actions(function(e){return{heal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=e.levels.toJS().reverse().filter(function(e){return"ok"!==e})
n.length-=(0,u.default)(t,{max:n.length}),e.levels=[].concat(r(Array(e.max-n.length).fill("ok")),r(n.reverse()))},healAll:function(){e.levels=Array(e.max).fill("ok")},setLevel:function(t,n){if(i.includes(n)){var r=(0,u.default)(t-1,{min:0,max:e.levels.length-1}),a=i.indexOf(n),o=i.indexOf(e.levels[r])
if(a!==o){var l=a>o?"↑":"↓"
e.levels=e.levels.map(function(e,t){if(t===r)return n
var o={}
return"↓"===l&&t<r?o.max=(0,u.default)(a,{min:0}):"↑"===l&&t>r&&(o.min=a),i[(0,u.default)(i.indexOf(e),o)]})}}},afterAttach:function(){(0,a.onSnapshot)(e.parent,function(){return e.resizeValues()}),e.resizeValues(),e.levels=e.levels.sort().reverse()},resizeValues:function(){var t,n=e.max,a=e.levels
a.length<n&&(t=e.levels).unshift.apply(t,r(Array(n-a.length).fill("ok"))),e.levels.length>n&&(e.levels.length=n)}}})
t.default=c},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=n(2),a=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(a),u=r.types.refinement(r.types.array(r.types.number),function(e){return 3===e.length}),i={accuracy:1,damage:0,range:2},l=r.types.compose(o.default,r.types.model("Weapon",{name:"New Weapon",type:r.types.optional(r.types.literal("weapon"),"weapon"),values:r.types.optional(u,[0,0,0])}).views(function(e){return{get accuracy(){return e.values[i.accuracy]},get damage(){return e.values[i.damage]},get range(){return e.values[i.range]}}}).actions(function(e){return{setAccuracy:function(t){e.setValue(i.accuracy,t)},setDamage:function(t){e.setValue(i.damage,t)},setRange:function(t){e.setValue(i.range,t)},setValue:function(t,n){e.values[t]=n},setValues:function(t){e.values=t}}}))
t.default=l},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=r(d),p=n(1),m=n(2),y=n(5),h=r(y),v=n(3),b=r(v),g=n(18),E=r(g),_=n(25),O=r(_),w=n(30),j=r(w),x=n(4),P=r(x),C=n(34),N=r(C),A=n(45),T=r(A),M=n(47),S=r(M),R=n(49),k=r(R),q=n(53),D=r(q)
n(57),n(58)
var V=(0,p.observer)((c=l=function(e){function t(e){a(this,t)
var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))
return n.state={sizeClass:"large"},n.handleWindowResize=function(){if(n.container){var e=n.container.offsetWidth,t=(0,h.default)(Math.floor(e/250),{min:1,max:3}),r=["small","medium","large"][t-1]
n.setState({sizeClass:r})}},n.bindContainer=function(e){n.container=e},n.render=function(){var e=n.character,t=n.state.sizeClass,r=void 0===t?"large":t
return f.default.createElement("div",{className:"sheetforge sheet axis "+r,ref:n.bindContainer},f.default.createElement("header",null,f.default.createElement(P.default,{className:"character-name",value:e.name,onChange:e.setName}),f.default.createElement("div",{className:"xp attribute"},f.default.createElement("span",{className:"name"},"XP"),f.default.createElement(P.default,{min:0,value:e.xp,onChange:e.setXP})),f.default.createElement("div",{className:"rp attribute"},f.default.createElement("span",{className:"name"},"RP"),f.default.createElement(P.default,{min:0,max:5,value:e.rp,onChange:e.setRP})),f.default.createElement("div",{className:"power attribute"},f.default.createElement("div",{className:"name"},"CP"),f.default.createElement(P.default,{value:e.power,readonly:!0}))),f.default.createElement(S.default,{url:e.portraitURL,onChange:e.setPortraitURL}),f.default.createElement(T.default,{health:e.health}),f.default.createElement(j.default,{descriptors:e.descriptors}),f.default.createElement(O.default,{attributes:e.attributes,modifiers:e.modifiers}),f.default.createElement(D.default,{traits:e.traits,modifiers:e.modifiers,addTrait:e.addTrait,layout:r}),f.default.createElement(k.default,{skills:e.skills,modifiers:e.modifiers,addSkill:e.addSkill}),f.default.createElement(N.default,{buttons:f.default.createElement("div",{className:"buttons"},"Add:",f.default.createElement("button",{className:"icon-weapon",onClick:e.addWeapon}),f.default.createElement("button",{className:"icon-armor",onClick:e.addArmor}),f.default.createElement("button",{className:"icon-add",onClick:e.addItem})),equipment:e.equipment,layout:r}))},n.character=E.default.create(e.character),n.disposeOfSnapshotListener=(0,m.onSnapshot)(n.character,n.props.onChange),window.addEventListener("resize",n.handleWindowResize),n}return u(t,e),s(t,[{key:"componentDidMount",value:function(){this.handleWindowResize()}},{key:"componentWillUnmount",value:function(){this.disposeOfSnapshotListener()}}]),t}(d.Component),l.defaultProps={character:{},onChange:b.default},i=c))||i
t.default=V},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t]
return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DESCRIPTORS=t.DERIVED_ATTRIBUTES=t.SECONDARY_ATTRIBUTES=t.PRIMARY_ATTRIBUTES=void 0
var o=n(2),u=n(6),i=n(19),l=n(5),c=r(l),s=n(20),d=r(s),f=n(14),p=r(f),m=n(22),y=r(m),h=n(8),v=r(h),b=n(15),g=r(b),E=n(23),_=r(E),O=n(24),w=r(O),j=n(16),x=r(j),P=t.PRIMARY_ATTRIBUTES=["acuity","agility","confidence","devotion","fitness","focus","intellect","intuition","strength"],C=(t.SECONDARY_ATTRIBUTES=["size","naturalArmor"],t.DERIVED_ATTRIBUTES=["body","mind","spirit","potency","reflex","resilience","accuracy","might","toughness","speed","damageThresholdLight","damageThresholdDeep","damageThresholdDeath","power"],t.DEFAULT_DESCRIPTORS=["age","concept","eyes","gender","hair","height","homeland","race","weight"]),N=function(e){return e.replace(/^./,e.charAt(0).toUpperCase())},A=P.map(function(e){return{id:e,computed:!1,name:N(e),value:-1}}),T=C.map(function(e){return{id:e,name:N(e),value:""}}),M=o.types.model("Character",{id:u.autoHash,name:"Unnamed Character",rp:0,xp:0,portraitURL:"",primaryAttributes:o.types.optional(o.types.array(d.default),A),descriptors:o.types.optional(o.types.array(y.default),T),equipment:o.types.optional(o.types.array(o.types.union(p.default,v.default,x.default)),[]),health:o.types.optional(g.default,{}),skills:o.types.optional(o.types.array(_.default),[]),traits:o.types.optional(o.types.array(w.default),[])}).views(function(e){var t=function(t){return(e.attribute(t)||{}).value||0},n=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r]
return n.map(function(e){return t(e)})},r=[d.default.create({id:"body",value:function(){return(0,i.average)(n("agility","fitness","strength"))},name:"Body"}),d.default.create({id:"mind",value:function(){return(0,i.average)(n("acuity","focus","intellect"))},name:"Mind"}),d.default.create({id:"potency",value:function(){return(0,i.average)(n("confidence","intellect","strength"))},name:"Potency"}),d.default.create({id:"reflex",value:function(){return(0,i.average)(n("acuity","agility","intuition"))},name:"Reflex"}),d.default.create({id:"resilience",value:function(){return(0,i.average)(n("devotion","fitness","focus"))},name:"Resilience"}),d.default.create({id:"speed",value:function(){return(0,i.sum)(6,t("size"),Math.round(t("fitness")/2))},name:"Speed"}),d.default.create({id:"spirit",value:function(){return(0,i.average)(n("confidence","devotion","intuition"))},name:"Spirit"}),d.default.create({id:"damageThresholdLight",name:"Light",value:function(){return e.armorRating+(0,c.default)((0,i.sum)(n("fitness","size","strength")),{min:1})}}),d.default.create({id:"damageThresholdDeep",value:function(){return 2*t("damageThresholdLight")},name:"Deep"}),d.default.create({id:"damageThresholdDeath",value:function(){return 4*t("damageThresholdLight")},name:"Death"}),d.default.create({id:"size",value:function(){return 0},name:"Size"}),d.default.create({id:"naturalArmor",value:function(){return 0},name:"N. Armor"})]
return{get attributes(){return[].concat(a(e.primaryAttributes),r)},get attributeIds(){return[].concat(a(e.primaryAttributes.map(function(e){return e.id})),a(r.map(function(e){return e.id})))},get armor(){return e.equipment.filter(function(e){return p.default.is(e)})},get armorRating(){return t("naturalArmor")+(0,i.sum)(e.armor.map(function(e){return e.equipped?e.rating:0}))},get equipped(){return e.equipment.filter(function(e){return e.equipped})},get power(){return(0,i.sum)([].concat(a(e.primaryAttributes.map(function(e){return e.xpCost})),a(e.skills.map(function(e){return e.xpCost})),a(e.traits.map(function(e){return e.xpCost}))))},get weapons(){return e.equipment.filter(function(e){return x.default.is(e)})}}}).actions(function(e){return{addArmor:function(){e.equipment.push(p.default.create())},addItem:function(){e.equipment.push(v.default.create())},addSkill:function(){e.skills.push(_.default.create())},addTrait:function(){e.traits.push(w.default.create())},addWeapon:function(){e.equipment.push(x.default.create())},attribute:function(t){return e.attributes.find(function(e){return e.id===t})},removeItem:function(t){return e.equipment.remove(t)},removeSkill:function(t){return e.skills.remove(t)},removeTrait:function(t){return e.traits.remove(t)},setAttribute:function(t,n){e.attribute(t).setValue(n)},setName:function(t){e.name=t},setPortraitURL:function(t){e.portraitURL=t},setXP:function(t){e.xp=t},setRP:function(t){e.rp=t}}})
t.default=M},function(e,t,n){"use strict"
function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t]
return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0})
var a=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a]
return e(!r.length&&Array.isArray(t)?t:[t].concat(r))}},o=t.sum=a(function(e){return e.reduce(function(e,t){return e+t},0)})
t.average=a(function(e){return Math.round(o.apply(void 0,r(e))/e.length)})},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={}
for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])
return n}Object.defineProperty(t,"__esModule",{value:!0}),t.createComputed=t.Computed=t.Primary=void 0
var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(2),i=n(5),l=r(i),c=n(13),s=r(c),d=n(7),f=r(d),p=u.types.compose(u.types.model("Attribute",{id:u.types.identifier(u.types.string),computed:u.types.literal(!1),max:10,min:-1,name:u.types.string,value:-1}).actions(function(e){return{setValue:function(t){var n=(0,l.default)(t,{min:e.min,max:e.max})
n!==e.value&&(e.value=n)}}}),(0,f.default)(function(e){return(0,s.default)(-1,e.value).reduce(function(e,t){return e+Math.pow(Math.abs(t+1),2)*(t<0?-1:1)},0)},["setValue"])),m=u.types.model("Attribute",{id:u.types.identifier(u.types.string),computed:u.types.literal(!0),name:u.types.string}),y=function(e){return u.types.compose(m,u.types.model("Attribute",{}).views(function(t){return{get value(){return e(t)}}}))},h=u.types.union(p,m)
h.create=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
var u=e.computed,i=e.value,l=a(e,["computed","value"])
if(u||"function"==typeof i){var c
return(c=y(i)).create.apply(c,[o({},l,{computed:!0})].concat(n))}return p.create.apply(p,[o({},l,{computed:!1,value:i})].concat(n))},t.default=h,t.Primary=p,t.Computed=m,t.createComputed=y},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=n(2),a=r.types.model({equipped:!1}).actions(function(e){return{equip:function(){e.equipped=!0},setEquipped:function(t){e.equipped=Boolean(t)},toggleEquipped:function(){e.equipped=!e.equipped},unequip:function(){e.equipped=!1}}})
t.default=a},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=n(2),a=r.types.model("Descriptor",{id:r.types.identifier(r.types.string),name:"",value:""}).actions(function(e){return{setName:function(t){e.name=t},setValue:function(t){e.value=t}}})
t.default=a},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t]
return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0})
var o=n(2),u=n(6),i=n(13),l=r(i),c=n(7),s=r(c),d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e
return o.types.refinement(o.types.optional(o.types.number,n),function(n){return void 0===n||n>=e&&n<=t})},f=o.types.compose(o.types.model("Skill",{id:u.autoHash,name:"New Skill",theory:d(0,10),mastery:d(0,10)}).views(function(e){return{get modifier(){return(0,o.getParent)(e,2).modifierFor(e.name)}}}).actions(function(e){return{remove:function(){return(0,o.getParent)(e,2).removeSkill(e)},setName:function(t){e.name=t},setTheory:function(t){e.theory=t},setMastery:function(t){e.mastery=t}}}),(0,s.default)(function(e){return[].concat(a((0,l.default)(0,e.theory)),a((0,l.default)(1,e.mastery))).reduce(function(e,t){return e+Math.pow(t,2)},1)},["setMastery","setTheory"]))
t.default=f},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=n(2),a=n(6),o=n(7),u=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r.types.compose(r.types.model("Trait",{id:a.autoHash,name:"New Trait",value:0}).actions(function(e){return{remove:function(){return(0,r.getParent)(e,2).removeTrait(e)},setName:function(t){e.name=t},setValue:function(t){e.value=t}}}),(0,u.default)(function(e){return e.value},["setValue"]))
t.default=i},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=n(0),l=r(i),c=n(26),s=r(c)
n(29)
var d=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,c=Array(i),d=0;d<i;d++)c[d]=arguments[d]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.renderAttribute=function(e){var t=r.props.attributes.find(function(t){return t.id===e})
return l.default.createElement(s.default,{model:t,className:e})},r.renderComputed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=r.props.attributes.find(function(t){return t.id===e})
return l.default.createElement(s.default,{model:n,className:e+" "+t+" computed",computed:!0})},r.renderHeader=function(e,t){return l.default.createElement("div",{className:"attribute "+e+" header highlight"},l.default.createElement("span",{className:"name"},t))},r.render=function(){return l.default.createElement("div",{className:"attributes section"},l.default.createElement("header",null,"Attributes"),r.renderComputed("potency","header highlight"),r.renderComputed("reflex","header highlight"),r.renderComputed("resilience","header highlight"),r.renderComputed("body","header highlight"),r.renderAttribute("strength"),r.renderAttribute("agility"),r.renderAttribute("fitness"),r.renderComputed("mind","header highlight"),r.renderAttribute("intellect"),r.renderAttribute("acuity"),r.renderAttribute("focus"),r.renderComputed("spirit","header highlight"),r.renderAttribute("confidence"),r.renderAttribute("intuition"),r.renderAttribute("devotion"),l.default.createElement("hr",{className:"divider-1"}),r.renderHeader("racial","Racial"),r.renderAttribute("size"),r.renderComputed("speed"),r.renderAttribute("naturalArmor"),l.default.createElement("hr",{className:"divider-2"}),r.renderHeader("thresholds","Damage"),r.renderComputed("damageThresholdLight","light"),r.renderComputed("damageThresholdDeep","deep"),r.renderComputed("damageThresholdDeath","death"))},u=n,o(r,u)}return u(t,e),t}(i.Component)
t.default=d},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c,s=n(0),d=r(s),f=n(1),p=n(4),m=r(p)
n(28)
var y=(0,f.observer)((c=l=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.renderValue=function(){var e=r.props.model,t=e.computed,n=e.min,a=e.max,o=e.value,u="function"!=typeof o?o:o(),i=Boolean(!t&&0),l=t?u+0:u,c=t?d.default.createElement(m.default,{max:a,min:n,readonly:!0,value:l}):d.default.createElement(m.default,{max:a,min:n,onChange:e.setValue,value:u}),f=["value",i?"modified":""].filter(Boolean)
return d.default.createElement("div",{className:f.join(" ")},c,i&&d.default.createElement(s.Fragment,null,"↣",d.default.createElement("span",{className:"temporary"},0)))},r.render=function(){var e=r.props,t=e.className,n=void 0===t?"":t,a=e.model
return d.default.createElement("div",{className:"attribute "+n+" "+a.id},d.default.createElement("span",{className:"name"},a.name),r.renderValue())},u=n,o(r,u)}return u(t,e),t}(s.Component),l.defaultProps={className:"none",min:-10,max:10,model:{id:"none",name:""},modifier:0},i=c))||i
t.default=y},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0})
var a=n(0),o=r(a),u=n(1),i=n(31),l=r(i)
n(33)
var c=["homeland","race","concept","height","weight","gender","eyes","hair","age"],s=function(e){var t=e.descriptors
return o.default.createElement("div",{className:"descriptors section"},o.default.createElement("header",null,"Descriptors"),c.map(function(e){return o.default.createElement(l.default,{key:e,model:t.find(function(t){return t.id===e})})}))}
t.default=(0,u.observer)(s)},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0})
var a=n(0),o=r(a),u=n(1),i=n(4),l=r(i)
n(32)
var c=function(e){var t=e.model
return o.default.createElement("div",{className:"descriptor "+t.id},o.default.createElement("div",{className:"name"},t.name),o.default.createElement(l.default,{className:"value",value:t.value,onChange:t.setValue}))}
t.default=(0,u.observer)(c)},function(e,t){},function(e,t){},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0})
var a=n(0),o=r(a),u=n(1),i=n(9),l=r(i),c=n(35),s=r(c),d=n(14),f=r(d),p=n(40),m=r(p),y=n(42),h=r(y),v=n(16),b=r(v)
n(44)
var g=function(e){return e.sort((0,l.default)("name")).sort((0,l.default)("equipped",!0))},E={},_=(0,u.observer)(function(e){var t=e.buttons,n=e.equipment,r=void 0===n?[]:n,a=e.layout,u=void 0===a?"large":a,i="large"===u?Math.ceil(r.length/2)+1:r.length+1,l={gridTemplateRows:"repeat("+i+", auto)"}
return o.default.createElement("div",{className:"equipment section",style:l},o.default.createElement("header",{className:"icon-backpack"},"Equipment",t),g(r).map(function(e){E[e.id]||(E[e.id]=function(){""===e.name&&e.remove()})
var t={key:e.id,item:e,onEditEnd:E[e.id]},n=m.default
return b.default.is(e)&&(n=h.default),f.default.is(e)&&(n=s.default),o.default.createElement(n,t)}))})
_.displayName="EquipmentSection",t.default=_},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c,s=n(0),d=r(s),f=n(1),p=n(10),m=n(3),y=n(11),h=r(y)
n(39)
var v=(0,f.observer)((c=l=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.renderAlways=function(){var e=r.props,t=e.item,n=e.editing,a=e.onEditEnd,o=e.onEditStart
return d.default.createElement(s.Fragment,null,(0,p.renderEditable)(t,"Equipped",{type:"boolean"}),(0,p.renderEditable)(t,"Name",{className:"icon-armor",forceEditMode:n,onEditEnd:a,onEditStart:o}),(0,p.renderEditable)(t,"Rating",{type:"number",caption:"Armor Rating:"}))},r.renderExpanded=function(){var e=r.props.item
return d.default.createElement(s.Fragment,null,(0,p.renderEditable)(e,"Description",{placeholder:"Description"}))},r.render=function(){return d.default.createElement(h.default,{className:"armor-card",contentsClassName:"item armor",renderAlways:r.renderAlways,renderExpanded:r.renderExpanded})},u=n,o(r,u)}return u(t,e),t}(s.Component),l.defaultProps={item:{},onEditStart:m.noop,onEditEnd:m.noop},i=c))||i
t.default=v},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={}
for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])
return n}Object.defineProperty(t,"__esModule",{value:!0})
var o=n(0),u=r(o),i=n(4),l=r(i)
n(37),t.default=function(e){var t=e.caption,n=e.className,r=a(e,["caption","className"])
return u.default.createElement("label",{className:("labeled-editable "+n).trim()},"string"==typeof t?u.default.createElement("span",{className:"caption"},t):t,u.default.createElement(l.default,r))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c,s=n(0),d=r(s),f=n(1),p=n(10),m=n(11),y=r(m),h=n(3),v=r(h)
n(41)
var b=(0,f.observer)((c=l=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.renderAlways=function(){var e=r.props,t=e.editing,n=e.onEditStart,a=e.onEditEnd,o=e.item
return d.default.createElement(s.Fragment,null,(0,p.renderEditable)(o,"Equipped",{type:"boolean"}),(0,p.renderEditable)(o,"Name",{className:"icon-backpack",forceEditMode:t,onEditEnd:a,onEditStart:n}))},r.renderExpanded=function(){var e=r.props.item,t=e.description||"Description"
return(0,p.renderEditable)(e,"Description",{placeholder:t})},r.render=function(){return d.default.createElement(y.default,{className:"item-card",contentsClassName:"item",renderAlways:r.renderAlways,renderExpanded:r.renderExpanded})},u=n,o(r,u)}return u(t,e),t}(s.Component),l.defaultProps={onEditStart:v.default,onEditEnd:v.default},i=c))||i
t.default=b},function(e,t){},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l=n(0),c=r(l),s=n(1),d=n(10),f=n(11),p=r(f)
n(43)
var m=(0,s.observer)(i=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,s=Array(i),f=0;f<i;f++)s[f]=arguments[f]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.renderAlways=function(){var e=r.props,t=e.editing,n=e.item,a=e.onEditEnd,o=e.onEditStart
return c.default.createElement(l.Fragment,null,(0,d.renderEditable)(n,"Equipped",{type:"boolean"}),(0,d.renderEditable)(n,"Name",{className:"icon-weapon",forceEditMode:t,onEditEnd:a,onEditStart:o}),(0,d.renderEditable)(n,"Damage",{type:"number",caption:c.default.createElement("abbr",{title:"Damage"},"Dmg:")}),(0,d.renderEditable)(n,"Range",{type:"number",caption:c.default.createElement("abbr",{title:"Range"},"Rng:")}),(0,d.renderEditable)(n,"Accuracy",{type:"number",caption:c.default.createElement("abbr",{title:"Accuracy"},"Acc:")}))},r.renderExpanded=function(){var e=r.props.item,t=e.description||"Description"
return(0,d.renderEditable)(e,"Description",{placeholder:t})},r.render=function(){return c.default.createElement(p.default,{className:"item-card weapon-card",contentsClassName:"item weapon",renderAlways:r.renderAlways,renderExpanded:r.renderExpanded})},u=n,o(r,u)}return u(t,e),t}(l.Component))||i
t.default=m},function(e,t){},function(e,t){},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l=n(0),c=r(l),s=n(1),d=n(15),f=n(12),p=r(f)
n(46)
var m=(0,s.observer)(i=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleClick=function(e){var t=r.props.health,n=parseInt(e.target.attributes.index.value,10),a=d.TYPES.indexOf(t.levels[n]),o=a+1
e.shiftKey&&(o=a-1),e.ctrlKey&&(o=0),o>d.TYPES.length-1&&(o=0),o<0&&(o=d.TYPES.length-1),t.setLevel(n+1,d.TYPES[o])},r.render=function(){var e=r.props.health,t=Math.ceil(e.max/10),n=t>1?10:e.max,a={gridTemplateColumns:"repeat("+n+", 1fr)",gridTemplateRows:"repeat("+t+", 1fr)"}
return c.default.createElement("div",{className:"health-bar"},c.default.createElement("header",null,"Health"),c.default.createElement("div",{className:"levels",style:a},e.levels.map(function(e,t){return c.default.createElement("div",{className:e+" icon-health",index:t,key:(0,p.default)(t),onClick:r.handleClick})})))},u=n,o(r,u)}return u(t,e),t}(l.Component))||i
t.default=m},function(e,t){},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c,s=n(0),d=r(s),f=n(1),p=n(4),m=r(p),y=n(3),h=r(y)
n(48)
var v=function(e){return"url("+(e||"//via.placeholder.com/300x400/eeeeee?text=3x4+aspect+ratio")+")"},b=(0,f.observer)((c=l=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={editing:!1},r.toggleEditing=function(){r.setState({editing:!r.state.editing})},r.renderEditor=function(){return d.default.createElement(m.default,{forceEditMode:!0,type:"multiline",onChange:r.props.onChange,onEditEnd:r.toggleEditing,value:r.props.url})},r.render=function(){return d.default.createElement("div",{className:"portrait section"},d.default.createElement("header",null,"Portrait"),d.default.createElement("div",{className:"border-container"},d.default.createElement("div",{className:"image",onClick:r.toggleEditing,style:{backgroundImage:v(r.props.url)}},r.state.editing&&r.renderEditor())))},u=n,o(r,u)}return u(t,e),t}(s.Component),l.defaultProps={onChange:h.default,url:"//via.placeholder.com/300x400/eeeeee?text=3x4+aspect+ratio"},i=c))||i
t.default=b},function(e,t){},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l=n(0),c=r(l),s=n(1),d=n(9),f=r(d),p=n(50),m=r(p)
n(52)
var y=(0,f.default)("name"),h={},v=(0,s.observer)(i=function(e){function t(){var e,n,r,u
a(this,t)
for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s]
return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.render=function(){var e=r.props,t=e.addSkill,n=e.skills,a=void 0===n?[]:n,o=Math.ceil(a.length/2),u={gridTemplateRows:"25px 25px repeat("+(o||1)+", 30px)"}
return c.default.createElement("div",{className:"skills section",style:u},c.default.createElement("header",null,"Skills",c.default.createElement("button",{className:"icon-add",onClick:t})),c.default.createElement("header",{className:"subheader"},c.default.createElement("div",{className:"skill"},c.default.createElement("span",{className:"name"},"Name"),c.default.createElement("abbr",{className:"theory",title:"Theory"},"Th"),c.default.createElement("abbr",{className:"mastery",title:"Mastery"},"Ms")),c.default.createElement("div",{className:"skill"},c.default.createElement("span",{className:"name"},"Name"),c.default.createElement("abbr",{className:"theory",title:"Theory"},"Th"),c.default.createElement("abbr",{className:"mastery",title:"Mastery"},"Ms"))),a.sort(y).map(function(e){return h[e.id]||(h[e.id]=function(){""===e.name&&e.remove()}),c.default.createElement(m.default,{key:e.id,skill:e,onEditEnd:h[e.id]})}))},u=n,o(r,u)}return u(t,e),t}(l.Component))||i
t.default=v},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=r(d),p=n(1),m=n(4),y=r(m),h=n(3),v=r(h)
n(51)
var b=(0,p.observer)((c=l=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.editing,n=e.onEditStart,r=e.onEditEnd,a=e.skill
return f.default.createElement("div",{className:"skill"},f.default.createElement(y.default,{className:"name",forceEditMode:t,onChange:a.setName,onEditStart:n,onEditEnd:r,value:a.name}),f.default.createElement(y.default,{className:"theory",max:10,min:0,type:"number",onChange:a.setTheory,value:a.theory||"-"}),f.default.createElement(y.default,{className:"mastery",max:10,min:0,type:"number",onChange:a.setMastery,value:a.mastery||"-"}))}}]),t}(d.Component),l.defaultProps={onEditStart:v.default,onEditEnd:v.default},i=c))||i
t.default=b},function(e,t){},function(e,t){},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0})
var a=n(0),o=r(a),u=n(1),i=n(9),l=r(i),c=n(3),s=r(c),d=n(54),f=r(d)
n(56)
var p=(0,l.default)("name"),m={},y=(0,u.observer)(function(e){var t=e.addTrait,n=void 0===t?s.default:t,r=e.layout,a=void 0===r?"large":r,u=e.traits,i=void 0===u?[]:u,l="medium"===a?Math.ceil(i.length/2):i.length,c={gridTemplateRows:"25px 25px repeat("+(l||1)+", 30px)"}
return o.default.createElement("div",{className:"traits section",style:c},o.default.createElement("header",null,"Traits",o.default.createElement("button",{className:"icon-add",onClick:n})),o.default.createElement("header",{className:"subheader"},o.default.createElement("div",{className:"trait"},o.default.createElement("span",{className:"name"},"Name"),o.default.createElement("span",{className:"value"},"Cost")),o.default.createElement("div",{className:"trait"},o.default.createElement("span",{className:"name"},"Name"),o.default.createElement("span",{className:"value"},"Cost"))),i.sort(p).map(function(e){return m[e.id]||(m[e.id]=function(){""===e.name&&e.remove()}),o.default.createElement(f.default,{key:e.id,trait:e,onEditEnd:m[e.id]})}))})
y.displayName="TraitSection",t.default=y},function(e,t,n){"use strict"
function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=r(d),p=n(1),m=n(4),y=r(m),h=n(3),v=r(h)
n(55)
var b=(0,p.observer)((c=l=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.editing,n=e.onEditStart,r=e.onEditEnd,a=e.trait
return f.default.createElement("div",{className:"trait"},f.default.createElement(y.default,{className:"name",forceEditMode:t,onChange:a.setName,onEditStart:n,onEditEnd:r,value:a.name}),f.default.createElement(y.default,{className:"value",type:"number",onChange:a.setValue,value:a.value||"-"}))}}]),t}(d.Component),l.defaultProps={onEditStart:v.default,onEditEnd:v.default},i=c))||i
t.default=b},function(e,t){},function(e,t){},function(e,t){},function(e,t){}])})
