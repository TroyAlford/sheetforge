!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("mobx"),require("mobx-state-tree"),require("react"),require("react-dom"),require("mobx-react")):"function"==typeof define&&define.amd?define("sheetforge",["mobx","mobx-state-tree","react","react-dom","mobx-react"],e):"object"==typeof exports?exports.sheetforge=e(require("mobx"),require("mobx-state-tree"),require("react"),require("react-dom"),require("mobx-react")):t.sheetforge=e(t.mobx,t["mobx-state-tree"],t.react,t["react-dom"],t["mobx-react"])}(global,function(t,e,n,r,o){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="05fm")}({"+6pz":function(t,e,n){"use strict";e.name="ParenthesisNode",e.path="expression.node",e.factory=function(t,e,r,o){var i=r(n("K6lB"));function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return a.prototype=new i,a.prototype.type="ParenthesisNode",a.prototype.isParenthesisNode=!0,a.prototype._compile=function(t,e){return this.content._compile(t,e)},a.prototype.getContent=function(){return this.content.getContent()},a.prototype.forEach=function(t){t(this.content,"content",this)},a.prototype.map=function(t){return new a(t(this.content,"content",this))},a.prototype.clone=function(){return new a(this.content)},a.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},a.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},a.fromJSON=function(t){return new a(t.content)},a.prototype.toHTML=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},a.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},a}},"/z5F":function(t,e,n){"use strict";e.name="algorithm12",e.factory=function(t,e,n,r){var o=t.DenseMatrix;return function(t,e,n,i){var a=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=c[0],h=c[1],d=n;"string"==typeof l&&(p=l,e=r.convert(e,p),d=r.find(n,[p,p]));for(var m=[],y=new o({data:m,size:[f,h],datatype:p}),v=[],g=[],b=0;b<h;b++){for(var x=b+1,w=u[b],N=u[b+1],E=w;E<N;E++){var S=s[E];v[S]=a[E],g[S]=x}for(var O=0;O<f;O++)0===b&&(m[O]=[]),g[O]===x?m[O][b]=i?d(e,v[O]):d(v[O],e):m[O][b]=i?d(e,0):d(0,e)}return y}}},"05fm":function(t,e,n){"use strict";n.r(e);n("H3yI");var r=n("MVZn"),o=n.n(r),i=n("QILm"),a=n.n(i),s=n("lSNA"),u=n.n(s),c=n("YeEv"),l=function(){},p=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t,e,n){return n.indexOf(t)===e})},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return c.types.model({}).volatile(function(){return{isICategorizable:!0}}).views(function(e){function n(){if(!e.name)return[];var t=e.name.split(":");return t.pop(),p(t.map(function(t){return t.trim()}).filter(Boolean)).sort()}var r=e.name,o=n();return{get categories(){return e.name&&e.name!==r?(r=e.name,o=n()):o},get categoryValue(){return t(e)}}})},h=n("cDf5"),d=n.n(h),m=n("f66B"),y=n.n(m),v=n("VBo9"),g=/([a-z0-9-_]+)(?![["'\].])*/gi,b=function(t){return"string"!=typeof t?null:t.match(g)},x=function(t,e){if("string"==typeof e){var n=b(e);if(Array.isArray(n)){var r=n.pop(),o=n.reduce(function(t,e){return t[e]||{}},t);return o?o[r]:void 0}}},w=c.types.model("IEditable",{}).volatile(function(){return{isIEditable:!0,savedVersion:{}}}).views(function(t){return{get isDirty(){return!y()(t.toJSON(),t.savedVersion)}}}).actions(function(t){return{afterCreate:function(){t.savedVersion=t.toJSON()},isPathDirty:function(e){var n=x(t.toJSON(),e),r=x(t.savedVersion,e);return!y()(n,r)},markAsClean:function(){t.savedVersion=t.toJSON(),Object.keys(t.savedVersion).forEach(function(e){var n=t[e];n&&(n.isIEditable?n.markAsClean():Object(v.isObservableArray)(n)&&n.forEach(function(t){return t&&t.isIEditable&&t.markAsClean()}))})},reset:function(){Object.assign(t,t.savedVersion)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;"string"==typeof e&&void 0!==n?void 0!==t[e]?t[e]=n:function(t,e,n){var r=b(e),o=r.pop(),i=r.reduce(function(t,e){return t[e]||{}},t);i&&i.isIEditable?i.set(o,n):i[o]=n}(t,e,n):"object"===d()(e)&&void 0===n&&Object.assign(t,e)}}});var N=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=String(t),r=0;return n.split("").forEach(function(t){r=(r<<5)-r+t.charCodeAt(0),r&=r}),Math.abs(r).toString(e)}(Math.random().toString())},E=c.types.model({}).volatile(function(){return{hash:""}}).actions(function(t){return{afterCreate:function(){t.hash=N()}}}),S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;if(!Object(c.hasParent)(t))return null;for(var n=Object(c.getParent)(t);n;){if(e(n))return n;if(!Object(c.hasParent)(n))return null;n=Object(c.getParent)(n)}return null},O=n("yZWr"),M=n.n(O).a.create();M.import(n("Wbaz")),M.import(n("lFTT")),M.import(n("NEdZ")),M.import(n("EjzI")),M.import(n("rVKH")),M.import(n("QllX")),M.import(n("gV/b")),M.import(n("NU+P")),M.import(n("CaZ0")),M.import(n("N5iU")),M.import(n("O1N0")),M.import(n("BSwV")),M.import(n("itDh")),M.import(n("FC7u")),M.import(n("I5O3")),M.import(n("Z+cb")),M.import(n("R4H5")),M.import(n("ohYX")),M.import(n("ZS3Q"));var C=M,A=function(t){var e=[],n=[];return C.parse(t).traverse(function(t){t.fn&&e.push(t.fn.name),"SymbolNode"!==t.type||n.includes(t.name)||e.includes(t.name)||n.push(t.name)}),n},_=c.types.compose(E,f(function(t){return t.modifiedValue()}),w,c.types.model({name:"New Attribute...",raw:c.types.optional(c.types.union(c.types.number,c.types.string),0)}).views(function(t){return{get character(){return S(t,function(t){return t.isCharacter})},get id(){return t.name.split(":").pop().trim().toLowerCase().replace(/[^a-z0-9]/gi,"")},get isComputed(){return"string"==typeof t.raw}}}).actions(function(t){var e=!1;return{effects:function(){return t.character?t.character.activeEffects().filter(function(e){return e.targetId===t.id}):[]},modifiedValue:function(){return(t.value()||0)+t.modifier()},modifier:function(){return C.sum(t.effects().map(function(t){return t.modifier}))},modifierText:function(){return t.effects().map(function(t){return"".concat(t.sourceName(),": ").concat(t.modifier)}).join(", ")},value:function(){if(!t.isComputed)return t.raw;if(null===t.character)return 0;if(e)return 0;e=!0;var n=0;try{var r=A(t.raw).reduce(function(e,n){var r=t.character.attributes.findBy("id",n);return Object.assign(e,u()({},n,r?r.modifiedValue():0))},{});n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{defaultSymbolValue:0},r=o()({},e);return A(t).forEach(function(t){void 0===r[t]&&(r[t]=n.defaultSymbolValue)}),C.eval(t,r)}(t.raw,r)}catch(t){0,n=0}return e=!1,n}}}).preProcessSnapshot(function(t){var e=t.value,n=a()(t,["value"]);return o()({},n,{raw:e})}).postProcessSnapshot(function(t){var e=t.raw,n=a()(t,["raw"]);return o()({},n,{value:e})})).named("Attribute"),T=c.types.compose(E,f(),w,c.types.model({name:"New Descriptor...",value:""})).named("Descriptor"),D=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.types.model({values:c.types.array(t)}).views(function(t){return{get asArray(){return t.values.slice()},get first(){return t.length?t.at(0):void 0},get last(){return t.length?t.at(t.length-1):void 0},get length(){return t.values.length}}}).actions(function(e){return{at:function(t){return e.values[t]},clear:function(){return e.values.clear()},delete:function(t){e.values.replace(e.values.filter(function(e){return e!==t}))},deleteAt:function(t){e.values.replace(e.values.filter(function(e,n){return n!==t}))},every:function(t){return e.values.every(t)},filter:function(t){return e.values.filter(t)},find:function(t){return e.values.find(t)},findBy:function(t,n){return e.find(function(e){return e[t]===n})},findById:function(n){return t.identifierAttribute&&e.find(function(e){return e[t.identifierAttribute]===n})||null},forEach:function(t){return e.values.forEach(t)},includes:function(t,n){return e.values.includes(t,n)},indexOf:function(t){return e.values.indexOf(t)},insert:function(t,n){return e.splice(n,0,t)},map:function(t){return e.values.map(t)},pop:function(){return e.values.pop()},push:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.values.replace([].concat(e.values,n))},reduce:function(t,n){return e.values.reduce(t,n)},replace:function(t){return e.values.replace(t)},shift:function(){return e.values.shift()},slice:function(t,n){return e.values.slice(t,n)},some:function(t){return e.values.some(t)},sortBy:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";if(!["asc","desc"].includes(n))throw new TypeError('direction must be "asc" or "desc", got: "'.concat(n,'"'));var r=e.values.slice().sort(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o=String(n instanceof Map?n.get(t):n[t]),i=String(r instanceof Map?r.get(t):r[t]);return e?i.localeCompare(o):o.localeCompare(i)}}(t));return e.values.replace("desc"===n?r.reverse():r),e},splice:function(t,n,r){return e.values.splice(t,n,r)},toObject:function(t,n){return e.values.reduce(function(e,r){var i=r[t],a=void 0!==n?r[n]:r;return o()({},e,u()({},i,"function"==typeof a?a():a))},{})},unshift:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.values.replace([].concat(n,e.values))}}}).postProcessSnapshot(function(t){return t.values});return c.types.custom(o()({},e,{fromSnapshot:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.create({values:t})},getValidationMessage:function(e){return e?(Object(v.isObservableArray)(e)||Array.isArray(e))&&e.every(function(e){return t.is(e)})?"":"Collection types must be assigned an array of values or null":""},isTargetType:function(t){return n.is(t)},name:e.name||"Collection"}))},k=c.types.compose(E,w,c.types.model({condition:"",modifier:0,targetId:""}).actions(function(t){return{afterAttach:function(){!t.targetId&&t.available().length&&(t.targetId=t.available().first.id)},available:function(){var e=t.character();return e?e.attributes:D(_).create([])},character:function(){return S(t,function(t){return t.isCharacter})},isApplicable:function(){var e=t.character();return Boolean(!t.condition||e&&e.conditions.includes(t.condition))},source:function(){return S(t,function(t){return t.name})||null},sourceName:function(){return t.source()?t.source().name:"Unknown"},target:function(){var e=t.character();return e?e.attributes.findBy("name",t.targetId):null}}})).named("Effect"),j=c.types.compose(E,f(),w,c.types.model({description:"",effects:D(k),equipped:!1,name:"New Item..."})).named("Item"),P=c.types.compose(E,f(),w,c.types.model({current:0,maximum:10,name:"New Resource..."})).named("Resource"),B=c.types.compose(E,f(function(t){return t.mastery}),w,c.types.model({mastery:1,name:"New Skill...",theory:0}).views(function(t){return{get isComplex(){return 0!==t.theory},get isSimple(){return 0===t.theory}}})).named("Skill"),I=c.types.compose(E,w,c.types.model({amount:0,resourceName:""}).views(function(t){return{get available(){return t.character?t.character.resources:D(P).create([])},get character(){return S(t,function(t){return t.isCharacter})}}}).actions(function(t){return{afterAttach:function(){!t.resourceName&&t.available.length&&(t.resourceName=t.available.first.name)},resource:function(){return t.character?t.character.resources.findBy("name",t.resourceName):null}}})).named("Cost"),z=c.types.compose(E,f(function(t){return t.level}),w,c.types.model({costs:D(I),description:"",effects:D(k),isActive:!1,level:0,name:"New Spell..."}).views(function(t){return{get character(){return S(t,function(t){return t.isCharacter})}}}).actions(function(t){return{cast:function(){t.isAffordable()&&t.costs.forEach(function(t){var e=t.resource();e.set({current:e.current-t.amount})})},isAffordable:function(){return!t.character||!t.costs.length||t.costs.every(function(t){return t.resource()&&t.resource().current>=t.amount})}}})).named("Spell"),F=c.types.compose(E,f(function(t){return t.value}),w,c.types.model("Trait",{effects:D(k),name:"New Trait...",value:0})).named("Trait");var R=c.types.compose(E,w,c.types.model({attributes:D(_),conditions:D(c.types.string),descriptors:D(T),experience:0,items:D(j),resources:D(P),skills:D(B),spells:D(z),traits:D(F)}).volatile(function(){return{isCharacter:!0}}).actions(function(t){return{activeEffects:function(){return t.effects().filter(function(t){return t&&t.isApplicable()})},availableConditions:function(){return t.effects().map(function(t){return t.condition}).concat(t.conditions.asArray).sort().filter(function(t,e,n){return!e||t!==n[e-1]}).filter(Boolean)},effects:function(){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(!e||!Array.isArray(e))throw new TypeError("cannot flatten non-Array value ".concat(JSON.stringify(e)));return e.reduce(function(e,r){return n>1&&r&&Array.isArray(r)?e.concat(t(r,n-1)):e.concat(r)},[])}([t.traits.filter(Boolean).map(function(t){return t.effects.values}),t.spells.filter(function(t){return t.isActive}).map(function(t){return t.effects.values}),t.items.filter(function(t){return t.equipped}).map(function(t){return t.effects.values})]).filter(Boolean)}}})).named("Character"),L=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return c.types.optional(c.types.refinement(c.types.number,function(n){return void 0===n||n>=t&&n<=e}),n)},U=c.types.compose(E,w,c.types.model({categorize:!1,children:D(c.types.late(function(){return U})),colSpan:L(1,4,1),columns:L(1,4,1),filter:c.types.maybe(c.types.string),sortOption:c.types.maybe(c.types.number),title:c.types.union(c.types.maybe(c.types.string),c.types.literal(!1)),type:c.types.maybe(c.types.string)})).named("Layout"),H=U,X=n("pVnL"),J=n.n(X),W=n("lwsE"),q=n.n(W),V=n("W8MJ"),K=n.n(V),Z=n("a1gu"),Y=n.n(Z),$=n("Nsbk"),Q=n.n($),G=n("PJYZ"),tt=n.n(G),et=n("7W2i"),nt=n.n(et),rt=n("sGQ9"),ot=n("cDcd"),it=n.n(ot),at=function(t,e){var n=e.min,r=e.max;return void 0!==n&&t<n?n:void 0!==r&&t>r?r:t},st=(n("S5k1"),["text","multiline","boolean","number","slider"]),ut=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"state",{editing:!1,resetValue:n.props.value}),u()(tt()(n),"getEditorType",function(){var t=n.props.value,e=n.props.type;return void 0!==e&&st.includes(e)?e:"string"===(e=d()(t))?t.includes("\n")?"multiline":"text":["boolean","number"].includes(e)?e:"text"}),u()(tt()(n),"resetChanges",function(){n.props.onChange(n.state.resetValue,n.props.value),n.handleToggleEditing()}),u()(tt()(n),"createRefWithAutoFocus",function(t){t&&(n.editor=t,"boolean"!==n.getEditorType()&&"function"==typeof t.focus&&t.focus(),["boolean","number"].includes(n.getEditorType())||n.props.forceEditMode&&"function"==typeof t.setSelectionRange&&t.setSelectionRange(t.value.length,t.value.length))}),u()(tt()(n),"handleChange",function(t){var e=t.target,r=n.props,o=r.min,i=r.max,a=e.value;switch(n.getEditorType()){case"slider":case"number":a=parseFloat(a||0),Number.isNaN(a)&&(a=n.props.value),a=at(a,{max:i,min:o})}n.props.onChange(a,n.state.resetValue)}),u()(tt()(n),"handleKeys",function(t){var e=t.target,r=t.key,o=t.ctrlKey,i=t.metaKey;n.props.onKeyDown!==l&&(n.props.onKeyDown(t),t.isDefaultPrevented())||("Escape"===r&&n.resetChanges(),"Enter"===r&&("TEXTAREA"!==e.nodeName||o||i)&&n.handleToggleEditing())}),u()(tt()(n),"handleReceivingFocus",function(){n.props.readOnly||n.state.editing||n.handleToggleEditing()}),u()(tt()(n),"handleToggleEditing",function(){if(!n.props.readOnly){var t=!n.editing;n.setState({editing:t,resetValue:n.props.value},function(){n.state.editing?n.props.onEditStart():n.props.onEditEnd()})}}),u()(tt()(n),"selectOnFocus",function(t){return t.target.select()}),u()(tt()(n),"toggleBoolean",function(){n.props.onEditStart(),n.props.onChange(!n.props.value,n.props.value),n.props.onEditEnd()}),u()(tt()(n),"renderBoolean",function(){return it.a.createElement("input",{type:"checkbox",checked:Boolean(n.props.value),disabled:n.props.readOnly,onChange:n.toggleBoolean,ref:n.createRefWithAutoFocus})}),u()(tt()(n),"renderMultiline",function(){if(!n.editing){var t=(n.props.value||n.props.placeholder).split("\n").map(function(t,e){return it.a.createElement("p",{key:e},t)}),e=["multiline",n.props.value?"":"placeholder"].join(" ").trim();return it.a.createElement("div",{className:e,onClick:n.handleToggleEditing},t)}return it.a.createElement("textarea",{disabled:n.props.readOnly,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,rows:n.props.value.split("\n").length,value:n.props.value})}),u()(tt()(n),"renderNumber",function(){return n.editing?it.a.createElement("input",{type:"number",disabled:n.props.readOnly,max:n.props.max,min:n.props.min,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,step:n.props.step,value:n.props.value}):n.renderStatic()}),u()(tt()(n),"renderSlider",function(){return it.a.createElement("input",{type:"range",disabled:n.props.readOnly,max:n.props.max,min:n.props.min,onBlur:n.handleToggleEditing,onChange:n.handleChange,onKeyDown:n.props.onKeyDown,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,ref:n.createRefWithAutoFocus,step:n.props.step,value:n.props.value})}),u()(tt()(n),"renderText",function(){return n.editing?it.a.createElement("input",{type:"text",disabled:n.props.readOnly,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,value:n.props.value}):n.renderStatic()}),u()(tt()(n),"renderStatic",function(){var t=n.props,e=t.placeholder,r=t.readOnlyValue,o=t.value,i=e&&!o,a=void 0!==r?r:o,s=i?"placeholder":"";return it.a.createElement("span",{className:s,onClick:n.handleToggleEditing},i?e:a)}),u()(tt()(n),"renderEditor",function(){switch(n.getEditorType()){case"boolean":return n.renderBoolean();case"slider":return n.renderSlider();case"multiline":return n.renderMultiline();case"number":return n.renderNumber();default:return n.renderText()}}),u()(tt()(n),"render",function(){var t=n.props,e=t.className,r=t.readOnly,o=["editable",n.editing?"editing":"",e||"",r?"readonly":""].filter(Boolean),i={};return r||n.editing||(i={onFocus:n.handleReceivingFocus,tabIndex:"0"}),it.a.createElement("div",J()({className:o.join(" ")},i),n.renderEditor())}),n}return nt()(e,t),K()(e,[{key:"editing",get:function(){return this.props.forceEditMode||this.state.editing}}]),e}(it.a.Component);u()(ut,"displayName","Editable"),u()(ut,"defaultProps",{className:"",forceEditMode:!1,max:void 0,min:void 0,onChange:l,onEditEnd:l,onEditStart:l,onKeyDown:l,onKeyPress:l,onKeyUp:l,placeholder:"",readOnly:!1,readOnlyValue:void 0,step:1,type:void 0,value:""});var ct=n("RIqP"),lt=n.n(ct),pt=function(t,e){var n=t<=e?1:-1,r=Math.abs(e-t)/Math.abs(n)+1;return Array.apply(void 0,lt()(Array(r))).map(function(e,r){return t+r*n})},ft=(n("VHFM"),function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"handleIconClick",function(t){var e=parseInt(t.target.getAttribute("data-number"),10);n.props.onChange(e===n.props.current?e-1:e)}),u()(tt()(n),"render",function(){var t=n.props,e=t.allowExcess,r=t.current,o=t.iconExcess,i=t.iconOff,a=t.iconOn,s=t.maximum,u=e?C.max(r,s):s;return it.a.createElement("div",{className:"rating"},u>0||e&&r>0?pt(1,at(u,{min:1})).map(function(t){return it.a.createElement("span",{"data-number":t,key:t,onClick:n.handleIconClick,title:t},t<=r&&t<=s&&a,t>r&&t<=s&&i,t>s&&o)}):null)}),n}return nt()(e,t),e}(ot.Component));u()(ft,"defaultProps",{allowExcess:!1,current:0,iconExcess:it.a.createElement("span",{className:"dot excess icon-add"}),iconOff:it.a.createElement("span",{className:"dot empty"}),iconOn:it.a.createElement("span",{className:"dot filled"}),maximum:5,onChange:l});n("i9wh");var ht,dt,mt,yt,vt,gt,bt,xt,wt,Nt=Object(rt.observer)((mt=dt=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"CACHE",{}),u()(tt()(n),"handleSnapshot",function(t){var e=n.props.model.effects().map(function(t){return t.toJSON()});JSON.stringify(e)===JSON.stringify(n.CACHE.effects)&&JSON.stringify(t.conditions)===n.CACHE.conditions&&n.CACHE.value===n.props.model.value()||(n.CACHE.conditions=JSON.stringify(t.conditions),n.CACHE.effects=e,n.CACHE.value=n.props.model.value(),n.forceUpdate())}),u()(tt()(n),"handleChangeName",function(t){var e=n.props.model.id;n.props.model.set({name:t}),n.props.model.character.effects().filter(function(t){return t.targetId===e}).forEach(function(t){t.set({targetId:""}),t.set({targetId:n.props.model.id})})}),u()(tt()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),u()(tt()(n),"handleChangeValue",function(t){var e=String(t).replace(/[^a-z0-9+*()\-\/, ]/gi,"");Number.isNaN(Number(t))||(e=at(Number(t)||"",{max:999,min:-99})),n.props.model.set({raw:e})}),u()(tt()(n),"handleCommitValue",function(){""===String(n.props.model.raw)&&n.props.model.set({raw:0})}),u()(tt()(n),"handleValueKeyDown",function(t){var e=t.key,r=n.props.model;if(!r.isComputed)switch(e){case"ArrowUp":r.set({raw:r.value()+1});break;case"ArrowDown":r.set({raw:r.value()-1})}}),n}return nt()(e,t),K()(e,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(c.onSnapshot)(this.props.model.character,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var t=this.props,e=t.model,n=t.rating,r=e.modifiedValue(),o=e.value(),i=["attribute","as-".concat(n?"rating":"numeric"),"".concat(e.isComputed?"is":"not","-computed")].join(" "),a=e.modifier(),s=["modifier",a>0&&"positive",a<0&&"negative",0===a&&"zero"].filter(Boolean).join(" ");return it.a.createElement("div",{className:i},it.a.createElement(ut,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:e.name}),it.a.createElement(ut,{className:"value rating",onChange:this.handleChangeValue,onEditEnd:this.handleCommitValue,onKeyDown:this.handleValueKeyDown,readOnlyValue:it.a.createElement(ft,{allowExcess:!0,current:r,maximum:o}),type:"text",value:e.raw}),it.a.createElement(ut,{className:"value numeric",onChange:this.handleChangeValue,onEditEnd:this.handleCommitValue,onKeyDown:this.handleValueKeyDown,readOnlyValue:o,type:"text",value:e.raw}),0!==e.effects().length&&it.a.createElement("div",{className:s,title:e.modifierText()},r))}}]),e}(ot.Component),u()(dt,"defaultProps",{model:{},onDelete:l,rating:!1}),u()(dt,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return t.name}},{display:"icon-sort-value-asc",getter:function(t){return t.modifiedValue()}}]),ht=mt))||ht,Et=(n("k8Dq"),Object(rt.observer)((gt=vt=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"handleChangeName",function(t){return n.props.model.set({name:t})}),u()(tt()(n),"handleChangeValue",function(t){return n.props.model.set({value:t})}),u()(tt()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),n}return nt()(e,t),K()(e,[{key:"render",value:function(){return it.a.createElement("div",{className:"descriptor"},it.a.createElement(ut,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:this.props.model.name}),it.a.createElement(ut,{className:"value",type:"text",onChange:this.handleChangeValue,value:this.props.model.value}))}}]),e}(ot.Component),u()(vt,"defaultProps",{model:{},onDelete:l}),u()(vt,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return t.name}},{display:"icon-sort-value-asc",getter:function(t){return t.value}}]),yt=gt))||yt),St=(n("5UjR"),Object(rt.observer)((wt=xt=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"handleChangeCondition",function(t){return n.props.model.set({condition:t})}),u()(tt()(n),"handleChangeModifier",function(t){return n.props.model.set({modifier:t})}),u()(tt()(n),"handleChangeTarget",function(t){var e=t.target.value;return n.props.model.set({targetId:e})}),n}return nt()(e,t),K()(e,[{key:"render",value:function(){var t=this.props.model,e=t.available,n=t.condition,r=void 0===n?"":n,o=t.isApplicable,i=t.modifier,a=t.targetId;return it.a.createElement("div",{className:"effect ".concat(o?"applicable":"").trim()},it.a.createElement("select",{className:"target",value:a,onChange:this.handleChangeTarget},e().map(function(t){var e=t.hash,n=t.id,r=t.name;return it.a.createElement("option",{key:e,value:n},r)})),it.a.createElement(ut,{className:"modifier",max:999,min:-99,onChange:this.handleChangeModifier,value:i}),it.a.createElement(ut,{className:"condition",onChange:this.handleChangeCondition,placeholder:"Any",value:r}))}}]),e}(ot.Component),u()(xt,"defaultProps",{model:{}}),u()(xt,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return[!t.targetId,t.targetId]}},{display:"icon-sort-value-asc",getter:function(t){return[!t.condition,t.modifier]}}]),bt=wt))||bt),Ot=n("faye"),Mt=(n("0dDA"),function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"state",{expanded:!1}),u()(tt()(n),"expander",it.a.createRef()),u()(tt()(n),"handleToggle",function(){var t=n.expander.current.parentElement.classList,e=n.state.expanded;n.setState({expanded:!e},function(){n.props.onToggle(!e),t[e?"remove":"add"]("expanded")})}),u()(tt()(n),"renderExpanded",function(){var t=n.props,e=t.children;return t.omitItemWrapper?e:it.a.createElement("div",{className:"expandable"}," ",e)}),n}return nt()(e,t),K()(e,[{key:"componentWillMount",value:function(){this.setState({expanded:this.props.expandByDefault})}},{key:"componentDidMount",value:function(){this.expander.current.parentElement.classList.add("expandable-wrapper")}},{key:"render",value:function(){var t=this.props,e=t.toggleButtonParent,n=t.toggleButtonText,r=this.state.expanded?"expanded":"collapsed",o={className:"expandable-toggle icon-".concat(r),onClick:this.handleToggle,ref:this.expander},i=it.a.createElement("div",J()({},o,{text:n}));return it.a.createElement(ot.Fragment,null,e?Object(Ot.createPortal)(i,e):i,this.state.expanded&&this.renderExpanded())}}]),e}(ot.Component));u()(Mt,"defaultProps",{expandByDefault:!1,omitItemWrapper:!1,onToggle:l,toggleButtonParent:null,toggleButtonText:""});var Ct=n("U/5H"),At=n.n(Ct),_t=(n("djCb"),function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"state",{selected:null}),u()(tt()(n),"handleOptionClick",function(t){var e=t.target,r=lt()(e.parentElement.children).indexOf(e),o=n.props.options[r];void 0!==n.props.selected?n.props.onChange(o):n.setState({selected:o})}),n}return nt()(e,t),K()(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.options,o=void 0!==this.props.selected?this.props.selected:this.state.selected;return it.a.createElement("div",{className:"multi-toggle ".concat(n).trim()},r.map(function(e,n){return it.a.createElement("div",{className:"toggle ".concat(e===o?"on":"off").trim(),key:n,onClick:t.handleOptionClick},e.display)}))}}]),e}(ot.Component));function Tt(t,e,n){var r,o=this;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(o,a)},e),u&&t.apply(o,a)}}u()(_t,"defaultProps",{className:"",onChange:l,options:[],selected:void 0});n("e8LY");var Dt,kt,jt,Pt,Bt,It,zt,Ft,Rt,Lt,Ut,Ht,Xt,Jt,Wt,qt,Vt,Kt,Zt,Yt,$t,Qt,Gt,te="Uncategorized",ee=function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(e.sortOptions||[]).map(function(t){return o()({},t,{comparitor:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o=t(n),i=t(r);if(Array.isArray(o)&&Array.isArray(i)){for(var a=0;a<o.length;a+=1)if(o[a]!==i[a])return e?i[a]<o[a]?-1:1:o[a]<i[a]?-1:1;return 0}if("number"==typeof o&&"number"==typeof i)return o===i?0:e?i<o?-1:1:o<i?-1:1;var s=String(o),u=String(i);return e?u.localeCompare(s):s.localeCompare(u)}}(t.getter),display:"string"==typeof t.display?it.a.createElement("span",{className:t.display}):t.display})});return r=n=function(n){function r(){var n,i;q()(this,r);for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return i=Y()(this,(n=Q()(r)).call.apply(n,[this].concat(c))),u()(tt()(i),"Component",e),u()(tt()(i),"Model",t),u()(tt()(i),"container",it.a.createRef()),u()(tt()(i),"expandedItems",{}),u()(tt()(i),"filterEl",it.a.createRef()),u()(tt()(i),"onDataSnapshotDisposer",l),u()(tt()(i),"onLayoutSnapshotDisposer",l),u()(tt()(i),"sortable",null),u()(tt()(i),"state",{expanded:{},sortOption:null}),u()(tt()(i),"getCategoryItems",function(t,e){return e&&e!==te?t.filter(function(t){return(t.categories||[]).includes(e)}):t.filter(function(t){return 0===(t.categories||[]).length})}),u()(tt()(i),"handleAdd",function(){i.props.collection.push(t.create({})),i.forceUpdate()}),u()(tt()(i),"handleDelete",function(t){var e=t.target,n=parseInt(e.parentNode.getAttribute("data-index"),10);i.props.collection.deleteAt(n),i.forceUpdate()}),u()(tt()(i),"handleFilterChange",function(t){var e=t.target;return i.props.layout.set({filter:e.value})}),u()(tt()(i),"handleSort",function(){return i.props.collection.sortBy("name")}),u()(tt()(i),"handleSortChange",function(t){var e=i.state.sortOption;i.setState({sortOption:e===t?null:t},function(){i.props.layout.set({sortOption:e===t?void 0:a.indexOf(t)})})}),u()(tt()(i),"handleToggleCategorized",function(){i.props.layout.set({categorize:!i.props.layout.categorize})}),u()(tt()(i),"handleToggleExpanded",function(t,e){i.setState(function(n){return o()({},n,{expanded:o()({},n.expanded,u()({},t,e))})})}),u()(tt()(i),"renderCategoryWidget",function(){var t=i.props.layout,e=tt()(i).categories;if(!e.length)return null;var n=["categorize icon-categorize",t.categorize?"on":"off"].join(" ");return it.a.createElement(it.a.Fragment,null,it.a.createElement("div",J()({className:n},{onClick:i.handleToggleCategorized})),it.a.createElement("select",{className:"filter",onChange:i.handleFilterChange,ref:i.filterEl,tabIndex:-1,value:t.filter},it.a.createElement("option",{value:""},"All"),e.map(function(t){return it.a.createElement("option",{key:t,value:t},t)})))}),u()(tt()(i),"renderSortWidget",function(){return i.props.sortable&&a.length?it.a.createElement(_t,{className:"sorter",onChange:i.handleSortChange,options:a,selected:i.state.sortOption}):null}),u()(tt()(i),"renderCategory",function(t,e){var n=i.props.columns,r=i.getCategoryItems(e,t);if(!r.length)return null;var o=r.map(function(t){return t.categoryValue}),a=Math.min.apply(Math,lt()(o)),s=Math.max.apply(Math,lt()(o));return it.a.createElement("div",{key:t,className:"category"},it.a.createElement("div",{className:"details"},it.a.createElement("div",{className:"title"},"Category: ",t," (",r.length,")"),!Number.isNaN(a)&&!Number.isNaN(s)&&it.a.createElement("div",{className:"range"},a,"-",s)),it.a.createElement("div",{className:"category-items",style:{columns:n}},r.map(i.renderItem)))}),u()(tt()(i),"renderItem",function(t){var n=i.props,r=n.collection,o=n.layout,a=n.sortable,s=i.state,u=s.expanded,c=s.sortOption,l=a&&null!==c,p=o&&o.categorize;return it.a.createElement("div",{className:"list-item-wrapper ".concat(u[t.hash]?"expanded":"").trim(),"data-index":r.indexOf(t),key:t.hash},!l&&!p&&it.a.createElement("div",{className:"drag-handle"}),it.a.createElement(e,{model:t,onDelete:r.delete,onToggleExpanded:i.handleToggleExpanded}),it.a.createElement("button",{className:"icon-remove",onClick:i.handleDelete}))}),i}return nt()(r,n),K()(r,[{key:"componentDidMount",value:function(){var t=this;if(this.props.layout){var e=this.props.layout.sortOption;a.length&&void 0!==e&&this.setState({sortOption:a[e]||null}),this.onLayoutSnapshotDisposer=Object(c.onSnapshot)(this.props.layout,Tt(function(){return t.forceUpdate()},100,!0))}var n=this.props.sortable;n&&(this.sortable=At.a.create(this.container.current,{disabled:!n,draggable:".list-item-wrapper",handle:".drag-handle",onEnd:function(){t.container.current.classList.remove("dragging"),t.props.collection.replace(lt()(t.container.current.querySelectorAll(".list-item-wrapper")).map(function(t){return parseInt(t.getAttribute("data-index"),10)}).map(function(e){return t.props.collection.at(e)}))},onStart:function(){return t.container.current.classList.add("dragging")}})),this.onDataSnapshotDisposer=Object(c.onSnapshot)(this.props.collection,function(){return t.forceUpdate()})}},{key:"componentWillReceiveProps",value:function(){this.sortable&&this.sortable.option("disabled",!this.props.sortable)}},{key:"componentWillUnmount",value:function(){this.onDataSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=void 0===n?"":n,o=e.columns,i=e.layout,a=void 0===i?{}:i,s=e.title,u=this.state.sortOption,c=this.categories,l=this.props.collection.asArray;null!==u&&(l=l.sort(u.comparitor));var p=Boolean(c.length);p&&a.filter&&(l=this.getCategoryItems(l,a.filter),c=[a.filter]);var f={columns:a.categorize?1:o};return it.a.createElement("div",{className:"list ".concat(r).trim(),ref:this.container,style:f},it.a.createElement("div",{className:"title-bar"},this.renderSortWidget(),this.renderCategoryWidget(),it.a.createElement("div",{className:"text"},s),it.a.createElement("button",{className:"add icon-add",onClick:this.handleAdd})),p&&a.categorize?c.map(function(e){return t.renderCategory(e,l)}):l.map(this.renderItem))}},{key:"categories",get:function(){var t=this.props.collection.asArray.reduce(function(t,e){return t.concat(e.categories||[])},[]);return t.length?p(t.filter(function(t){return t!==te})).sort().concat(te):[]}}]),r}(it.a.Component),u()(n,"defaultProps",o()({className:"",collection:D(t).create([]),columns:1,layout:void 0,sortable:!0,title:i.title||""},i)),r},ne=(n("H/3x"),ee(k,St,{className:"effect-list"})),re=Object(rt.observer)((jt=kt=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"handleChangeDescription",function(t){return n.props.model.set({description:t})}),u()(tt()(n),"handleChangeName",function(t){return n.props.model.set({name:t})}),u()(tt()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),u()(tt()(n),"handleToggleEquipped",function(){return n.props.model.set({equipped:!n.props.model.equipped})}),n}return nt()(e,t),K()(e,[{key:"render",value:function(){var t=this,e=this.props.model,n=e.description,r=e.hash,o=e.name,i=e.effects,a=e.equipped;return it.a.createElement("div",{className:"item ".concat(a?"":"un","equipped")},it.a.createElement(ut,{className:"equipped",onChange:this.handleToggleEquipped,value:a}),it.a.createElement(ut,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:o}),it.a.createElement(Mt,{onToggle:function(e){return t.props.onToggleExpanded(r,e)}},it.a.createElement(ut,{className:"description",type:"multiline",onChange:this.handleChangeDescription,placeholder:"Description...",value:n}),it.a.createElement(ne,{collection:i,title:"Effects"})))}}]),e}(ot.Component),u()(kt,"defaultProps",{model:{},onDelete:l,onToggleExpanded:l}),u()(kt,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return t.name}},{display:"icon-backpack",getter:function(t){return[!t.equipped,t.name]}}]),Dt=jt))||Dt,oe=(n("ulyj"),Object(rt.observer)((It=Bt=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"handleChangeCurrent",function(t){return n.props.model.set({current:t})}),u()(tt()(n),"handleChangeMaximum",function(t){return n.props.model.set({maximum:t})}),u()(tt()(n),"handleChangeName",function(t){return n.props.model.set({name:t})}),u()(tt()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),n}return nt()(e,t),K()(e,[{key:"render",value:function(){var t=this.props.model,e=t.current,n=t.name,r=t.maximum;return it.a.createElement("div",{className:"resource"},it.a.createElement("div",{className:"display"},it.a.createElement(ut,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:n}),it.a.createElement(ut,{className:"current",max:999,min:0,onChange:this.handleChangeCurrent,value:e}),"of",it.a.createElement(ut,{className:"maximum",max:999,min:0,onChange:this.handleChangeMaximum,value:r})),it.a.createElement(ft,{allowExcess:!0,current:e,maximum:r,onChange:this.handleChangeCurrent}))}}]),e}(ot.Component),u()(Bt,"defaultProps",{model:{},onDelete:l}),u()(Bt,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return t.name}}]),Pt=It))||Pt),ie=(n("Upa8"),Object(rt.observer)((Rt=Ft=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"onChangeName",function(t){return n.props.model.set({name:t})}),u()(tt()(n),"onChangeMastery",function(t){return n.props.model.set({mastery:t})}),u()(tt()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),u()(tt()(n),"onChangeTheory",function(t){return n.props.model.set({theory:t})}),n}return nt()(e,t),K()(e,[{key:"render",value:function(){var t=this.props.model;return it.a.createElement("div",{className:"skill"},it.a.createElement(ut,{className:"name",onChange:this.onChangeName,onEditEnd:this.handleCommitName,value:t.name}),it.a.createElement(ut,{className:"theory ".concat(t.theory?"":"is-zero"),max:999,min:-99,onChange:this.onChangeTheory,value:t.theory}),it.a.createElement(ut,{className:"mastery",max:999,min:-99,onChange:this.onChangeMastery,value:t.mastery}))}}]),e}(ot.Component),u()(Ft,"defaultProps",{model:{},onDelete:l}),u()(Ft,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return t.name}},{display:"icon-sort-value-desc",getter:function(t){return[-t.theory,-t.mastery,t.name]}},{display:"icon-sort-size-desc",getter:function(t){return[-t.mastery,-t.theory,t.name]}}]),zt=Rt))||zt),ae=(n("y+pi"),Object(rt.observer)((Ht=Ut=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"handleChangeAmount",function(t){return n.props.model.set({amount:t})}),u()(tt()(n),"handleChangeResource",function(t){var e=t.target.value;return n.props.model.set({resourceName:e})}),n}return nt()(e,t),K()(e,[{key:"render",value:function(){var t=this.props.model,e=t.amount,n=t.available,r=t.resourceName;return it.a.createElement("div",{className:"resource-cost"},it.a.createElement("select",{className:"resource-id",value:r,onChange:this.handleChangeResource},n.map(function(t){var e=t.name;return it.a.createElement("option",{key:e,value:e},e)})),it.a.createElement(ut,{className:"amount",max:999,min:-99,onChange:this.handleChangeAmount,value:e}))}}]),e}(ot.Component),u()(Ut,"defaultProps",{model:{}}),u()(Ut,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return t.resourceName}},{display:"icon-sort-value-asc",getter:function(t){return t.amount}}]),Lt=Ht))||Lt),se=(n("IURI"),ee(k,St,{className:"effect-list"})),ue=ee(I,ae,{className:"resource-cost-list"}),ce=Object(rt.observer)((Wt=Jt=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"onResourceSnapshotDisposer",l),u()(tt()(n),"handleCast",function(){n.props.model.cast(),n.forceUpdate()}),u()(tt()(n),"handleChangeDescription",function(t){return n.props.model.set({description:t})}),u()(tt()(n),"handleChangeLevel",function(t){return n.props.model.set({level:t})}),u()(tt()(n),"handleChangeName",function(t){return n.props.model.set({name:t})}),u()(tt()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),u()(tt()(n),"handleToggleActive",function(){return n.props.model.set({isActive:!n.props.model.isActive})}),n}return nt()(e,t),K()(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.model.character.resources;this.onResourceSnapshotDisposer=Object(c.onSnapshot)(e,function(){return t.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.onResourceSnapshotDisposer()}},{key:"render",value:function(){var t=this,e=this.props.model,n=e.costs,r=e.description,o=e.name,i=e.effects,a=e.hash,s=e.isActive,u=e.isAffordable,c=e.level;return it.a.createElement("div",{className:"spell ".concat(s?"":"in","active")},it.a.createElement(ut,{className:"is-active",onChange:this.handleToggleActive,value:s}),it.a.createElement(ut,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:o}),it.a.createElement(ut,{className:"level",onChange:this.handleChangeLevel,value:c}),it.a.createElement("button",{className:"cast icon-magic",onClick:this.handleCast,disabled:!u()}),it.a.createElement(Mt,{onToggle:function(e){return t.props.onToggleExpanded(a,e)}},it.a.createElement(ut,{className:"description",type:"multiline",onChange:this.handleChangeDescription,placeholder:"Description...",value:r}),it.a.createElement(ue,{collection:n,title:"Casting Costs"}),it.a.createElement(se,{collection:i,title:"Effects"})))}}]),e}(ot.Component),u()(Jt,"defaultProps",{model:{},onDelete:l,onToggleExpanded:l}),u()(Jt,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return[t.name,t.level]}},{display:"icon-sort-value-asc",getter:function(t){return[t.level,t.name]}},{display:"icon-sort-value-desc",getter:function(t){return[-t.level,t.name]}}]),Xt=Wt))||Xt,le=(n("sxfZ"),ee(k,St)),pe={Attribute:Nt,Descriptor:Et,Effect:St,Item:re,Resource:oe,Skill:ie,Spell:ce,Trait:Object(rt.observer)((Kt=Vt=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"handleChangeName",function(t){return n.props.model.set({name:t})}),u()(tt()(n),"handleChangeValue",function(t){return n.props.model.set({value:t})}),u()(tt()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),n}return nt()(e,t),K()(e,[{key:"render",value:function(){var t=this,e=this.props.model;return it.a.createElement("div",{className:"trait"},it.a.createElement(ut,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:e.name}),it.a.createElement(ut,{className:"value",max:999,min:-99,onChange:this.handleChangeValue,value:e.value}),it.a.createElement(Mt,{onToggle:function(n){return t.props.onToggleExpanded(e.hash,n)}},it.a.createElement(le,{collection:e.effects,title:"Effects"})))}}]),e}(ot.Component),u()(Vt,"defaultProps",{model:{},onDelete:l,onToggleExpanded:l}),u()(Vt,"sortOptions",[{display:"icon-sort-name-asc",getter:function(t){return t.name}},{display:"icon-sort-value-asc",getter:function(t){return t.value}}]),qt=Kt))||qt},fe=(n("Zsyy"),Object(rt.observer)((Yt=Zt=function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"CACHE",{}),u()(tt()(n),"handleSnapshot",function(){var t=n.props.model.availableConditions(),e=n.props.model.conditions.asArray;JSON.stringify(t)===JSON.stringify(n.CACHE.availableConditions)&&JSON.stringify(e)===JSON.stringify(n.CACHE.conditions)||(n.CACHE.availableConditions=t,n.CACHE.conditions=e,n.forceUpdate())}),u()(tt()(n),"handleCheckbox",function(t,e){var r=n.props.model.conditions;e&&!r.includes(t)?r.push(t):"function"==typeof r.delete?r.delete(t):r.splice(r.indexOf(t),1),n.forceUpdate()}),u()(tt()(n),"renderCondition",function(t){var e=n.props.model.conditions.includes(t);return it.a.createElement("div",{key:t,className:"condition ".concat(e?"current":"available")},it.a.createElement(ut,{className:"current",onChange:function(e){return n.handleCheckbox(t,e)},value:e}),it.a.createElement("div",{className:"name"},t))}),n}return nt()(e,t),K()(e,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(c.onSnapshot)(this.props.model,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){return it.a.createElement("div",{className:"conditions"},it.a.createElement(Mt,null,this.props.model.availableConditions().map(this.renderCondition)))}}]),e}(ot.Component),u()(Zt,"defaultProps",{model:{}}),Yt))),he=(n("kvEc"),function(t){function e(){var t,n;q()(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Y()(this,(t=Q()(e)).call.apply(t,[this].concat(o))),u()(tt()(n),"titleBar",it.a.createRef()),u()(tt()(n),"onSnapshotDisposer",l),u()(tt()(n),"snapshot",null),u()(tt()(n),"handleChangeTitle",function(t){return n.props.model.set({title:t})}),n}return nt()(e,t),K()(e,[{key:"componentDidMount",value:function(){var t=this;this.onSnapshotDisposer=Object(c.onSnapshot)(this.props.model,function(e){var n=JSON.stringify(e);t.snapshot!==n&&(t.snapshot=n,t.forceUpdate())}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.parentColumns,r=this.props.model,o=r.colSpan,i=r.title;return it.a.createElement("div",{className:"layout",style:{width:"calc(100%/".concat(n,"*").concat(o,")")}},void 0===i?e:it.a.createElement(it.a.Fragment,null,it.a.createElement("div",{className:"title-bar",ref:this.titleBar},it.a.createElement(ut,{className:"title",onChange:this.handleChangeTitle,placeholder:"Section Title",value:i})),it.a.createElement(Mt,{expandByDefault:!0,omitItemWrapper:!0,toggleButtonParent:this.titleBar.current},e)))}}]),e}(ot.Component)),de={Attribute:_,Descriptor:T,Effect:k,Item:j,Resource:P,Skill:B,Spell:z,Trait:F},me=(n("HYkr"),Object(rt.observer)((Gt=Qt=function(t){function e(t){var n;return q()(this,e),n=Y()(this,Q()(e).call(this,t)),u()(tt()(n),"state",{size:"large"}),u()(tt()(n),"handleWindowResize",Tt(function(){var t="large";window.matchMedia("(min-width: 5in) and (max-width: 7.5in)").matches?t="medium":window.matchMedia("(max-width: 5in)").matches&&(t="small"),t!==n.state.size&&n.setState({size:t})},250)),u()(tt()(n),"renderComponent",function(t,e,r){if(e.type){var o=e.title,i=e.type.toLowerCase(),a=ee(de[e.type],pe[e.type],{className:"".concat(i,"-list")}),s=n.props.character["".concat(i,"s")];return it.a.createElement(a,J()({key:r,layout:e,title:o},{collection:s,columns:e.columns}))}return it.a.createElement(he,{key:e.hash,model:e,parentColumns:t.columns},e.children.map(function(t,r){return n.renderComponent(e,t,r)}))}),n.onCharacterSnapshotDisposer=Object(c.onSnapshot)(n.props.character,function(t){n.props.onChange(t,n.props.layout.toJSON(),tt()(n))}),n.onLayoutSnapshotDisposer=Object(c.onSnapshot)(n.props.layout,function(t){n.props.onChange(n.props.character.toJSON(),t,tt()(n))}),n}return nt()(e,t),K()(e,[{key:"componentDidMount",value:function(){this.handleWindowResize(),window.addEventListener("resize",this.handleWindowResize),this.props.onMount(this)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),this.onCharacterSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var t=this.props,e=t.character,n=t.layout,r=this.state.size;return it.a.createElement("div",{className:"sheetforge sheet ".concat(r)},it.a.createElement(fe,{model:e}),n.children.map(this.renderComponent.bind(null,n)))}}]),e}(it.a.Component),u()(Qt,"defaultProps",{character:{},layout:{},onChange:l,onMount:l}),$t=Gt))||$t);n.d(e,"AttributeModel",function(){return _}),n.d(e,"CharacterModel",function(){return R}),n.d(e,"DescriptorModel",function(){return T}),n.d(e,"EffectModel",function(){return k}),n.d(e,"ItemModel",function(){return j}),n.d(e,"LayoutModel",function(){return H}),n.d(e,"ResourceCostModel",function(){return I}),n.d(e,"ResourceModel",function(){return P}),n.d(e,"Sheet",function(){return me}),n.d(e,"SkillModel",function(){return B}),n.d(e,"SpellModel",function(){return z}),n.d(e,"TraitModel",function(){return F})},"0dDA":function(t,e,n){},"0dEn":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.memoize=function(t,e){return function n(){"object"!==r(n.cache)&&(n.cache={});for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=e?e(o):JSON.stringify(o);return a in n.cache||(n.cache[a]=t.apply(t,o)),n.cache[a]}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)},e.callWithRightArgumentCount=function(t,e,n){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}},"199F":function(t,e,n){"use strict";var r=n("Z2I/");function o(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}e.isNumber=function(t){return"number"==typeof t},e.isInteger=function(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,n){if("function"==typeof n)return n(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var o,i="auto";switch(n&&(n.notation&&(i=n.notation),e.isNumber(n)?o=n:e.isNumber(n.precision)&&(o=n.precision)),i){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"engineering":return e.toEngineering(t,o);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var a=r.map(n,function(t){return t});return a.exponential=void 0,void 0!==n.exponential.lower&&(a.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(a.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(a)),e.toPrecision(t,o,a)}return e.toPrecision(t,o,n&&n).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},e.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],o=parseFloat(e[4]||"0"),i=r.indexOf(".");o+=-1!==i?i-1:r.length-1;var a=r.replace(".","").replace(/^0*/,function(t){return o-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===a.length&&(a.push(0),o++),{sign:n,coefficients:a,exponent:o}},e.toEngineering=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.roundDigits(e.splitNumber(t),n),i=r.exponent,a=r.coefficients,s=i%3==0?i:i<0?i-3-i%3:i-i%3;if(e.isNumber(n))n>a.length&&(a=a.concat(o(n-a.length)));else{var u=i>=0?i:Math.abs(s);a.length-1<u&&(a=a.concat(o(u-(a.length-1))))}for(var c=Math.abs(i-s),l=1;--c>=0;)l++;var p=a.slice(l).join(""),f=e.isNumber(n)&&p.length||p.match(/[1-9]/)?"."+p:"",h=a.slice(0,l).join("")+f+"e"+(i>=0?"+":"")+s.toString();return r.sign+h},e.toFixed=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.splitNumber(t),i="number"==typeof n?e.roundDigits(r,r.exponent+1+n):r,a=i.coefficients,s=i.exponent+1,u=s+(n||0);return a.length<u&&(a=a.concat(o(u-a.length))),s<0&&(a=o(1-s).concat(a),s=1),s<a.length&&a.splice(s,0,0===s?"0.":"."),i.sign+a.join("")},e.toExponential=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.splitNumber(t),i=n?e.roundDigits(r,n):r,a=i.coefficients,s=i.exponent;a.length<n&&(a=a.concat(o(n-a.length)));var u=a.shift();return i.sign+u+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},e.toPrecision=function(t,n,r){if(isNaN(t)||!isFinite(t))return String(t);var i=r&&void 0!==r.lowerExp?r.lowerExp:-3,a=r&&void 0!==r.upperExp?r.upperExp:5,s=e.splitNumber(t);if(s.exponent<i||s.exponent>=a)return e.toExponential(t,n);var u=n?e.roundDigits(s,n):s,c=u.coefficients,l=u.exponent;c.length<n&&(c=c.concat(o(n-c.length))),c=c.concat(o(l-c.length+1+(c.length<n?n-c.length:0)));var p=l>0?l:0;return p<(c=o(-l).concat(c)).length-1&&c.splice(p+1,0,"."),u.sign+c.join("")},e.roundDigits=function(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var o=e-1;for(r[o]++;10===r[o];)r.pop(),0===o&&(r.unshift(0),n.exponent++,o++),r[--o]++}return n},e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,e.nearlyEqual=function(t,n,r){if(null==r)return t===n;if(t===n)return!0;if(isNaN(t)||isNaN(n))return!1;if(isFinite(t)&&isFinite(n)){var o=Math.abs(t-n);return o<e.DBL_EPSILON||o<=Math.max(Math.abs(t),Math.abs(n))*r}return!1}},"1d6v":function(t,e,n){"use strict";var r=n("aG3p"),o=n("X8kj");e.name="algorithm06",e.factory=function(t,e,i,a){var s=i(n("hj6K")),u=t.SparseMatrix;return function(t,e,n){var i=t._values,c=t._size,l=t._datatype,p=e._values,f=e._size,h=e._datatype;if(c.length!==f.length)throw new o(c.length,f.length);if(c[0]!==f[0]||c[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");var d,m=c[0],y=c[1],v=s,g=0,b=n;"string"==typeof l&&l===h&&(d=l,v=a.find(s,[d,d]),g=a.convert(0,d),b=a.find(n,[d,d]));for(var x=i&&p?[]:void 0,w=[],N=[],E=new u({values:x,index:w,ptr:N,size:[m,y],datatype:d}),S=x?[]:void 0,O=[],M=[],C=0;C<y;C++){N[C]=w.length;var A=C+1;if(r(t,C,O,S,M,A,E,b),r(e,C,O,S,M,A,E,b),S)for(var _=N[C];_<w.length;){var T=w[_];if(M[T]===A){var D=S[T];v(D,g)?w.splice(_,1):(x.push(D),_++)}else w.splice(_,1)}else for(var k=N[C];k<w.length;)M[w[k]]!==A?w.splice(k,1):k++}return N[y]=w.length,E}}},"1pc8":function(t,e,n){"use strict";var r=n("Z2I/");function o(t,e,n){if(void 0!==t[e]&&(o=n,i=t[e],-1===o.indexOf(i))){var r=function(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}(n,t[e]);-1!==r?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+n[r]+'" instead of "'+t[e]+'".'),t[e]=n[r]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}var o,i}e.name="config",e.math=!0,e.factory=function(t,e,n,i,a){var s=["Matrix","Array"],u=["number","BigNumber","Fraction"];function c(t){if(t){var n=r.map(e,r.clone);o(t,"matrix",s),o(t,"number",u),r.deepExtend(e,t);var i=r.map(e,r.clone),c=r.map(t,r.clone);return a.emit("config",i,n,c),i}return r.map(e,r.clone)}return c.MATRIX=s,c.NUMBER=u,c}},"1stm":function(t,e,n){"use strict";t.exports=function t(e,n,r){return e&&"function"==typeof e.map?e.map(function(e){return t(e,n,r)}):n(e)}},"2g85":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("XDH7").transform,i=n("4bae").getSafeProperty;e.factory=function(t,e,a,s){var u=a(n("Wail"));return function(t,e){try{if(Array.isArray(t))return u(t,e);if(t&&"function"==typeof t.subset)return t.subset(e);if("string"==typeof t)return u(t,e);if("object"===r(t)){if(!e.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return i(t,e.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw o(t)}}}},"2l0z":function(t,e,n){"use strict";Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t}},"35fj":function(t,e,n){"use strict";var r=n("Tb0o");e.name="ConditionalNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(n("K6lB")),s=o(n("uUDd"));function u(e,n,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError("Parameter condition must be a Node");if(!t.isNode(n))throw new TypeError("Parameter trueExpr must be a Node");if(!t.isNode(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=n,this.falseExpr=r}return u.prototype=new a,u.prototype.type="ConditionalNode",u.prototype.isConditionalNode=!0,u.prototype._compile=function(e,n){var r=this.condition._compile(e,n),o=this.trueExpr._compile(e,n),i=this.falseExpr._compile(e,n);return function(e,n,a){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(t.isBigNumber(e))return!e.isZero();if(t.isComplex(e))return!(!e.re&&!e.im);if(t.isUnit(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+s(e)+'"')}(r(e,n,a))?o(e,n,a):i(e,n,a)}},u.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},u.prototype.map=function(t){return new u(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},u.prototype.clone=function(){return new u(this.condition,this.trueExpr,this.falseExpr)},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),o=this.condition.toString(t),i=r.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(o="("+o+")");var a=this.trueExpr.toString(t),s=r.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a="("+a+")");var u=this.falseExpr.toString(t),c=r.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u="("+u+")"),o+" ? "+a+" : "+u},u.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},u.fromJSON=function(t){return new u(t.condition,t.trueExpr,t.falseExpr)},u.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),o=this.condition.toHTML(t),i=r.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(t),s=r.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.falseExpr.toHTML(t),c=r.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+u},u.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},u}},"3LJV":function(t,e,n){"use strict";var r=n("6cPB");t.exports=function t(e,n){r(e)&&(e=e.valueOf());for(var o=0,i=e.length;o<i;o++){var a=e[o];Array.isArray(a)?t(a,n):n(a)}}},"3efQ":function(t,e,n){"use strict";var r=n("LHK7"),o=r.object,i=r.string;e.name="det",e.factory=function(t,e,r,a){var s=r(n("R4H5")),u=r(n("O1N0")),c=r(n("NU+P")),l=r(n("7DiD")),p=r(n("gpKz")),f=a("det",{any:function(t){return o.clone(t)},"Array | Matrix":function(e){var n;switch((n=t.isMatrix(e)?e.size():Array.isArray(e)?(e=s(e)).size():[]).length){case 0:return o.clone(e);case 1:if(1===n[0])return o.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+i.format(n)+")");case 2:var r=n[0],a=n[1];if(r===a)return function(t,e,n){if(1===e)return o.clone(t[0][0]);if(2===e)return u(c(t[0][0],t[1][1]),c(t[1][0],t[0][1]));for(var r=p(t),i=r.U[0][0],a=1;a<e;a++)i=c(i,r.U[a][a]);for(var s=0,f=0,h=[];;){for(;h[f];)f++;if(f>=e)break;for(var d=f,m=0;!h[r.p[d]];)h[r.p[d]]=!0,d=r.p[d],m++;m%2==0&&s++}return s%2==0?i:l(i)}(e.clone().valueOf(),r);throw new RangeError("Matrix must be square (size: "+i.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.format(n)+")")}}});return f.toTex={1:"\\det\\left(${args[0]}\\right)"},f}},"4bae":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("Z2I/").hasOwnProperty;function i(t,e){return!(!t||"object"!==r(t))&&(!!o(u,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function a(t,e){return!(!t||"function"!=typeof t[e])&&(!(o(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!o(c,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function s(t){return"object"===r(t)&&t&&t.constructor===Object}var u={length:!0,name:!0},c={toString:!0,valueOf:!0,toLocaleString:!0};e.getSafeProperty=function(t,e){if(s(t)&&i(t,e))return t[e];if("function"==typeof t[e]&&a(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')},e.setSafeProperty=function(t,e,n){if(s(t)&&i(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')},e.isSafeProperty=i,e.validateSafeMethod=function(t,e){if(!a(t,e))throw new Error('No access to method "'+e+'"')},e.isSafeMethod=a,e.isPlainObject=s},"4fwU":function(t,e,n){"use strict";var r=n("X8kj");e.name="algorithm02",e.factory=function(t,e,o,i){var a=o(n("hj6K")),s=t.SparseMatrix;return function(t,e,n,o){var u=t._data,c=t._size,l=t._datatype,p=e._values,f=e._index,h=e._ptr,d=e._size,m=e._datatype;if(c.length!==d.length)throw new r(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,v=c[0],g=c[1],b=a,x=0,w=n;"string"==typeof l&&l===m&&(y=l,b=i.find(a,[y,y]),x=i.convert(0,y),w=i.find(n,[y,y]));for(var N=[],E=[],S=[],O=0;O<g;O++){S[O]=E.length;for(var M=h[O],C=h[O+1],A=M;A<C;A++){var _=f[A],T=o?w(p[A],u[_][O]):w(u[_][O],p[A]);b(T,x)||(E.push(_),N.push(T))}}return S[g]=E.length,new s({values:N,index:E,ptr:S,size:[v,g],datatype:y})}}},"5UjR":function(t,e,n){},"6cPB":function(t,e,n){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isMatrix||!1}},"78Py":function(t,e,n){"use strict";var r=n("1stm");e.name="number",e.factory=function(t,e,n,o){var i=o("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return r(t,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}},"7DiD":function(t,e,n){"use strict";var r=n("1stm");e.name="unaryMinus",e.factory=function(t,e,o,i){var a=n("bFQJ"),s=i("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=s(t.value),e},"Array | Matrix":function(t){return r(t,s,!0)}});return s.toTex={1:"".concat(a.operators.unaryMinus,"\\left(${args[0]}\\right)")},s}},"7W2i":function(t,e,n){var r=n("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"7lEX":function(t,e,n){"use strict";e.path="type",e.name="_numeric",e.factory=function(t,e,r,o){var i=r(n("uUDd")),a={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:r(n("78Py")),BigNumber:r(n("MI9+")),Fraction:r(n("wJ/n"))},u=function(t,e){var n=i(t);if(!(n in a))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(a).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===n?t:s[e](t)};return u.toTex=function(t,e){return t.args[0].toTex()},u}},"8OQS":function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}},"9a6t":function(t,e,n){"use strict";var r=n("199F").isInteger,o=n("sTyi").resize;e.name="zeros",e.factory=function(t,e,i,a){var s=i(n("R4H5")),u=a("zeros",{"":function(){return"Array"===e.matrix?c([]):c([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var n=t.pop();return c(t,n)}return"Array"===e.matrix?c(t):c(t,"default")},Array:c,Matrix:function(t){var e=t.storage();return c(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return c(t.valueOf(),e)}});return u.toTex=void 0,u;function c(e,n){var i=function(e){var n=!1;return e.forEach(function(e,r,o){t.isBigNumber(e)&&(n=!0,o[r]=e.toNumber())}),n}(e)?new t.BigNumber(0):0;if(function(t){t.forEach(function(t){if("number"!=typeof t||!r(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}(e),n){var a=s(n);return e.length>0?a.resize(e,i):a}var u=[];return e.length>0?o(u,e,i):u}}},AGIY:function(t,e,n){"use strict";var r=n("sTyi").map,o=n("PXUV").escape;e.name="IndexNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(n("K6lB")),u=i(n("V3b4")),c=Array.isArray;function l(e,n){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=n||!1,!c(e)||!e.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var r=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}function p(e,n,r){return new u(t.isBigNumber(e)?e.toNumber():e,t.isBigNumber(n)?n.toNumber():n,t.isBigNumber(r)?r.toNumber():r)}return l.prototype=new s,l.prototype.type="IndexNode",l.prototype.isIndexNode=!0,l.prototype._compile=function(e,n){var o=r(this.dimensions,function(r,o){if(t.isRangeNode(r)){if(r.needsEnd()){var i=Object.create(n);i.end=!0;var a=r.start._compile(e,i),s=r.end._compile(e,i),u=r.step?r.step._compile(e,i):function(){return 1};return function(t,n,r){var i=e.size(r).valueOf(),c=Object.create(n);return c.end=i[o],p(a(t,c,r),s(t,c,r),u(t,c,r))}}var c=r.start._compile(e,n),l=r.end._compile(e,n),f=r.step?r.step._compile(e,n):function(){return 1};return function(t,e,n){return p(c(t,e,n),l(t,e,n),f(t,e,n))}}if(t.isSymbolNode(r)&&"end"===r.name){var h=Object.create(n);h.end=!0;var d=r._compile(e,h);return function(t,n,r){var i=e.size(r).valueOf(),a=Object.create(n);return a.end=i[o],d(t,a,r)}}var m=r._compile(e,n);return function(t,e,n){return m(t,e,n)}});return function(t,n,i){var a=r(o,function(e){return e(t,n,i)});return e.index.apply(e,a)}},l.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},l.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new l(e)},l.prototype.clone=function(){return new l(this.dimensions.slice(0))},l.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&t.isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},l.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},l.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},l.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},l.fromJSON=function(t){return new l(t.dimensions,t.dotNotation)},l.prototype.toHTML=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+o(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},l.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},l}},BLb5:function(t,e,n){"use strict";var r=n("Z2I/").clone;e.name="algorithm14",e.factory=function(t,e,n,o){var i=t.DenseMatrix;return function(t,e,n,a){var s,u=t._data,c=t._size,l=t._datatype,p=n;"string"==typeof l&&(s=l,e=o.convert(e,s),p=o.find(n,[s,s]));var f=c.length>0?function t(e,n,r,o,i,a,s){var u=[];if(n===r.length-1)for(var c=0;c<o;c++)u[c]=s?e(a,i[c]):e(i[c],a);else for(var l=0;l<o;l++)u[l]=t(e,n+1,r,r[n+1],i[l],a,s);return u}(p,0,c,c[0],u,e,a):[];return new i({data:f,size:r(c),datatype:s})}}},BSwV:function(t,e,n){"use strict";t.exports=[n("Nsef"),n("BdOc"),n("o0nB"),n("n+Sg")]},BdOc:function(t,e,n){"use strict";var r=n("1stm");e.name="not",e.factory=function(t,e,o,i){var a=n("bFQJ"),s=i("not",{number:function(t){return!t},Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return null===t.value||s(t.value)},"Array | Matrix":function(t){return r(t,s)}});return s.toTex={1:a.operators.not+"\\left(${args[0]}\\right)"},s}},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},C8y5:function(t,e,n){"use strict";t.exports={end:!0}},CaZ0:function(t,e,n){"use strict";var r=n("199F").isInteger,o=n("sTyi").size;e.name="pow",e.factory=function(t,e,i,a){var s=n("bFQJ"),u=i(n("MKmT")),c=i(n("NU+P")),l=i(n("R4H5")),p=i(n("wJ/n")),f=i(n("78Py")),h=a("pow",{"number, number":d,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(n,r){return r.isInteger()||n>=0||e.predictable?n.pow(r):new t.Complex(n.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(t,n){if(1!==n.d){if(e.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return d(t.valueOf(),n.valueOf())}return t.pow(n)},"Array, number":m,"Array, BigNumber":function(t,e){return m(t,e.toNumber())},"Matrix, number":y,"Matrix, BigNumber":function(t,e){return y(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function d(n,o){if(e.predictable&&!r(o)&&n<0)try{var i=p(o),a=f(i);if((o===a||Math.abs((o-a)/o)<1e-14)&&i.d%2==1)return(i.n%2==0?1:-1)*Math.pow(-n,o)}catch(t){}return n*n<1&&o===1/0||n*n>1&&o===-1/0?0:e.predictable&&(n<-1&&o===1/0||n>-1&&n<0&&o===-1/0)?NaN:r(o)||n>=0||e.predictable?Math.pow(n,o):new t.Complex(n,0).pow(o,0)}function m(t,e){if(!r(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var n=o(t);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var i=u(n[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(i=c(a,i)),e>>=1,a=c(a,a);return i}function y(t,e){return l(m(t.valueOf(),e))}return h.toTex={2:"\\left(${args[0]}\\right)".concat(s.operators.pow,"{${args[1]}}")},h}},D2JG:function(t,e,n){"use strict";e.factory=function(t,e,r,o){var i=r(n("uUDd"));return function(t,e,n){var r;return-1!==String(t).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+i(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):-1!==String(t).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+i(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):t}}},Dnvl:function(t,e,n){"use strict";var r=n("Tb0o"),o=n("bFQJ"),i=n("PXUV").escape;e.name="RelationalNode",e.path="expression.node",e.factory=function(t,e,a,s){var u=a(n("K6lB")),c=n("4bae").getSafeProperty;function l(t,e){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e}return l.prototype=new u,l.prototype.type="RelationalNode",l.prototype.isRelationalNode=!0,l.prototype._compile=function(t,e){var n=this,r=this.params.map(function(n){return n._compile(t,e)});return function(e,o,i){for(var a,s=r[0](e,o,i),u=0;u<n.conditionals.length;u++)if(a=s,s=r[u+1](e,o,i),!c(t,n.conditionals[u])(a,s))return!1;return!0}},l.prototype.forEach=function(t){var e=this;this.params.forEach(function(n,r){return t(n,"params["+r+"]",e)},this)},l.prototype.map=function(t){var e=this;return new l(this.conditionals.slice(),this.params.map(function(n,r){return e._ifNode(t(n,"params["+r+"]",e))},this))},l.prototype.clone=function(){return new l(this.conditionals,this.params)},l.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),o=this.params.map(function(o,i){var a=r.getPrecedence(o,e);return"all"===e||null!==a&&a<=n?"("+o.toString(t)+")":o.toString(t)}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=o[0],s=0;s<this.conditionals.length;s++)a+=" "+i[this.conditionals[s]]+" "+o[s+1];return a},l.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},l.fromJSON=function(t){return new l(t.conditionals,t.params)},l.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),o=this.params.map(function(o,i){var a=r.getPrecedence(o,e);return"all"===e||null!==a&&a<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+o.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':o.toHTML(t)}),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=o[0],u=0;u<this.conditionals.length;u++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(a[this.conditionals[u]])+"</span>"+o[u+1];return s},l.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=r.getPrecedence(this,e),i=this.params.map(function(o,i){var a=r.getPrecedence(o,e);return"all"===e||null!==a&&a<=n?"\\left("+o.toTex(t)+"\right)":o.toTex(t)}),a=i[0],s=0;s<this.conditionals.length;s++)a+=o.operators[this.conditionals[s]]+i[s+1];return a},l}},"Dq+S":function(t,e,n){"use strict";var r=n("Z2I/");e.format=function(t,n){if("function"==typeof n)return n(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var o,i="auto";switch(void 0!==n&&(n.notation&&(i=n.notation),"number"==typeof n?o=n:n.precision&&(o=n.precision)),i){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var a=r.map(n,function(t){return t});return a.exponential=void 0,void 0!==n.exponential.lower&&(a.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(a.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(a)),e.format(t,a)}var s=n&&void 0!==n.lowerExp?n.lowerExp:-3,u=n&&void 0!==n.upperExp?n.upperExp:5;if(t.isZero())return"0";var c=t.e;return(c>=s&&c<u?t.toSignificantDigits(o).toFixed():e.toExponential(t,o)).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e)}},ESPO:function(t,e,n){"use strict";function r(t,e,n,o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=o,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(null!=o?"-"+o:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,t.exports=r},EbDI:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},EjzI:function(t,e,n){"use strict";var r=n("1stm");e.name="ceil",e.factory=function(t,e,n,o){var i=o("ceil",{number:Math.ceil,Complex:function(t){return t.ceil()},BigNumber:function(t){return t.ceil()},Fraction:function(t){return t.ceil()},"Array | Matrix":function(t){return r(t,i,!0)}});return i.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},i}},FC7u:function(t,e,n){"use strict";var r=n("sTyi").size,o=n("3LJV"),i=n("rq6S"),a=n("G23K");e.name="mean",e.factory=function(t,e,s,u){var c=s(n("NEdZ")),l=s(n("rVKH")),p=s(n("D2JG")),f=u("mean",{"Array | Matrix":h,"Array | Matrix, number | BigNumber":function(t,e){try{var n=i(t,e,c),o=Array.isArray(t)?r(t):t.size();return l(n,o[e])}catch(t){throw p(t,"mean")}},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function mean");return h(t)}});return f.toTex=void 0,f;function h(t){var e=0,n=0;if(o(t,function(t){try{e=c(e,t),n++}catch(e){throw p(e,"mean",t)}}),0===n)throw new Error("Cannot calculate mean of an empty array");return l(e,n)}}},FX2d:function(t,e,n){"use strict";var r=n("bFQJ"),o=n("PXUV").escape,i=n("Z2I/").hasOwnProperty,a=n("4bae").getSafeProperty;e.name="SymbolNode",e.path="expression.node",e.math=!0,e.factory=function(t,e,s,u,c){var l=s(n("K6lB"));function p(e){return!!t.Unit&&t.Unit.isValuelessUnit(e)}function f(t){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}return f.prototype=new l,f.prototype.type="SymbolNode",f.prototype.isSymbolNode=!0,f.prototype._compile=function(e,n){var r=this.name;if(i(n,r))return function(t,e,n){return e[r]};if(r in e)return function(t,n,o){return a(r in t?t:e,r)};var o=p(r);return function(e,n,i){return r in e?a(e,r):o?new t.Unit(null,r):function(t){throw new Error("Undefined symbol "+t)}(r)}},f.prototype.forEach=function(t){},f.prototype.map=function(t){return this.clone()},f.prototype.clone=function(){return new f(this.name)},f.prototype._toString=function(t){return this.name},f.prototype.toHTML=function(t){var e=o(this.name);return"true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},f.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},f.fromJSON=function(t){return new f(t.name)},f.prototype._toTex=function(t){var e=!1;void 0===c[this.name]&&p(this.name)&&(e=!0);var n=r.toSymbol(this.name,e);return"\\"===n[0]?n:" "+n},f}},G23K:function(t,e,n){"use strict";var r=n("HJTy");t.exports=function(t){for(var e=0;e<t.length;e++)if(r(t[e]))return!0;return!1}},"H+Qf":function(t,e,n){"use strict";var r=n("199F").nearlyEqual,o=n("rMK7");e.name="larger",e.factory=function(t,e,i,a){var s=i(n("R4H5")),u=i(n("hYuG")),c=i(n("XXc+")),l=i(n("/z5F")),p=i(n("zbDx")),f=i(n("BLb5")),h=n("bFQJ"),d=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,n){return t>n&&!r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.gt(n)&&!o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,d)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,d,!1)},"DenseMatrix, DenseMatrix":function(t,e){return p(t,e,d)},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"SparseMatrix, any":function(t,e){return l(t,e,d,!1)},"DenseMatrix, any":function(t,e){return f(t,e,d,!1)},"any, SparseMatrix":function(t,e){return l(e,t,d,!0)},"any, DenseMatrix":function(t,e){return f(e,t,d,!0)},"Array, any":function(t,e){return f(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return f(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(h.operators.larger,"${args[1]}\\right)")},d}},"H/3x":function(t,e,n){},H3yI:function(t,e,n){},HJTy:function(t,e,n){"use strict";var r=n("6cPB");t.exports=function(t){return Array.isArray(t)||r(t)}},HYkr:function(t,e,n){},I5O3:function(t,e,n){"use strict";var r=n("3LJV"),o=n("rq6S"),i=n("G23K");e.name="min",e.factory=function(t,e,a,s){var u=a(n("m4e2")),c=a(n("D2JG")),l=s("min",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),p)},"...":function(t){if(i(t))throw new TypeError("Scalar values expected in function min");return f(t)}});return l.toTex="\\min\\left(${args}\\right)",l;function p(t,e){try{return u(t,e)?t:e}catch(t){throw c(t,"min",e)}}function f(t){var e;if(r(t,function(t){try{isNaN(t)&&"number"==typeof t?e=NaN:(void 0===e||u(t,e))&&(e=t)}catch(e){throw c(e,"min",t)}}),void 0===e)throw new Error("Cannot calculate min of an empty array");return e}}},IURI:function(t,e,n){},Ii65:function(t,e,n){"use strict";var r=n("4bae").getSafeProperty;e.name="AccessorNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(n("K6lB")),s=o(n("2g85"));function u(e,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError('Node expected for parameter "object"');if(!t.isIndexNode(n))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=n,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function c(e){return!(t.isAccessorNode(e)||t.isArrayNode(e)||t.isConstantNode(e)||t.isFunctionNode(e)||t.isObjectNode(e)||t.isParenthesisNode(e)||t.isSymbolNode(e))}return u.prototype=new a,u.prototype.type="AccessorNode",u.prototype.isAccessorNode=!0,u.prototype._compile=function(t,e){var n=this.object._compile(t,e),o=this.index._compile(t,e);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(t,e,o){return r(n(t,e,o),i)}}return function(t,e,r){var i=n(t,e,r),a=o(t,e,i);return s(i,a)}},u.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},u.prototype.map=function(t){return new u(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},u.prototype.clone=function(){return new u(this.object,this.index)},u.prototype._toString=function(t){var e=this.object.toString(t);return c(this.object)&&(e="("+e+")"),e+this.index.toString(t)},u.prototype.toHTML=function(t){var e=this.object.toHTML(t);return c(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},u.prototype._toTex=function(t){var e=this.object.toTex(t);return c(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},u.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},u.fromJSON=function(t){return new u(t.object,t.index)},u}},Ijbi:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},JrXr:function(t,e,n){"use strict";var r=n("wOJ8");e.mixin=function(t){var e=new r;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},K6lB:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("C8y5"),i=n("Z2I/").deepEqual,a=n("Z2I/").hasOwnProperty;e.name="Node",e.path="expression.node",e.math=!0,e.factory=function(t,e,n,s,u){function c(){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator")}return c.prototype.eval=function(t){return this.compile().eval(t)},c.prototype.type="Node",c.prototype.isNode=!0,c.prototype.comment="",c.prototype.compile=function(){var t=this._compile(u.expression.mathWithTransform,{}),e={};return{eval:function(n){var r=n||{};return function(t){for(var e in t)if(a(t,e)&&e in o)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(r),t(r,e,null)}}},c.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},c.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},c.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},c.prototype._ifNode=function(e){if(!t.isNode(e))throw new TypeError("Callback function must return a Node");return e},c.prototype.traverse=function(t){t(this,null,null),function t(e,n){e.forEach(function(e,r,o){n(e,r,o),t(e,n)})}(this,t)},c.prototype.transform=function(t){return function t(e,n){return e.map(function(e,r,o){return t(n(e,r,o),n)})}(t(this,null,null),t)},c.prototype.filter=function(t){var e=[];return this.traverse(function(n,r,o){t(n,r,o)&&e.push(n)}),e},c.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},c.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},c.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},c.prototype.cloneDeep=function(){return this.map(function(t){return t.cloneDeep()})},c.prototype.equals=function(t){return!!t&&i(this,t)},c.prototype.toString=function(t){var e;if(t&&"object"===r(t))switch(r(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},c.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},c.prototype.toHTML=function(t){var e;if(t&&"object"===r(t))switch(r(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},c.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},c.prototype.toTex=function(t){var e;if(t&&"object"===r(t))switch(r(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},c.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},c.prototype.getIdentifier=function(){return this.type},c.prototype.getContent=function(){return this},c}},LHK7:function(t,e,n){"use strict";e.array=n("sTyi"),e.boolean=n("NJZR"),e.function=n("0dEn"),e.number=n("199F"),e.object=n("Z2I/"),e.string=n("PXUV"),e.emitter=n("JrXr")},"MI9+":function(t,e,n){"use strict";var r=n("1stm");e.name="bignumber",e.factory=function(t,e,n,o){var i=o("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d).times(e.s)},null:function(e){return new t.BigNumber(0)},"Array | Matrix":function(t){return r(t,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)"},i}},MKmT:function(t,e,n){"use strict";var r=n("sTyi"),o=n("199F").isInteger;e.name="identity",e.factory=function(t,e,i,a){var s=i(n("R4H5")),u=a("identity",{"":function(){return"Matrix"===e.matrix?s([]):[]},string:function(t){return s(t)},"number | BigNumber":function(t){return l(t,t,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return l(t,t,e)},"number | BigNumber, number | BigNumber":function(t,n){return l(t,n,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return l(t,e,n)},Array:function(t){return c(t)},"Array, string":function(t,e){return c(t,e)},Matrix:function(t){return c(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return c(t.valueOf(),e)}});return u.toTex=void 0,u;function c(t,e){switch(t.length){case 0:return e?s(e):[];case 1:return l(t[0],t[0],e);case 2:return l(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function l(e,n,i){var a=t.isBigNumber(e)||t.isBigNumber(n)?t.BigNumber:null;if(t.isBigNumber(e)&&(e=e.toNumber()),t.isBigNumber(n)&&(n=n.toNumber()),!o(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!o(n)||n<1)throw new Error("Parameters in function identity must be positive integers");var s=a?new t.BigNumber(1):1,u=a?new a(0):0,c=[e,n];if(i)return t.Matrix.storage(i).diagonal(c,s,0,u);for(var l=r.resize([],c,u),p=e<n?e:n,f=0;f<p;f++)l[f][f]=s;return l}}},MUdo:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n("ESPO"),i=n("1stm");e.name="parse",e.path="expression",e.factory=function(t,e,a,s){var u=a(n("7lEX")),c=a(n("Ii65")),l=a(n("v0wB")),p=a(n("uxtw")),f=a(n("l41f")),h=a(n("35fj")),d=a(n("kip4")),m=a(n("p2yA")),y=a(n("AGIY")),v=a(n("RYjE")),g=a(n("ut+i")),b=a(n("+6pz")),x=a(n("Z+Vt")),w=a(n("uPaw")),N=a(n("Dnvl")),E=a(n("FX2d"));function S(e,n){if(1!==arguments.length&&2!==arguments.length)throw new o("parse",arguments.length,1,2);var r=n&&n.nodes?n.nodes:{};if("string"==typeof e)return R(e,r);if(Array.isArray(e)||e instanceof t.Matrix)return i(e,function(t){if("string"!=typeof t)throw new TypeError("String expected");return R(t,r)});throw new TypeError("String or matrix expected")}var O={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},M={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},_=["NaN","Infinity"];function T(t,e){return t.expression.substr(t.index,e)}function D(t){return T(t,1)}function k(t){t.index++}function j(t){return t.expression.charAt(t.index-1)}function P(t){return t.expression.charAt(t.index+1)}function B(t){for(t.tokenType=O.NULL,t.token="",t.comment="";S.isWhitespace(D(t),t.nestingLevel);)k(t);if("#"===D(t))for(;"\n"!==D(t)&&""!==D(t);)t.comment+=D(t),k(t);if(""!==D(t)){if("\n"===D(t)&&!t.nestingLevel)return t.tokenType=O.DELIMITER,t.token=D(t),void k(t);var e=D(t),n=T(t,2),r=T(t,3);if(3===r.length&&M[r])return t.tokenType=O.DELIMITER,t.token=r,k(t),k(t),void k(t);if(2===n.length&&M[n])return t.tokenType=O.DELIMITER,t.token=n,k(t),void k(t);if(M[e])return t.tokenType=O.DELIMITER,t.token=e,void k(t);if(S.isDigitDot(e)){if(t.tokenType=O.NUMBER,"."===D(t))t.token+=D(t),k(t),S.isDigit(D(t))||(t.tokenType=O.DELIMITER);else{for(;S.isDigit(D(t));)t.token+=D(t),k(t);S.isDecimalMark(D(t),P(t))&&(t.token+=D(t),k(t))}for(;S.isDigit(D(t));)t.token+=D(t),k(t);if("E"===D(t)||"e"===D(t))if(S.isDigit(P(t))||"-"===P(t)||"+"===P(t)){if(t.token+=D(t),k(t),"+"!==D(t)&&"-"!==D(t)||(t.token+=D(t),k(t)),!S.isDigit(D(t)))throw at(t,'Digit expected, got "'+D(t)+'"');for(;S.isDigit(D(t));)t.token+=D(t),k(t);if(S.isDecimalMark(D(t),P(t)))throw at(t,'Digit expected, got "'+D(t)+'"')}else if("."===P(t))throw k(t),at(t,'Digit expected, got "'+D(t)+'"')}else{if(!S.isAlpha(D(t),j(t),P(t))){for(t.tokenType=O.UNKNOWN;""!==D(t);)t.token+=D(t),k(t);throw at(t,'Syntax error in part "'+t.token+'"')}for(;S.isAlpha(D(t),j(t),P(t))||S.isDigit(D(t));)t.token+=D(t),k(t);C.hasOwnProperty(t.token)?t.tokenType=O.DELIMITER:t.tokenType=O.SYMBOL}}else t.tokenType=O.DELIMITER}function I(t){do{B(t)}while("\n"===t.token)}function z(t){t.nestingLevel++}function F(t){t.nestingLevel--}function R(t,e){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:O.NULL,nestingLevel:0,conditionalLevel:null};r(n,{expression:t,extraNodes:e}),B(n);var o=function(t){var e,n,r=[];for(""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=L(t)).comment=t.comment);"\n"===t.token||";"===t.token;)0===r.length&&e&&(n=";"!==t.token,r.push({node:e,visible:n})),B(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=L(t)).comment=t.comment,n=";"!==t.token,r.push({node:e,visible:n}));return r.length>0?new f(r):(e||((e=new d(void 0)).comment=t.comment),e)}(n);if(""!==n.token)throw n.tokenType===O.DELIMITER?st(n,"Unexpected operator "+n.token):at(n,'Unexpected part "'+n.token+'"');return o}function L(e){var n,r,o,i,a=function(t){for(var e=function(t){for(var e=U(t);"or"===t.token;)I(t),e=new g("or","or",[e,U(t)]);return e}(t);"?"===t.token;){var n=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,I(t);var r=e,o=L(t);if(":"!==t.token)throw at(t,"False part of conditional expression expected");t.conditionalLevel=null,I(t);var i=L(t);e=new h(r,o,i),t.conditionalLevel=n}return e}(e);if("="===e.token){if(t.isSymbolNode(a))return n=a.name,I(e),o=L(e),new p(new E(n),o);if(t.isAccessorNode(a))return I(e),o=L(e),new p(a.object,a.index,o);if(t.isFunctionNode(a)&&t.isSymbolNode(a.fn)&&(i=!0,r=[],n=a.name,a.args.forEach(function(e,n){t.isSymbolNode(e)?r[n]=e.name:i=!1}),i))return I(e),o=L(e),new m(n,r,o);throw at(e,"Invalid left hand side of assignment operator =")}return a}function U(t){for(var e=H(t);"xor"===t.token;)I(t),e=new g("xor","xor",[e,H(t)]);return e}function H(t){for(var e=X(t);"and"===t.token;)I(t),e=new g("and","and",[e,X(t)]);return e}function X(t){for(var e=J(t);"|"===t.token;)I(t),e=new g("|","bitOr",[e,J(t)]);return e}function J(t){for(var e=W(t);"^|"===t.token;)I(t),e=new g("^|","bitXor",[e,W(t)]);return e}function W(t){for(var e=q(t);"&"===t.token;)I(t),e=new g("&","bitAnd",[e,q(t)]);return e}function q(t){for(var e=[V(t)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};r.hasOwnProperty(t.token);){var o={name:t.token,fn:r[t.token]};n.push(o),I(t),e.push(V(t))}return 1===e.length?e[0]:2===e.length?new g(n[0].name,n[0].fn,e):new N(n.map(function(t){return t.fn}),e)}function V(t){var e,n,r,o,i;for(e=K(t),n={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};n.hasOwnProperty(t.token);)o=n[r=t.token],I(t),i=[e,K(t)],e=new g(r,o,i);return e}function K(t){var e,n,r,o,i;for(e=Z(t),n={to:"to",in:"to"};n.hasOwnProperty(t.token);)o=n[r=t.token],I(t),"in"===r&&""===t.token?e=new g("*","multiply",[e,new E("in")],!0):(i=[e,Z(t)],e=new g(r,o,i));return e}function Z(t){var e,n=[];if(e=":"===t.token?new d(1):Y(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(n.push(e);":"===t.token&&n.length<3;)I(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?n.push(new E("end")):n.push(Y(t));e=3===n.length?new w(n[0],n[2],n[1]):new w(n[0],n[1])}return e}function Y(t){var e,n,r,o,i;for(e=$(t),n={"+":"add","-":"subtract"};n.hasOwnProperty(t.token);)o=n[r=t.token],I(t),i=[e,$(t)],e=new g(r,o,i);return e}function $(t){var e,n,r,o,i;for(n=e=Q(t),r={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};r.hasOwnProperty(t.token);)i=r[o=t.token],I(t),n=Q(t),e=new g(o,i,[e,n]);return e}function Q(e){var n,r;for(r=n=G(e);e.tokenType===O.SYMBOL||"in"===e.token&&t.isConstantNode(n)||!(e.tokenType!==O.NUMBER||t.isConstantNode(r)||t.isOperatorNode(r)&&"!"!==r.op)||"("===e.token;)r=G(e),n=new g("*","multiply",[n,r],!0);return n}function G(e){for(var n=tt(e),o=n,i=[];"/"===e.token&&t.isConstantNode(o);){if(i.push(r({},e)),I(e),e.tokenType!==O.NUMBER){r(e,i.pop());break}if(i.push(r({},e)),I(e),e.tokenType!==O.SYMBOL&&"("!==e.token){i.pop(),r(e,i.pop());break}r(e,i.pop()),i.pop(),o=tt(e),n=new g("/","divide",[n,o])}return n}function tt(t){var n,r,o,i={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return i.hasOwnProperty(t.token)?(o=i[t.token],n=t.token,I(t),r=[tt(t)],new g(n,o,r)):function(t){var n,r,o,i;return n=function(t){var n,r,o,i;for(n=function(t){var n=[];if(t.tokenType===O.SYMBOL&&t.extraNodes.hasOwnProperty(t.token)){var r=t.extraNodes[t.token];if(B(t),"("===t.token){if(n=[],z(t),B(t),")"!==t.token)for(n.push(L(t));","===t.token;)B(t),n.push(L(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),B(t)}return new r(n)}return function(t){var n,r;return t.tokenType===O.SYMBOL||t.tokenType===O.DELIMITER&&t.token in C?(r=t.token,B(t),n=A.hasOwnProperty(r)?new d(A[r]):-1!==_.indexOf(r)?new d(u(r,"number")):new E(r),n=et(t,n)):function(t){var n,r;return'"'===t.token?(r=nt(t),n=new d(r),n=et(t,n)):function(t){var n,r;return"'"===t.token?(r=rt(t),n=new d(r),n=et(t,n)):function(t){var n,r,o,i;if("["===t.token){if(z(t),B(t),"]"!==t.token){var a=ot(t);if(";"===t.token){for(o=1,r=[a];";"===t.token;)B(t),r[o]=ot(t),o++;if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),B(t),i=r[0].items.length;for(var s=1;s<o;s++)if(r[s].items.length!==i)throw st(t,"Column dimensions mismatch ("+r[s].items.length+" !== "+i+")");n=new l(r)}else{if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),B(t),n=a}}else F(t),B(t),n=new l([]);return et(t,n)}return function(t){if("{"===t.token){var n;z(t);var r={};do{if(B(t),"}"!==t.token){if('"'===t.token)n=nt(t);else if("'"===t.token)n=rt(t);else{if(t.tokenType!==O.SYMBOL)throw at(t,"Symbol or string expected as object key");n=t.token,B(t)}if(":"!==t.token)throw at(t,"Colon : expected after object key");B(t),r[n]=L(t)}}while(","===t.token);if("}"!==t.token)throw at(t,"Comma , or bracket } expected after object value");F(t),B(t);var o=new v(r);return o=et(t,o)}return function(t){var n;return t.tokenType===O.NUMBER?(n=t.token,B(t),new d(u(n,e.number))):function(t){var e;if("("===t.token){if(z(t),B(t),e=L(t),")"!==t.token)throw at(t,"Parenthesis ) expected");return F(t),B(t),e=new b(e),e=et(t,e)}return function(t){throw""===t.token?at(t,"Unexpected end of expression"):at(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t),r={"!":"factorial","'":"ctranspose"};r.hasOwnProperty(t.token);)o=t.token,i=r[o],B(t),n=new g(o,i,[n]),n=et(t,n);return n}(t),("^"===t.token||".^"===t.token)&&(r=t.token,o="^"===r?"pow":"dotPow",I(t),i=[n,tt(t)],n=new g(r,o,i)),n}(t)}function et(e,n,r){for(var o;!("("!==e.token&&"["!==e.token&&"."!==e.token||r&&-1===r.indexOf(e.token));)if(o=[],"("===e.token){if(!t.isSymbolNode(n)&&!t.isAccessorNode(n))return n;if(z(e),B(e),")"!==e.token)for(o.push(L(e));","===e.token;)B(e),o.push(L(e));if(")"!==e.token)throw at(e,"Parenthesis ) expected");F(e),B(e),n=new x(n,o)}else if("["===e.token){if(z(e),B(e),"]"!==e.token)for(o.push(L(e));","===e.token;)B(e),o.push(L(e));if("]"!==e.token)throw at(e,"Parenthesis ] expected");F(e),B(e),n=new c(n,new y(o))}else{if(B(e),e.tokenType!==O.SYMBOL)throw at(e,"Property name expected after dot");o.push(new d(e.token)),B(e),n=new c(n,new y(o,!0))}return n}function nt(t){for(var e="";""!==D(t)&&'"'!==D(t);)"\\"===D(t)&&(e+=D(t),k(t)),e+=D(t),k(t);if(B(t),'"'!==t.token)throw at(t,'End of string " expected');return B(t),JSON.parse('"'+e+'"')}function rt(t){for(var e="";""!==D(t)&&"'"!==D(t);)"\\"===D(t)&&(e+=D(t),k(t)),e+=D(t),k(t);if(B(t),"'"!==t.token)throw at(t,"End of string ' expected");return B(t),JSON.parse('"'+e+'"')}function ot(t){for(var e=[L(t)],n=1;","===t.token;)B(t),e[n]=L(t),n++;return new l(e)}function it(t){return t.index-t.token.length+1}function at(t,e){var n=it(t),r=new SyntaxError(e+" (char "+n+")");return r.char=n,r}function st(t,e){var n=it(t),r=new SyntaxError(e+" (char "+n+")");return r.char=n,r}return S.isAlpha=function(t,e,n){return S.isValidLatinOrGreek(t)||S.isValidMathSymbol(t,n)||S.isValidMathSymbol(e,t)},S.isValidLatinOrGreek=function(t){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},S.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},S.isWhitespace=function(t,e){return" "===t||"\t"===t||"\n"===t&&e>0},S.isDecimalMark=function(t,e){return"."===t&&"/"!==e&&"*"!==e&&"^"!==e},S.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},S.isDigit=function(t){return t>="0"&&t<="9"},S}},MVZn:function(t,e,n){var r=n("lSNA");t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}},MmBA:function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},MqKi:function(t,e,n){"use strict";var r=n("X8kj");e.name="algorithm04",e.factory=function(t,e,o,i){var a=o(n("hj6K")),s=t.SparseMatrix;return function(t,e,n){var o=t._values,u=t._index,c=t._ptr,l=t._size,p=t._datatype,f=e._values,h=e._index,d=e._ptr,m=e._size,y=e._datatype;if(l.length!==m.length)throw new r(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var v,g=l[0],b=l[1],x=a,w=0,N=n;"string"==typeof p&&p===y&&(v=p,x=i.find(a,[v,v]),w=i.convert(0,v),N=i.find(n,[v,v]));var E,S,O,M,C,A=o&&f?[]:void 0,_=[],T=[],D=new s({values:A,index:_,ptr:T,size:[g,b],datatype:v}),k=o&&f?[]:void 0,j=o&&f?[]:void 0,P=[],B=[];for(S=0;S<b;S++){T[S]=_.length;var I=S+1;for(M=c[S],C=c[S+1],O=M;O<C;O++)E=u[O],_.push(E),P[E]=I,k&&(k[E]=o[O]);for(M=d[S],C=d[S+1],O=M;O<C;O++)if(P[E=h[O]]===I){if(k){var z=N(k[E],f[O]);x(z,w)?P[E]=null:k[E]=z}}else _.push(E),B[E]=I,j&&(j[E]=f[O]);if(k&&j)for(O=T[S];O<_.length;)P[E=_[O]]===I?(A[O]=k[E],O++):B[E]===I?(A[O]=j[E],O++):_.splice(O,1)}return T[b]=_.length,D}}},N5iU:function(t,e,n){"use strict";var r=n("199F").isInteger,o=n("199F").toFixed,i=n("1stm"),a="Number of decimals in function round must be an integer";function s(t,e){return parseFloat(o(t,e))}e.name="round",e.factory=function(t,e,o,u){var c=o(n("R4H5")),l=o(n("hj6K")),p=o(n("9a6t")),f=o(n("nr1U")),h=o(n("/z5F")),d=o(n("BLb5")),m=u("round",{number:function(t){return s(t,0)},"number, number":function(t,e){if(!r(e))throw new TypeError(a);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return s(t,e)},Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(a);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(a);var n=e.toNumber();return t.round(n)},"number, BigNumber":function(e,n){if(!n.isInteger())throw new TypeError(a);return new t.BigNumber(e).toDecimalPlaces(n.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(a);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(a);return t.round(e)},"Array | Matrix":function(t){return i(t,m,!0)},"SparseMatrix, number | BigNumber":function(t,e){return f(t,e,m,!1)},"DenseMatrix, number | BigNumber":function(t,e){return d(t,e,m,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return l(t,0)?p(e.size(),e.storage()):h(e,t,m,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return l(t,0)?p(e.size(),e.storage()):d(e,t,m,!0)},"Array, number | BigNumber":function(t,e){return d(c(t),e,m,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return d(c(e),t,m,!0).valueOf()}});return m.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},m}},NEdZ:function(t,e,n){"use strict";var r=n("Z2I/").extend;e.name="add",e.factory=function(t,e,o,i){var a=o(n("R4H5")),s=o(n("XXst")),u=n("bFQJ"),c=o(n("eX2I")),l=o(n("MqKi")),p=o(n("v+4T")),f=o(n("zbDx")),h=o(n("BLb5")),d=i("add",r({"DenseMatrix, DenseMatrix":function(t,e){return f(t,e,s)},"DenseMatrix, SparseMatrix":function(t,e){return c(t,e,s,!1)},"SparseMatrix, DenseMatrix":function(t,e){return c(e,t,s,!0)},"SparseMatrix, SparseMatrix":function(t,e){return l(t,e,s)},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"DenseMatrix, any":function(t,e){return h(t,e,s,!1)},"SparseMatrix, any":function(t,e){return p(t,e,s,!1)},"any, DenseMatrix":function(t,e){return h(e,t,s,!0)},"any, SparseMatrix":function(t,e){return p(e,t,s,!0)},"Array, any":function(t,e){return h(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return h(a(e),t,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(t,e,n){for(var r=d(t,e),o=0;o<n.length;o++)r=d(r,n[o]);return r}},s.signatures));return d.toTex={2:"\\left(${args[0]}".concat(u.operators.add,"${args[1]}\\right)")},d}},NJZR:function(t,e,n){"use strict";e.isBoolean=function(t){return"boolean"==typeof t}},"NU+P":function(t,e,n){"use strict";var r=n("Z2I/").extend,o=n("sTyi");e.name="multiply",e.factory=function(t,e,i,a){var s=n("bFQJ"),u=i(n("R4H5")),c=i(n("XXst")),l=i(n("oiZ2")),p=i(n("hj6K")),f=i(n("nr1U")),h=i(n("BLb5")),d=t.DenseMatrix,m=t.SparseMatrix,y=a("multiply",r({"Array, Array":function(e,n){v(o.size(e),o.size(n));var r=y(u(e),u(n));return t.isMatrix(r)?r.valueOf():r},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return v(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var r,o=t._data,i=t._datatype,s=e._data,u=e._datatype,p=c,f=l;i&&u&&i===u&&"string"==typeof i&&(r=i,p=a.find(c,[r,r]),f=a.find(l,[r,r]));for(var h=f(o[0],s[0]),d=1;d<n;d++)h=p(h,f(o[d],s[d]));return h}(t,e,n[0]):function(t,e){if("dense"!==e.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,e){var n,r=t._data,o=t._size,i=t._datatype,s=e._data,u=e._size,p=e._datatype,f=o[0],h=u[1],m=c,y=l;i&&p&&i===p&&"string"==typeof i&&(n=i,m=a.find(c,[n,n]),y=a.find(l,[n,n]));for(var v=[],g=0;g<h;g++){for(var b=y(r[0],s[0][g]),x=1;x<f;x++)b=m(b,y(r[x],s[x][g]));v[g]=b}return new d({data:v,size:[h],datatype:n})}(t,e)}(t,e):1===r.length?g(t,e):b(t,e)},"Matrix, Array":function(t,e){return y(t,u(e))},"Array, Matrix":function(t,e){return y(u(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return f(t,e,l,!1)},"DenseMatrix, any":function(t,e){return h(t,e,l,!1)},"any, SparseMatrix":function(t,e){return f(e,t,l,!0)},"any, DenseMatrix":function(t,e){return h(e,t,l,!0)},"Array, any":function(t,e){return h(u(t),e,l,!1).valueOf()},"any, Array":function(t,e){return h(u(e),t,l,!0).valueOf()},"any, any":l,"any, any, ...any":function(t,e,n){for(var r=y(t,e),o=0;o<n.length;o++)r=y(r,n[o]);return r}},l.signatures));function v(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var g=a("_multiplyMatrixVector",{"DenseMatrix, any":function(t,e){var n,r=t._data,o=t._size,i=t._datatype,s=e._data,u=e._datatype,p=o[0],f=o[1],h=c,m=l;i&&u&&i===u&&"string"==typeof i&&(n=i,h=a.find(c,[n,n]),m=a.find(l,[n,n]));for(var y=[],v=0;v<p;v++){for(var g=r[v],b=m(g[0],s[0]),x=1;x<f;x++)b=h(b,m(g[x],s[x]));y[v]=b}return new d({data:y,size:[p],datatype:n})},"SparseMatrix, any":function(t,e){var n=t._values,r=t._index,o=t._ptr,i=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,f=e._datatype,h=t._size[0],d=e._size[0],y=[],v=[],g=[],b=c,x=l,w=p,N=0;i&&f&&i===f&&"string"==typeof i&&(s=i,b=a.find(c,[s,s]),x=a.find(l,[s,s]),w=a.find(p,[s,s]),N=a.convert(0,s));var E=[],S=[];g[0]=0;for(var O=0;O<d;O++){var M=u[O];if(!w(M,N))for(var C=o[O],A=o[O+1],_=C;_<A;_++){var T=r[_];S[T]?E[T]=b(E[T],x(M,n[_])):(S[T]=!0,v.push(T),E[T]=x(M,n[_]))}}for(var D=v.length,k=0;k<D;k++){var j=v[k];y[k]=E[j]}return g[1]=v.length,new m({values:y,index:v,ptr:g,size:[h,1],datatype:s})}}),b=a("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,e){var n,r=t._data,o=t._size,i=t._datatype,s=e._data,u=e._size,p=e._datatype,f=o[0],h=o[1],m=u[1],y=c,v=l;i&&p&&i===p&&"string"==typeof i&&(n=i,y=a.find(c,[n,n]),v=a.find(l,[n,n]));for(var g=[],b=0;b<f;b++){var x=r[b];g[b]=[];for(var w=0;w<m;w++){for(var N=v(x[0],s[0][w]),E=1;E<h;E++)N=y(N,v(x[E],s[E][w]));g[b][w]=N}}return new d({data:g,size:[f,m],datatype:n})},"DenseMatrix, SparseMatrix":function(t,e){var n=t._data,r=t._size,o=t._datatype,i=e._values,s=e._index,u=e._ptr,f=e._size,h=e._datatype;if(!i)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,y=r[0],v=f[1],g=c,b=l,x=p,w=0;o&&h&&o===h&&"string"==typeof o&&(d=o,g=a.find(c,[d,d]),b=a.find(l,[d,d]),x=a.find(p,[d,d]),w=a.convert(0,d));for(var N=[],E=[],S=[],O=new m({values:N,index:E,ptr:S,size:[y,v],datatype:d}),M=0;M<v;M++){S[M]=E.length;var C=u[M],A=u[M+1];if(A>C)for(var _=0,T=0;T<y;T++){for(var D=T+1,k=void 0,j=C;j<A;j++){var P=s[j];_!==D?(k=b(n[T][P],i[j]),_=D):k=g(k,b(n[T][P],i[j]))}_!==D||x(k,w)||(E.push(T),N.push(k))}}return S[v]=E.length,O},"SparseMatrix, DenseMatrix":function(t,e){var n=t._values,r=t._index,o=t._ptr,i=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,f=e._datatype,h=t._size[0],d=e._size[0],y=e._size[1],v=c,g=l,b=p,x=0;i&&f&&i===f&&"string"==typeof i&&(s=i,v=a.find(c,[s,s]),g=a.find(l,[s,s]),b=a.find(p,[s,s]),x=a.convert(0,s));for(var w=[],N=[],E=[],S=new m({values:w,index:N,ptr:E,size:[h,y],datatype:s}),O=[],M=[],C=0;C<y;C++){E[C]=N.length;for(var A=C+1,_=0;_<d;_++){var T=u[_][C];if(!b(T,x))for(var D=o[_],k=o[_+1],j=D;j<k;j++){var P=r[j];M[P]!==A?(M[P]=A,N.push(P),O[P]=g(T,n[j])):O[P]=v(O[P],g(T,n[j]))}}for(var B=E[C],I=N.length,z=B;z<I;z++){var F=N[z];w[z]=O[F]}}return E[y]=N.length,S},"SparseMatrix, SparseMatrix":function(t,e){var n,r=t._values,o=t._index,i=t._ptr,s=t._datatype,u=e._values,p=e._index,f=e._ptr,h=e._datatype,d=t._size[0],y=e._size[1],v=r&&u,g=c,b=l;s&&h&&s===h&&"string"==typeof s&&(n=s,g=a.find(c,[n,n]),b=a.find(l,[n,n]));for(var x,w,N,E,S,O,M,C,A=v?[]:void 0,_=[],T=[],D=new m({values:A,index:_,ptr:T,size:[d,y],datatype:n}),k=v?[]:void 0,j=[],P=0;P<y;P++){T[P]=_.length;var B=P+1;for(S=f[P],O=f[P+1],E=S;E<O;E++)if(C=p[E],v)for(w=i[C],N=i[C+1],x=w;x<N;x++)M=o[x],j[M]!==B?(j[M]=B,_.push(M),k[M]=b(u[E],r[x])):k[M]=g(k[M],b(u[E],r[x]));else for(w=i[C],N=i[C+1],x=w;x<N;x++)M=o[x],j[M]!==B&&(j[M]=B,_.push(M));if(v)for(var I=T[P],z=_.length,F=I;F<z;F++){var R=_[F];A[F]=k[R]}}return T[y]=_.length,D}});return y.toTex={2:"\\left(${args[0]}".concat(s.operators.multiply,"${args[1]}\\right)")},y}},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},Nsef:function(t,e,n){"use strict";e.name="and",e.factory=function(t,e,r,o){var i=n("bFQJ"),a=r(n("R4H5")),s=r(n("9a6t")),u=r(n("BdOc")),c=r(n("4fwU")),l=r(n("1d6v")),p=r(n("nr1U")),f=r(n("zbDx")),h=r(n("BLb5")),d=o("and",{"number, number":function(t,e){return!(!t||!e)},"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return d(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return l(t,e,d,!1)},"SparseMatrix, DenseMatrix":function(t,e){return c(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){return c(t,e,d,!1)},"DenseMatrix, DenseMatrix":function(t,e){return f(t,e,d)},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"SparseMatrix, any":function(t,e){return u(e)?s(t.size(),t.storage()):p(t,e,d,!1)},"DenseMatrix, any":function(t,e){return u(e)?s(t.size(),t.storage()):h(t,e,d,!1)},"any, SparseMatrix":function(t,e){return u(t)?s(t.size(),t.storage()):p(e,t,d,!0)},"any, DenseMatrix":function(t,e){return u(t)?s(t.size(),t.storage()):h(e,t,d,!0)},"Array, any":function(t,e){return d(a(t),e).valueOf()},"any, Array":function(t,e){return d(t,a(e)).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(i.operators.and,"${args[1]}\\right)")},d}},O1N0:function(t,e,n){"use strict";var r=n("X8kj");function o(t,e){var n=t.size(),o=e.size();if(n.length!==o.length)throw new r(n.length,o.length)}e.name="subtract",e.factory=function(t,e,r,i){var a=n("bFQJ"),s=r(n("R4H5")),u=r(n("XXst")),c=r(n("7DiD")),l=r(n("eX2I")),p=r(n("hYuG")),f=r(n("ZXMR")),h=r(n("v+4T")),d=r(n("zbDx")),m=r(n("BLb5")),y=i("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=y(n.value,e.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e),f(t,e,y)},"SparseMatrix, DenseMatrix":function(t,e){return o(t,e),p(e,t,y,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e),l(t,e,y,!1)},"DenseMatrix, DenseMatrix":function(t,e){return o(t,e),d(t,e,y)},"Array, Array":function(t,e){return y(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return y(s(t),e)},"Matrix, Array":function(t,e){return y(t,s(e))},"SparseMatrix, any":function(t,e){return h(t,c(e),u)},"DenseMatrix, any":function(t,e){return m(t,e,y)},"any, SparseMatrix":function(t,e){return h(e,t,y,!0)},"any, DenseMatrix":function(t,e){return m(e,t,y,!0)},"Array, any":function(t,e){return m(s(t),e,y,!1).valueOf()},"any, Array":function(t,e){return m(s(e),t,y,!0).valueOf()}});return y.toTex={2:"\\left(${args[0]}".concat(a.operators.subtract,"${args[1]}\\right)")},y}},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},PXUV:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("199F").format,i=n("Dq+S").format,a=n("pvRk");e.isString=function(t){return"string"==typeof t},e.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},e.format=function(t,n){if("number"==typeof t)return o(t,n);if(a(t))return i(t,n);if(function(t){return t&&"object"===r(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t))return n&&"decimal"===n.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return function t(n,r){if(Array.isArray(n)){for(var o="[",i=n.length,a=0;a<i;a++)0!==a&&(o+=", "),o+=t(n[a],r);return o+="]"}return e.format(n,r)}(t,n);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===r(t)){if("function"==typeof t.format)return t.format(n);if(t&&t.toString()!=={}.toString())return t.toString();var s=[];for(var u in t)t.hasOwnProperty(u)&&s.push('"'+u+'": '+e.format(t[u],n));return"{"+s.join(", ")+"}"}return String(t)},e.stringify=function(t){for(var e=String(t),n="",r=0;r<e.length;){var o=e.charAt(r);"\\"===o?(n+=o,r++,""!==(o=e.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(o)||(n+="\\"),n+=o):n+='"'===o?'\\"':o,r++}return'"'+n+'"'},e.escape=function(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},QILm:function(t,e,n){var r=n("8OQS");t.exports=function(t,e){if(null==t)return{};var n,o,i=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},QfvV:function(t,e,n){"use strict";var r=n("LHK7");e.name="inv",e.factory=function(t,e,o,i){var a=o(n("R4H5")),s=o(n("WPGy")),u=o(n("XXst")),c=o(n("NU+P")),l=o(n("7DiD")),p=o(n("3efQ")),f=o(n("MKmT")),h=o(n("fTxE")),d=i("inv",{"Array | Matrix":function(e){var n=t.isMatrix(e)?e.size():r.array.size(e);switch(n.length){case 1:if(1===n[0])return t.isMatrix(e)?a([s(1,e.valueOf()[0])]):[s(1,e[0])];throw new RangeError("Matrix must be square (size: "+r.string.format(n)+")");case 2:var o=n[0],i=n[1];if(o===i)return t.isMatrix(e)?a(m(e.valueOf(),o,i),e.storage()):m(e,o,i);throw new RangeError("Matrix must be square (size: "+r.string.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+r.string.format(n)+")")}},any:function(t){return s(1,t)}});function m(t,e,n){var r,o,i,a,d;if(1===e){if(0===(a=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[s(1,a)]]}if(2===e){var m=p(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[s(t[1][1],m),s(l(t[0][1]),m)],[s(l(t[1][0]),m),s(t[0][0],m)]]}var y=t.concat();for(r=0;r<e;r++)y[r]=y[r].concat();for(var v=f(e).valueOf(),g=0;g<n;g++){var b=h(y[g][g]),x=g;for(r=g+1;r<e;)h(y[r][g])>b&&(b=h(y[r][g]),x=r),r++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(r=x)!==g&&(d=y[g],y[g]=y[r],y[r]=d,d=v[g],v[g]=v[r],v[r]=d);var w=y[g],N=v[g];for(r=0;r<e;r++){var E=y[r],S=v[r];if(r!==g){if(0!==E[g]){for(i=s(l(E[g]),w[g]),o=g;o<n;o++)E[o]=u(E[o],c(i,w[o]));for(o=0;o<n;o++)S[o]=u(S[o],c(i,N[o]))}}else{for(i=w[g],o=g;o<n;o++)E[o]=s(E[o],i);for(o=0;o<n;o++)S[o]=s(S[o],i)}}}return v}return d.toTex={1:"\\left(${args[0]}\\right)^{-1}"},d}},QllX:function(t,e,n){"use strict";var r=n("1stm");e.name="floor",e.factory=function(t,e,n,o){var i=o("floor",{number:Math.floor,Complex:function(t){return t.floor()},BigNumber:function(t){return t.floor()},Fraction:function(t){return t.floor()},"Array | Matrix":function(t){return r(t,i,!0)}});return i.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},i}},R4H5:function(t,e,n){"use strict";e.name="matrix",e.factory=function(t,e,n,r){var o=r("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o;function i(e,n,r){return new(t.Matrix.storage(n||"default"))(e,r)}}},R4gy:function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},i={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(t,e){return r({},t,e)};t.exports=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preserveFormatting,s=void 0!==n&&n,u=e.escapeMapFn,c=void 0===u?a:u,l=String(t),p="",f=c(r({},o),s?r({},i):{}),h=Object.keys(f),d=function(){var t=!1;h.forEach(function(e,n){t||l.length>=e.length&&l.slice(0,e.length)===e&&(p+=f[h[n]],l=l.slice(e.length,l.length),t=!0)}),t||(p+=l.slice(0,1),l=l.slice(1,l.length))};l;)d();return p}},RIqP:function(t,e,n){var r=n("Ijbi"),o=n("EbDI"),i=n("Bnag");t.exports=function(t){return r(t)||o(t)||i()}},RYjE:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("PXUV").stringify,i=n("PXUV").escape,a=n("4bae").isSafeProperty,s=n("Z2I/").hasOwnProperty;e.name="ObjectNode",e.path="expression.node",e.factory=function(t,e,u,c){var l=u(n("K6lB"));function p(e){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==r(e)||!Object.keys(e).every(function(n){return t.isNode(e[n])})))throw new TypeError("Object containing Nodes expected")}return p.prototype=new l,p.prototype.type="ObjectNode",p.prototype.isObjectNode=!0,p.prototype._compile=function(t,e){var n={};for(var r in this.properties)if(s(this.properties,r)){var i=o(r),u=JSON.parse(i);if(!a(this.properties,u))throw new Error('No access to property "'+u+'"');n[u]=this.properties[r]._compile(t,e)}return function(t,e,r){var o={};for(var i in n)s(n,i)&&(o[i]=n[i](t,e,r));return o}},p.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],"properties["+o(e)+"]",this)},p.prototype.map=function(t){var e={};for(var n in this.properties)this.properties.hasOwnProperty(n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+o(n)+"]",this)));return new p(e)},p.prototype.clone=function(){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new p(t)},p.prototype._toString=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push(o(n)+": "+this.properties[n].toString(t));return"{"+e.join(", ")+"}"},p.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},p.fromJSON=function(t){return new p(t.properties)},p.prototype.toHTML=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push('<span class="math-symbol math-property">'+i(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},p.prototype._toTex=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},p}},S2pI:function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,t.exports=r},S5k1:function(t,e,n){},SgCf:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("Z2I/").lazy,i=n("Z2I/").isFactory,a=n("Z2I/").traverse,s=n("ESPO");e.math=!0,e.name="import",e.factory=function(t,e,n,u,c){function l(t,e,n){if(n.wrap&&"function"==typeof e&&(o=function(){for(var t=[],e=0,n=arguments.length;e<n;e++){var o=arguments[e];t[e]=o&&o.valueOf()}return r.apply(c,t)},(r=e).transform&&(o.transform=r.transform),e=o),m(c[t])&&m(e))return e=n.override?u(t,e.signatures):u(c[t],e),c[t]=e,p(t,e),void c.emit("import",t,function(){return e});var r,o;if(void 0===c[t]||n.override)return c[t]=e,p(t,e),void c.emit("import",t,function(){return e});if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function p(t,e){e&&"function"==typeof e.transform?(c.expression.transform[t]=e.transform,y(t)&&(c.expression.mathWithTransform[t]=e.transform)):(delete c.expression.transform[t],y(t)&&(c.expression.mathWithTransform[t]=e))}function f(t){delete c.expression.transform[t],y(t)?c.expression.mathWithTransform[t]=c[t]:delete c.expression.mathWithTransform[t]}function h(t,e){if("string"==typeof t.name){var r=t.name,i=r in c.expression.transform,s=t.path?a(c,t.path):c,l=s.hasOwnProperty(r)?s[r]:void 0,p=function(){var o=n(t);if(o&&"function"==typeof o.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(m(l)&&m(o))return e.override||(o=u(l,o)),o;if(void 0===l||e.override)return o;if(!e.silent)throw new Error('Cannot import "'+r+'": already exists')};!1!==t.lazy?(o(s,r,p),i?f(r):("expression.transform"===t.path||v(t))&&o(c.expression.mathWithTransform,r,p)):(s[r]=p(),i?f(r):("expression.transform"===t.path||v(t))&&(c.expression.mathWithTransform[r]=p())),c.emit("import",r,p,t.path)}else n(t)}function d(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||e&&t.isUnit(e)||e&&t.isComplex(e)||e&&t.isBigNumber(e)||e&&t.isFraction(e)||e&&t.isMatrix(e)||e&&Array.isArray(e)}function m(t){return"function"==typeof t&&"object"===r(t.signatures)}function y(t){return!g.hasOwnProperty(t)}function v(t){return void 0===t.path&&!g.hasOwnProperty(t.name)}var g={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function t(e,n){var o=arguments.length;if(1!==o&&2!==o)throw new s("import",o,1,2);if(n||(n={}),i(e))h(e,n);else if(Array.isArray(e))e.forEach(function(e){t(e,n)});else if("object"===r(e)){for(var a in e)if(e.hasOwnProperty(a)){var u=e[a];d(u)?l(a,u,n):i(e)?h(e,n):t(u,n)}}else if(!n.silent)throw new TypeError("Factory, Object, or Array expected")}},e.lazy=!0},SksO:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},Tb0o:function(t,e,n){"use strict";var r=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function o(t,e){var n=t;"keep"!==e&&(n=t.getContent());for(var o=n.getIdentifier(),i=0;i<r.length;i++)if(o in r[i])return i;return null}t.exports.properties=r,t.exports.getPrecedence=o,t.exports.getAssociativity=function(t,e){var n=t;"keep"!==e&&(n=t.getContent());var i=n.getIdentifier(),a=o(n,e);if(null===a)return null;var s=r[a][i];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null},t.exports.isAssociativeWith=function(t,e,n){var i="keep"!==n?t.getContent():t,a="keep"!==n?t.getContent():e,s=i.getIdentifier(),u=a.getIdentifier(),c=o(i,n);if(null===c)return null;var l=r[c][s];if(l.hasOwnProperty("associativeWith")&&l.associativeWith instanceof Array){for(var p=0;p<l.associativeWith.length;p++)if(l.associativeWith[p]===u)return!0;return!1}return null}},"U/5H":function(t,e,n){var r,o;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function(i){"use strict";void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,r,o,i,a,s,u,c,l,p,f,h,d,m,y,v,g,b,x,w,N,E,S,O=[],M=!1,C=!1,A=!1,_=[],T=!1,D=!1,k=/\s+/g,j="Sortable"+(new Date).getTime(),P=window,B=P.document,I=P.parseInt,z=P.setTimeout,F=P.jQuery||P.Zepto,R=P.Polymer,L={capture:!1,passive:!1},U=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),H=!!navigator.userAgent.match(/Edge/i),X=H||U?"cssFloat":"float",J="draggable"in B.createElement("div"),W=function(){if(U)return!1;var t=B.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),q=!1,V=!1,K=Math.abs,Z=Math.min,Y=[],$=function(t,e){var n=mt(t),r=I(n.width),o=Nt(t,0,e),i=Nt(t,1,e),a=o&&mt(o),s=i&&mt(i),u=a&&I(a.marginLeft)+I(a.marginRight)+kt(o).width,c=s&&I(s.marginLeft)+I(s.marginRight)+kt(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if(o&&"none"!==a.float){var l="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=r&&"none"===n[X]||i&&"none"===n[X]&&u+c>r)?"vertical":"horizontal"},Q=function(t,e){if(!t||!t.getBoundingClientRect)return P;var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=mt(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n||!n.getBoundingClientRect||n===B.body)return P;if(r||e)return n;r=!0}}}while(n=n.parentNode);return P},G=Ct(function(t,e,n,r){if(e.scroll){var o=n?n[j]:window,i=e.scrollSensitivity,a=e.scrollSpeed,l=t.clientX,p=t.clientY,f=(window.innerWidth,window.innerHeight,!1);u!==n&&(tt(),s=e.scroll,c=e.scrollFn,!0===s&&(s=Q(n,!0),u=s));var h=0,d=s;do{var m,y,v,b,x,w,N,E,S,C=d,A=kt(C),_=A.top,T=A.bottom,D=A.left,k=A.right,I=A.width,z=A.height;if(C!==P?(m=C.scrollWidth,y=C.scrollHeight,v=mt(C),w=I<m&&("auto"===v.overflowX||"scroll"===v.overflowX),N=z<y&&("auto"===v.overflowY||"scroll"===v.overflowY),E=C.scrollLeft,S=C.scrollTop):(m=B.documentElement.scrollWidth,y=B.documentElement.scrollHeight,v=mt(B.documentElement),w=I<m&&("auto"===v.overflowX||"scroll"===v.overflowX||"visible"===v.overflowX),N=z<y&&("auto"===v.overflowY||"scroll"===v.overflowY||"visible"===v.overflowY),E=B.documentElement.scrollLeft,S=B.documentElement.scrollTop),b=w&&(K(k-l)<=i&&E+I<m)-(K(D-l)<=i&&!!E),x=N&&(K(T-p)<=i&&S+z<y)-(K(_-p)<=i&&!!S),!O[h])for(var F=0;F<=h;F++)O[F]||(O[F]={});O[h].vx==b&&O[h].vy==x&&O[h].el===C||(O[h].el=C,O[h].vx=b,O[h].vy=x,clearInterval(O[h].pid),!C||0==b&&0==x||(f=!0,O[h].pid=setInterval(function(){r&&0===this.layer&&ct.active._emulateDragOver(!0);var e=O[this.layer].vy?O[this.layer].vy*a:0,n=O[this.layer].vx?O[this.layer].vx*a:0;"function"==typeof c&&"continue"!==c.call(o,n,e,t,g,O[this.layer].el)||(O[this.layer].el===P?P.scrollTo(P.pageXOffset+n,P.pageYOffset+e):(O[this.layer].el.scrollTop+=e,O[this.layer].el.scrollLeft+=n))}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&d!==P&&(d=Q(d,!1)));M=f}},30),tt=function(){O.forEach(function(t){clearInterval(t.pid)}),O=[]},et=function(t){function e(t,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(r,o,i,a),n)(r,o,i,a);var u=(n?r:o).options.group.name;return!0===t||"string"==typeof t&&t===u||t.join&&t.indexOf(u)>-1}}var n={},r=t.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},nt=function(e){t&&t.parentNode&&t.parentNode[j]&&t.parentNode[j]._computeIsAligned(e)},rt=function(t,e){for(var n=e;!n[j];)n=n.parentNode;return t===n},ot=function(t,e,n){for(var r=t.parentNode;r&&!r[j];)r=r.parentNode;r&&r[j][n](At(e,{artificialBubble:!0}))},it=function(){!W&&n&&mt(n,"display","none")},at=function(){!W&&n&&mt(n,"display","")};B.addEventListener("click",function(t){if(A)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),A=!1,!1},!0);var st,ut=function(e){if(e=e.touches?e.touches[0]:e,t){var n=function(t,e){for(var n=0;n<_.length;n++)if(!_[n].children.length){var r=kt(_[n]),o=_[n][j].options.emptyInsertThreshold,i=t>=r.left-o&&t<=r.right+o,a=e>=r.top-o&&e<=r.bottom+o;if(i&&a)return _[n]}}(e.clientX,e.clientY);n&&n[j]._onDragOver({clientX:e.clientX,clientY:e.clientY,target:n,rootEl:n})}};function ct(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=At({},e),t[j]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:I(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ct.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var r in n)!(r in e)&&(e[r]=n[r]);for(var o in et(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&J,e.supportPointer?ft(t,"pointerdown",this._onTapStart):(ft(t,"mousedown",this._onTapStart),ft(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ft(t,"dragover",this),ft(t,"dragenter",this)),_.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function lt(t,e,n,r){if(t){n=n||B;do{if(null!=e&&(">"===e[0]&&t.parentNode===n&&Mt(t,e.substring(1))||Mt(t,e))||r&&t===n)return t;if(t===n)break}while(t=pt(t))}return null}function pt(t){return t.host&&t!==B&&t.host.nodeType?t.host:t.parentNode}function ft(t,e,n){t.addEventListener(e,n,L)}function ht(t,e,n){t.removeEventListener(e,n,L)}function dt(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(k," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(k," ")}}function mt(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return B.defaultView&&B.defaultView.getComputedStyle?n=B.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function yt(t){var e="";do{var n=mt(t,"transform");n&&"none"!==n&&(e=n+" "+e)}while(t=t.parentNode);return window.DOMMatrix?new DOMMatrix(e):window.WebKitCSSMatrix?new WebKitCSSMatrix(e):window.CSSMatrix?new CSSMatrix(e):void 0}function vt(t,e,n){if(t){var r=t.getElementsByTagName(e),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function gt(t,e,n,o,i,a,s,u,c){var l,p=(t=t||e[j]).options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||U||H?(l=B.createEvent("Event")).initEvent(n,!0,!0):l=new CustomEvent(n,{bubbles:!0,cancelable:!0}),l.to=i||e,l.from=a||e,l.item=o||e,l.clone=r,l.oldIndex=s,l.newIndex=u,l.originalEvent=c,e&&e.dispatchEvent(l),p[f]&&p[f].call(t,l)}function bt(t,e,n,r,o,i,a,s){var u,c,l=t[j],p=l.options.onMove;return!window.CustomEvent||U||H?(u=B.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=e,u.from=t,u.dragged=n,u.draggedRect=r,u.related=o||e,u.relatedRect=i||kt(e),u.willInsertAfter=s,u.originalEvent=a,t.dispatchEvent(u),p&&(c=p.call(l,u,a)),c}function xt(t){t.draggable=!1}function wt(){q=!1}function Nt(e,r,o){for(var i=0,a=0,s=e.children;a<s.length;){if("none"!==s[a].style.display&&s[a]!==n&&s[a]!==t&&lt(s[a],o.draggable,e,!1)){if(i===r)return s[a];i++}a++}return null}function Et(t){for(var e=t.lastElementChild;(e===n||"none"===e.style.display)&&(e=e.previousElementSibling););return e||null}function St(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Ot(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==r&&n++;return n}function Mt(t,e){if(t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}function Ct(t,e){return function(){if(!st){var n=arguments,r=this;st=z(function(){1===n.length?t.call(r,n[0]):t.apply(r,n),st=void 0},e)}}}function At(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function _t(t){return R&&R.dom?R.dom(t).cloneNode(!0):F?F(t).clone(!0)[0]:t.cloneNode(!0)}function Tt(t){return z(t,0)}function Dt(t){return clearTimeout(t)}function kt(t,e,n){if(t.getBoundingClientRect||t===P){var r,o,i,a,s,u,c;if(t!==P?(o=(r=t.getBoundingClientRect()).top,i=r.left,a=r.bottom,s=r.right,u=r.height,c=r.width):(o=0,i=0,a=window.innerHeight,s=window.innerWidth,u=window.innerHeight,c=window.innerWidth),n&&t!==P){if(e=e||t.parentNode,!U)do{if(e&&e.getBoundingClientRect&&"none"!==mt(e,"transform")){var l=e.getBoundingClientRect();o-=l.top+I(mt(e,"border-top-width")),i-=l.left+I(mt(e,"border-left-width")),a=o+r.height,s=i+r.width;break}}while(e=e.parentNode);var p=yt(t),f=p&&p.a,h=p&&p.d;p&&(a=(o/=h)+(u/=h),s=(i/=f)+(c/=f))}return{top:o,left:i,bottom:a,right:s,width:c,height:u}}}return ft(B,"dragover",ut),ft(B,"mousemove",ut),ft(B,"touchmove",ut),ct.prototype={constructor:ct,_computeIsAligned:function(e){var r;if(n&&!W?(it(),r=B.elementFromPoint(e.clientX,e.clientY),at()):r=e.target,r=lt(r,this.options.draggable,this.el,!1),!V&&t&&t.parentNode===this.el){for(var o,i,a,s,u,c,l,p,f=this.el.children,h=0;h<f.length;h++)lt(f[h],this.options.draggable,this.el,!1)&&f[h]!==r&&(f[h].sortableMouseAligned=(o=e.clientX,i=e.clientY,a=f[h],s=this._getDirection(e,null),this.options,void 0,void 0,void 0,void 0,u=kt(a),c="vertical"===s?u.left:u.top,l="vertical"===s?u.right:u.bottom,c<(p="vertical"===s?o:i)&&p<l));lt(r,this.options.draggable,this.el,!0)||(x=null),V=!0,z(function(){V=!1},30)}},_getDirection:function(e,n){return"function"==typeof this.options.direction?this.options.direction.call(this,e,n,t):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n,r=this,o=this.el,i=this.options,s=i.preventOnFilter,u=e.type,c=e.touches&&e.touches[0],l=(c||e).target,p=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=i.filter;if(function(t){Y.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var r=e[n];r.checked&&Y.push(r)}}(o),(!U||e.artificialBubble||rt(o,l))&&!t&&!(/mousedown|pointerdown/.test(u)&&0!==e.button||i.disabled||p.isContentEditable))if(l=lt(l,i.draggable,o,!1)){if(a!==l){if(n=Ot(l,i.draggable),"function"==typeof f){if(f.call(this,e,l,this))return gt(r,p,"filter",l,o,o,n),void(s&&e.cancelable&&e.preventDefault())}else if(f&&(f=f.split(",").some(function(t){if(t=lt(p,t.trim(),o,!1))return gt(r,t,"filter",l,o,o,n),!0})))return void(s&&e.cancelable&&e.preventDefault());i.handle&&!lt(p,i.handle,o,!1)||this._prepareDragStart(e,c,l,n)}}else U&&ot(o,e,"_onTapStart")}},_handleAutoScroll:function(e,n){if(t&&this.options.scroll){var r=e.clientX,o=e.clientY,i=B.elementFromPoint(r,o),a=this;if(n||H||U){G(e,a.options,i,n);var s=Q(i,!0);!M||d&&r===m&&o===y||(d&&clearInterval(d),d=setInterval(function(){if(t){var i=Q(B.elementFromPoint(r,o),!0);i!==s&&(s=i,tt(),G(e,a.options,s,n))}},10),m=r,y=o)}else{if(!a.options.bubbleScroll||Q(i,!0)===window)return void tt();G(e,a.options,Q(i,!1),!1)}}},_prepareDragStart:function(n,r,s,u){var c,p=this,h=p.el,d=p.options,m=h.ownerDocument;s&&!t&&s.parentNode===h&&(o=h,e=(t=s).parentNode,i=t.nextSibling,a=s,f=d.group,l=u,v={target:t,clientX:(r||n).clientX,clientY:(r||n).clientY},this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,t.style["will-change"]="all",t.style.transition="",t.style.transform="",c=function(){p._disableDelayedDrag(),t.draggable=p.nativeDraggable,p._triggerDragStart(n,r),gt(p,o,"choose",t,o,o,l),dt(t,d.chosenClass,!0)},d.ignore.split(",").forEach(function(e){vt(t,e.trim(),xt)}),d.supportPointer?ft(m,"pointerup",p._onDrop):(ft(m,"mouseup",p._onDrop),ft(m,"touchend",p._onDrop),ft(m,"touchcancel",p._onDrop)),d.delay?(ft(m,"mouseup",p._disableDelayedDrag),ft(m,"touchend",p._disableDelayedDrag),ft(m,"touchcancel",p._disableDelayedDrag),ft(m,"mousemove",p._delayedDragTouchMoveHandler),ft(m,"touchmove",p._delayedDragTouchMoveHandler),d.supportPointer&&ft(m,"pointermove",p._delayedDragTouchMoveHandler),p._dragStartTimer=z(c,d.delay)):c())},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Z(K(e.clientX-this._lastX),K(e.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),ht(t,"mouseup",this._disableDelayedDrag),ht(t,"touchend",this._disableDelayedDrag),ht(t,"touchcancel",this._disableDelayedDrag),ht(t,"mousemove",this._delayedDragTouchMoveHandler),ht(t,"touchmove",this._delayedDragTouchMoveHandler),ht(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||("touch"==e.pointerType?e:null),!this.nativeDraggable||n?this.options.supportPointer?ft(B,"pointermove",this._onTouchMove):ft(B,n?"touchmove":"mousemove",this._onTouchMove):(ft(t,"dragend",this),ft(o,"dragstart",this._onDragStart));try{B.selection?Tt(function(){B.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(e){if(C=!1,o&&t){this.nativeDraggable&&(ft(B,"dragover",this._handleAutoScroll),ft(B,"dragover",nt));var n=this.options;!e&&dt(t,n.dragClass,!1),dt(t,n.ghostClass,!0),mt(t,"transform",""),ct.active=this,e&&this._appendGhost(),gt(this,o,"start",t,o,o,l)}else this._nulling()},_emulateDragOver:function(e){if(g){if(this._lastX===g.clientX&&this._lastY===g.clientY&&!e)return;this._lastX=g.clientX,this._lastY=g.clientY,it();for(var n=B.elementFromPoint(g.clientX,g.clientY),r=n;n&&n.shadowRoot;)r=n=n.shadowRoot.elementFromPoint(g.clientX,g.clientY);if(r)do{if(r[j])if(r[j]._onDragOver({clientX:g.clientX,clientY:g.clientY,target:n,rootEl:r})&&!this.options.dragoverBubble)break;n=r}while(r=r.parentNode);t.parentNode[j]._computeIsAligned(g),at()}},_onTouchMove:function(t){if(v){var e=this.options,r=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,a=n&&yt(n),s=n&&a&&a.a,u=n&&a&&a.d,c=(i.clientX-v.clientX+o.x)/(s||1),l=(i.clientY-v.clientY+o.y)/(u||1),p=t.touches?"translate3d("+c+"px,"+l+"px,0)":"translate("+c+"px,"+l+"px)";if(!ct.active&&!C){if(r&&Z(K(i.clientX-this._lastX),K(i.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}this._handleAutoScroll(i,!0),b=!0,g=i,mt(n,"webkitTransform",p),mt(n,"mozTransform",p),mt(n,"msTransform",p),mt(n,"transform",p),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!n){var e=kt(t,this.options.fallbackOnBody?B.body:o,!0),r=(mt(t),this.options);dt(n=t.cloneNode(!0),r.ghostClass,!1),dt(n,r.fallbackClass,!0),dt(n,r.dragClass,!0),mt(n,"box-sizing","border-box"),mt(n,"margin",0),mt(n,"top",e.top),mt(n,"left",e.left),mt(n,"width",e.width),mt(n,"height",e.height),mt(n,"opacity","0.8"),mt(n,"position","fixed"),mt(n,"zIndex","100000"),mt(n,"pointerEvents","none"),r.fallbackOnBody&&B.body.appendChild(n)||o.appendChild(n)}},_onDragStart:function(e,n){var i=this,a=e.dataTransfer,s=i.options;(r=_t(t)).draggable=!1,r.style["will-change"]="",this._hideClone(),dt(r,i.options.chosenClass,!1),i._cloneId=Tt(function(){i.options.removeCloneOnHide||o.insertBefore(r,t),gt(i,o,"clone",t)}),!n&&dt(t,s.dragClass,!0),n?(A=!0,i._loopId=setInterval(i._emulateDragOver,50)):(ht(B,"mouseup",i._onDrop),ht(B,"touchend",i._onDrop),ht(B,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(i,a,t)),ft(B,"drop",i),mt(t,"transform","translateZ(0)")),C=!0,i._dragStartId=Tt(i._dragStarted.bind(i,n)),ft(B,"selectstart",i)},_onDragOver:function(r){var a,s,u,c=this.el,p=r.target,d=this.options,m=d.group,y=ct.active,v=f===m,g=d.sort,O=this;if(!q&&(!U||r.rootEl||r.artificialBubble||rt(c,p))){if(void 0!==r.preventDefault&&r.cancelable&&r.preventDefault(),b=!0,p=lt(p,d.draggable,c,!0),lt(r.target,null,t,!0)||p.animated)return J();if(p!==t&&(A=!1),y&&!d.disabled&&(v?g||(u=!o.contains(t)):h===this||(this.lastPutMode=f.checkPull(this,y,t,r))&&m.checkPut(this,y,t,r))){var C=this._getDirection(r,p);if(a=kt(t),u)return this._hideClone(),e=o,i?o.insertBefore(t,i):o.appendChild(t),J();if(0===c.children.length||c.children[0]===n||function(t,e,n){var r=kt(Et(n)),o="vertical"===e?t.clientY:t.clientX,i="vertical"===e?t.clientX:t.clientY,a="vertical"===e?r.bottom:r.right,s="vertical"===e?r.left:r.top,u="vertical"===e?r.right:r.bottom;return"vertical"===e?i>u+10||i<=u&&o>a&&i>=s:o>a&&i>s||o<=a&&i>u+10}(r,C,c)&&!t.animated){if(0!==c.children.length&&c.children[0]!==n&&c===r.target&&(p=Et(c)),p&&(s=kt(p)),v?y._hideClone():y._showClone(this),!1!==bt(o,c,t,a,p,s,r,!!p))return c.appendChild(t),e=c,S=null,W(),this._animate(a,t),p&&this._animate(s,p),J()}else if(p&&p!==t&&p.parentNode===c){var _,k=0,I=p.sortableMouseAligned,F=t.parentNode!==c,R=function(t,e){var n=Q(n,!0),r=kt(t)[e];for(;n;){var o=kt(n)[e];if(!("top"===e||"left"===e?r>=o:r<=o))return!0;if(n===P)break;n=Q(n,!1)}return!1}(p,"vertical"===C?"top":"left");if(x!==p&&(N=null,_=kt(p)["vertical"===C?"top":"left"],T=!1),function(e,n,r){var o=e===t&&S||kt(e),i=n===t&&S||kt(n),a="vertical"===r?o.left:o.top,s="vertical"===r?o.right:o.bottom,u="vertical"===r?o.width:o.height,c="vertical"===r?i.left:i.top,l="vertical"===r?i.right:i.bottom,p="vertical"===r?i.width:i.height;return a===c||s===l||a+u/2===c+p/2}(t,p,C)&&I||F||R||d.invertSwap||"insert"===N||"swap"===N?("swap"!==N&&(D=d.invertSwap||F||M||R),k=function(e,n,r,o,i,a,s){var u=kt(n),c="vertical"===r?e.clientY:e.clientX,l="vertical"===r?u.height:u.width,p="vertical"===r?u.top:u.left,f="vertical"===r?u.bottom:u.right,h=kt(t),d=!1;if(!a)if(s&&E<l*o)if(!T&&(1===w?c>p+l*i/2:c<f-l*i/2)&&(T=!0),T)d=!0;else{"vertical"===r?h.top:h.left,"vertical"===r?h.bottom:h.right;if(1===w?c<p+E:c>f-E)return-1*w}else if(c>p+l*(1-o)/2&&c<f-l*(1-o)/2)return c>p+l/2?-1:1;if((d=d||a)&&(c<p+l*i/2||c>f-l*i/2))return c>p+l/2?1:-1;return 0}(r,p,C,d.swapThreshold,null==d.invertedSwapThreshold?d.swapThreshold:d.invertedSwapThreshold,D,x===p),N="swap"):(k=function(e,n){var r=Ot(t,n.draggable),o=Ot(e,n.draggable);return r<o?1:-1}(p,d),N="insert"),0===k)return J();S=null,x=p,w=k,s=kt(p);var L=p.nextElementSibling,H=!1,X=bt(o,c,t,a,p,s,r,H=1===k);if(!1!==X)return 1!==X&&-1!==X||(H=1===X),q=!0,z(wt,30),v?y._hideClone():y._showClone(this),H&&!L?c.appendChild(t):p.parentNode.insertBefore(t,H?L:p),e=t.parentNode,void 0===_||D||(E=K(_-kt(p)["vertical"===C?"top":"left"])),W(),!F&&this._animate(s,p),this._animate(a,t),J()}if(c.contains(t))return J()}return U&&!r.rootEl&&ot(c,r,"_onDragOver"),!1}function J(){return y&&(dt(t,h?h.options.ghostClass:y.options.ghostClass,!1),dt(t,d.ghostClass,!0)),h!==O&&O!==ct.active?h=O:O===ct.active&&(h=null),(p===t&&!t.animated||p===c&&!p.animated)&&(x=null),d.dragoverBubble||r.rootEl||p===B||(O._handleAutoScroll(r),t.parentNode[j]._computeIsAligned(r)),!d.dragoverBubble&&r.stopPropagation&&r.stopPropagation(),!0}function W(){gt(O,o,"change",p,c,o,l,Ot(t,d.draggable),r)}},_animate:function(e,n){var r=this.options.animation;if(r){var o=kt(n);if(n===t&&(S=o),1===e.nodeType&&(e=kt(e)),e.left+e.width/2!==o.left+o.width/2||e.top+e.height/2!==o.top+o.height/2){var i=yt(this.el),a=i&&i.a,s=i&&i.d;mt(n,"transition","none"),mt(n,"transform","translate3d("+(e.left-o.left)/(a||1)+"px,"+(e.top-o.top)/(s||1)+"px,0)"),n.offsetWidth,mt(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),mt(n,"transform","translate3d(0,0,0)")}"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=z(function(){mt(n,"transition",""),mt(n,"transform",""),n.animated=!1},r)}},_offUpEvents:function(){var t=this.el.ownerDocument;ht(B,"touchmove",this._onTouchMove),ht(B,"pointermove",this._onTouchMove),ht(t,"mouseup",this._onDrop),ht(t,"touchend",this._onDrop),ht(t,"pointerup",this._onDrop),ht(t,"touchcancel",this._onDrop),ht(B,"selectstart",this)},_onDrop:function(a){var s=this.el,u=this.options;C=!1,M=!1,D=!1,T=!1,clearInterval(this._loopId),clearInterval(d),tt(),clearTimeout(st),st=void 0,clearTimeout(this._dragStartTimer),Dt(this._cloneId),Dt(this._dragStartId),ht(B,"mousemove",this._onTouchMove),this.nativeDraggable&&(ht(B,"drop",this),ht(s,"dragstart",this._onDragStart),ht(B,"dragover",this._handleAutoScroll),ht(B,"dragover",nt)),this._offUpEvents(),a&&(b&&(a.cancelable&&a.preventDefault(),!u.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(o===e||h&&"clone"!==h.lastPutMode)&&r&&r.parentNode&&r.parentNode.removeChild(r),t&&(this.nativeDraggable&&ht(t,"dragend",this),xt(t),t.style["will-change"]="",dt(t,h?h.options.ghostClass:this.options.ghostClass,!1),dt(t,this.options.chosenClass,!1),gt(this,o,"unchoose",t,e,o,l,null,a),o!==e?((p=Ot(t,u.draggable))>=0&&(gt(null,e,"add",t,e,o,l,p,a),gt(this,o,"remove",t,e,o,l,p,a),gt(null,e,"sort",t,e,o,l,p,a),gt(this,o,"sort",t,e,o,l,p,a)),h&&h.save()):t.nextSibling!==i&&(p=Ot(t,u.draggable))>=0&&(gt(this,o,"update",t,e,o,l,p,a),gt(this,o,"sort",t,e,o,l,p,a)),ct.active&&(null!=p&&-1!==p||(p=l),gt(this,o,"end",t,e,o,l,p,a),this.save()))),this._nulling()},_nulling:function(){o=t=e=n=i=r=a=s=u=O.length=d=m=y=v=g=b=p=l=x=w=S=h=f=ct.active=null,Y.forEach(function(t){t.checked=!0}),Y.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)lt(t=n[r],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||St(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,r){var o=n.children[r];lt(o,this.options.draggable,n,!1)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return lt(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&et(n)},destroy:function(){var t=this.el;t[j]=null,ht(t,"mousedown",this._onTapStart),ht(t,"touchstart",this._onTapStart),ht(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ht(t,"dragover",this),ht(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),_.splice(_.indexOf(this.el),1),this.el=t=null},_hideClone:function(){r.cloneHidden||(mt(r,"display","none"),r.cloneHidden=!0,r.parentNode&&this.options.removeCloneOnHide&&r.parentNode.removeChild(r))},_showClone:function(e){"clone"===e.lastPutMode?r.cloneHidden&&(o.contains(t)&&!this.options.group.revertClone?o.insertBefore(r,t):i?o.insertBefore(r,i):o.appendChild(r),this.options.group.revertClone&&this._animate(t,r),mt(r,"display",""),r.cloneHidden=!1):this._hideClone()}},ft(B,"touchmove",function(t){(ct.active||C)&&t.cancelable&&t.preventDefault()}),ct.utils={on:ft,off:ht,css:mt,find:vt,is:function(t,e){return!!lt(t,e,t,!1)},extend:At,throttle:Ct,closest:lt,toggleClass:dt,clone:_t,index:Ot,nextTick:Tt,cancelNextTick:Dt,detectDirection:$,getChild:Nt},ct.create=function(t,e){return new ct(t,e)},ct.version="1.8.3",ct})},Upa8:function(t,e,n){},V3b4:function(t,e,n){"use strict";var r=n("199F");e.name="Range",e.path="type",e.factory=function(t,e,n,o){function i(e,n,r){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");var o=null!=e,a=null!=n,s=null!=r;if(o)if(t.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(a)if(t.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(s)if(t.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=o?parseFloat(e):0,this.end=a?parseFloat(n):0,this.step=s?parseFloat(r):1}return i.prototype.type="Range",i.prototype.isRange=!0,i.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":").map(function(t){return parseFloat(t)});if(e.some(function(t){return isNaN(t)}))return null;switch(e.length){case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[2],e[1]);default:return null}},i.prototype.clone=function(){return new i(this.start,this.end,this.step)},i.prototype.size=function(){var t=0,e=this.start,n=this.step,o=this.end-e;return r.sign(n)===r.sign(o)?t=Math.ceil(o/n):0===o&&(t=0),isNaN(t)&&(t=0),[t]},i.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},i.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},i.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,o=0;if(n>0)for(;e<r;)t(e,[o],this),e+=n,o++;else if(n<0)for(;e>r;)t(e,[o],this),e+=n,o++},i.prototype.map=function(t){var e=[];return this.forEach(function(n,r,o){e[r[0]]=t(n,r,o)}),e},i.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},i.prototype.valueOf=function(){return this.toArray()},i.prototype.format=function(t){var e=r.format(this.start,t);return 1!==this.step&&(e+=":"+r.format(this.step,t)),e+=":"+r.format(this.end,t)},i.prototype.toString=function(){return this.format()},i.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},i.fromJSON=function(t){return new i(t.start,t.end,t.step)},i}},VBo9:function(e,n){e.exports=t},VHFM:function(t,e,n){},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},WPGy:function(t,e,n){"use strict";e.factory=function(t,e,r,o){var i=r(n("7lEX")),a=r(n("uUDd")),s=o("divide",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone(),r=i(1,a(e));return n.value=s(null===n.value?n._normalize(r):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.clone();n=n.pow(-1);var r=i(1,a(t));return n.value=s(t,null===e.value?e._normalize(r):e.value),n},"Unit, Unit":function(t,e){return t.divide(e)}});return s}},Wail:function(t,e,n){"use strict";var r=n("Z2I/").clone,o=n("sTyi").validateIndex,i=n("4bae").getSafeProperty,a=n("4bae").setSafeProperty,s=n("X8kj");function u(t,e){if(1!==e.size().length)throw new s(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return i(t,n)}function c(t,e,n){if(1!==e.size().length)throw new s(e.size(),1);var o=e.dimension(0);if("string"!=typeof o)throw new TypeError("String expected as index to retrieve an object property");var i=r(t);return a(i,o,n),i}e.name="subset",e.factory=function(t,e,i,a){var l=i(n("R4H5")),p=a("subset",{"Array, Index":function(t,e){var n=l(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":u,"string, Index":function(e,n){if(!t.isIndex(n))throw new TypeError("Index expected");if(1!==n.size().length)throw new s(n.size().length,1);var r=e.length;o(n.min()[0],r),o(n.max()[0],r);var i=n.dimension(0),a="";return i.forEach(function(t){a+=e.charAt(t)}),a},"Array, Index, any":function(t,e,n){return l(r(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,o){return l(r(t)).subset(e,n,o).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":f,"string, Index, string, string":f,"Object, Index, any":c});return p.toTex=void 0,p;function f(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new s(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0);if(i.size()[0]!==n.length)throw new s(i.size()[0],n.length);var a=t.length;o(e.min()[0]),o(e.max()[0]);for(var u=[],c=0;c<a;c++)u[c]=t.charAt(c);if(i.forEach(function(t,e){u[t]=n.charAt(e[0])}),u.length>a)for(var l=a-1,p=u.length;l<p;l++)u[l]||(u[l]=r);return u.join("")}}},Wbaz:function(t,e,n){"use strict";var r=n("1stm");e.name="eval",e.factory=function(t,e,o,i){var a=o(n("MUdo"));return i("compile",{string:function(t){return a(t).compile().eval({})},"string, Object":function(t,e){return a(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return r(t,function(t){return a(t).compile().eval(e)})},"Array | Matrix, Object":function(t,e){return r(t,function(t){return a(t).compile().eval(e)})}})}},X8kj:function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,t.exports=r},XDH7:function(t,e,n){"use strict";var r=n("S2pI");e.transform=function(t){return t&&t.isIndexError?new r(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},"XXc+":function(t,e,n){"use strict";var r=n("X8kj");e.name="algorithm07",e.factory=function(t,e,n,o){var i=t.DenseMatrix;function a(t,e,n,r,o){for(var i=t._values,a=t._index,s=t._ptr,u=s[e],c=s[e+1];u<c;u++){var l=a[u];n[l]=o,r[l]=i[u]}}return function(t,e,n){var s=t._size,u=t._datatype,c=e._size,l=e._datatype;if(s.length!==c.length)throw new r(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");var p,f,h,d=s[0],m=s[1],y=0,v=n;"string"==typeof u&&u===l&&(p=u,y=o.convert(0,p),v=o.find(n,[p,p]));var g=[];for(f=0;f<d;f++)g[f]=[];var b=new i({data:g,size:[d,m],datatype:p}),x=[],w=[],N=[],E=[];for(h=0;h<m;h++){var S=h+1;for(a(t,h,N,x,S),a(e,h,E,w,S),f=0;f<d;f++){var O=N[f]===S?x[f]:y,M=E[f]===S?w[f]:y;g[f][h]=v(O,M)}}return b}}},XXst:function(t,e,n){"use strict";e.factory=function(t,e,n,r){var o=r("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=o(n.value,e.value),n.fixPrefix=!1,n}});return o}},"XZ/J":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("XDH7").transform,i=n("4bae").setSafeProperty;e.factory=function(t,e,a,s){var u=a(n("Wail")),c=a(n("R4H5"));return function(t,e,n){try{if(Array.isArray(t))return c(t).subset(e,n).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,n);if("string"==typeof t)return u(t,e,n);if("object"===r(t)){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return i(t,e.getObjectProperty(),n),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw o(t)}}}},YeEv:function(t,n){t.exports=e},"Z+Vt":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=n("bFQJ"),a=n("PXUV").escape,s=n("Z2I/").hasOwnProperty,u=n("sTyi").map,c=n("4bae").validateSafeMethod,l=n("4bae").getSafeProperty;e.name="FunctionNode",e.path="expression.node",e.math=!0,e.factory=function(t,e,p,f,h){var d=p(n("K6lB")),m=p(n("FX2d"));function y(e,n){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new m(e)),!t.isNode(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(n)||!n.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=n||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var r=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}y.prototype=new d,y.prototype.type="FunctionNode",y.prototype.isFunctionNode=!0,y.prototype._compile=function(e,n){if(!(this instanceof y))throw new TypeError("No valid FunctionNode");var r=u(this.args,function(t){return t._compile(e,n)});if(t.isSymbolNode(this.fn)){var i=this.fn.name,a=i in e?l(e,i):void 0;if("function"==typeof a&&!0===a.rawArgs){var s=this.args;return function(t,n,r){return(i in t?l(t,i):a)(s,e,o({},t,n))}}if(1===r.length){var p=r[0];return function(t,e,n){return(i in t?l(t,i):a)(p(t,e,n))}}if(2===r.length){var f=r[0],h=r[1];return function(t,e,n){return(i in t?l(t,i):a)(f(t,e,n),h(t,e,n))}}return function(t,e,n){return(i in t?l(t,i):a).apply(null,u(r,function(r){return r(t,e,n)}))}}if(t.isAccessorNode(this.fn)&&t.isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var d=this.fn.object._compile(e,n),m=this.fn.index.getObjectProperty(),v=this.args;return function(t,n,i){var a=d(t,n,i);return c(a,m),a[m]&&a[m].rawArgs?a[m](v,e,o({},t,n)):a[m].apply(a,u(r,function(e){return e(t,n,i)}))}}var g=this.fn._compile(e,n),b=this.args;return function(t,n,i){var a=g(t,n,i);return a&&a.rawArgs?a(b,e,o({},t,n)):a.apply(a,u(r,function(e){return e(t,n,i)}))}},y.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},y.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new y(e,n)},y.prototype.clone=function(){return new y(this.fn,this.args.slice(0))};var v=y.prototype.toString;function g(e,n,o){for(var i,a="",s=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),u=0;null!==(i=s.exec(e));)if(a+=e.substring(u,i.index),u=i.index,"$$"===i[0])a+="$",u++;else{u+=i[0].length;var c=n[i[1]];if(!c)throw new ReferenceError("Template: Property "+i[1]+" does not exist.");if(void 0===i[2])switch(r(c)){case"string":a+=c;break;case"object":if(t.isNode(c))a+=c.toTex(o);else{if(!Array.isArray(c))throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes");a+=c.map(function(e,n){if(t.isNode(e))return e.toTex(o);throw new TypeError("Template: "+i[1]+"["+n+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes")}else{if(!t.isNode(c[i[2]]&&c[i[2]]))throw new TypeError("Template: "+i[1]+"["+i[2]+"] is not a Node.");a+=c[i[2]].toTex(o)}}return a+=e.slice(u)}y.prototype.toString=function(t){var e,n=this.fn.toString(t);return t&&"object"===r(t.handler)&&s(t.handler,n)&&(e=t.handler[n](this,t)),void 0!==e?e:v.call(this,t)},y.prototype._toString=function(e){var n=this.args.map(function(t){return t.toString(e)});return(t.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+n.join(", ")+")"},y.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},y.fromJSON=function(t){return new y(t.fn,t.args)},y.prototype.toHTML=function(t){var e=this.args.map(function(e){return e.toHTML(t)});return'<span class="math-function">'+a(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var b=y.prototype.toTex;return y.prototype.toTex=function(t){var e;return t&&"object"===r(t.handler)&&s(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:b.call(this,t)},y.prototype._toTex=function(t){var e,n,o=this.args.map(function(e){return e.toTex(t)});switch(!h[this.name]||"function"!=typeof h[this.name].toTex&&"object"!==r(h[this.name].toTex)&&"string"!=typeof h[this.name].toTex||(e=h[this.name].toTex),r(e)){case"function":n=e(this,t);break;case"string":n=g(e,this,t);break;case"object":switch(r(e[o.length])){case"function":n=e[o.length](this,t);break;case"string":n=g(e[o.length],this,t)}}return void 0!==n?n:g(i.defaultTemplate,this,t)},y.prototype.getIdentifier=function(){return this.type+":"+this.name},y}},"Z+cb":function(t,e,n){"use strict";var r=n("3LJV"),o=n("rq6S"),i=n("G23K");e.name="sum",e.factory=function(t,e,a,s){var u=a(n("XXst")),c=a(n("D2JG")),l=s("sum",{"Array | Matrix":p,"Array | Matrix, number | BigNumber":function(t,e){try{var n=o(t,e,u);return n}catch(t){throw c(t,"sum")}},"...":function(t){if(i(t))throw new TypeError("Scalar values expected in function sum");return p(t)}});return l.toTex=void 0,l;function p(n){var o;if(r(n,function(t){try{o=void 0===o?t:u(o,t)}catch(e){throw c(e,"sum",t)}}),void 0===o)switch(e.number){case"number":return 0;case"BigNumber":return new t.BigNumber(0);case"Fraction":return new t.Fraction(0);default:return 0}return o}}},"Z2I/":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("pvRk");e.clone=function t(n){var i=r(n);if("number"===i||"string"===i||"boolean"===i||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(e){return t(e)});if(n instanceof Date)return new Date(n.valueOf());if(o(n))return n;if(n instanceof RegExp)throw new TypeError("Cannot clone "+n);return e.map(n,t)},e.map=function(t,n){var r={};for(var o in t)e.hasOwnProperty(t,o)&&(r[o]=n(t[o]));return r},e.extend=function(t,n){for(var r in n)e.hasOwnProperty(n,r)&&(t[r]=n[r]);return t},e.deepExtend=function t(n,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var o in r)if(e.hasOwnProperty(r,o))if(r[o]&&r[o].constructor===Object)void 0===n[o]&&(n[o]={}),n[o].constructor===Object?t(n[o],r[o]):n[o]=r[o];else{if(Array.isArray(r[o]))throw new TypeError("Arrays are not supported by deepExtend");n[o]=r[o]}return n},e.deepEqual=function(t,n){var r,o,i;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!==n.length)return!1;for(o=0,i=t.length;o<i;o++)if(!e.deepEqual(t[o],n[o]))return!1;return!0}if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in t)if(!e.deepEqual(t[r],n[r]))return!1;for(r in n)if(!e.deepEqual(t[r],n[r]))return!1;return!0}return t===n},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,n,r){if(e.canDefineProperty()){var o,i=!0;Object.defineProperty(t,n,{get:function(){return i&&(o=r(),i=!1),o},set:function(t){o=t,i=!1},configurable:!0,enumerable:!0})}else t[n]=r()},e.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),o=0;o<r.length;o++){var i=r[o];i in n||(n[i]={}),n=n[i]}return n},e.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},e.isFactory=function(t){return t&&"function"==typeof t.factory}},ZS3Q:function(t,e,n){"use strict";var r=n("LHK7"),o=n("X8kj"),i=r.string,a=r.array,s=r.object,u=r.number,c=Array.isArray,l=u.isNumber,p=u.isInteger,f=i.isString,h=a.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=function(t,e,u,d){var m=u(n("xFnQ")),y=u(n("ohYX"));function v(e,n){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(n&&!f(n))throw new Error("Invalid datatype: "+n);if(t.isMatrix(e))"DenseMatrix"===e.type?(this._data=s.clone(e._data),this._size=s.clone(e._size),this._datatype=n||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=n||e._datatype);else if(e&&c(e.data)&&c(e.size))this._data=e.data,this._size=e.size,this._datatype=n||e.datatype;else if(c(e))this._data=function t(e){for(var n=0,r=e.length;n<r;n++){var o=e[n];c(o)?e[n]=t(o):o&&!0===o.isMatrix&&(e[n]=t(o.valueOf()))}return e}(e),this._size=a.size(this._data),a.validate(this._data,this._size),this._datatype=n;else{if(e)throw new TypeError("Unsupported type of data ("+r.types.type(e)+")");this._data=[],this._size=[0],this._datatype=n}}function g(t,e,n){if(0===e.length){for(var r=t._data;c(r);)r=r[0];return r}return t._size=e.slice(0),t._data=a.resize(t._data,t._size,n),t}function b(t,e,n){for(var r=t._size.slice(0),o=!1;r.length<e.length;)r.push(0),o=!0;for(var i=0,a=e.length;i<a;i++)e[i]>r[i]&&(r[i]=e[i],o=!0);o&&g(t,r,n)}return v.prototype=new y,v.prototype.type="DenseMatrix",v.prototype.isDenseMatrix=!0,v.prototype.getDataType=function(){return m(this._data)},v.prototype.storage=function(){return"dense"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(t,e){return new v(t,e)},v.prototype.subset=function(e,n,r){switch(arguments.length){case 1:return function(e,n){if(!t.isIndex(n))throw new TypeError("Invalid index");if(n.isScalar())return e.get(n.min());var r=n.size();if(r.length!==e._size.length)throw new o(r.length,e._size.length);for(var i=n.min(),a=n.max(),s=0,u=e._size.length;s<u;s++)h(i[s],e._size[s]),h(a[s],e._size[s]);return new v(function t(e,n,r,o){var i=o===r-1,a=n.dimension(o);return i?a.map(function(t){return h(t,e.length),e[t]}).valueOf():a.map(function(i){h(i,e.length);var a=e[i];return t(a,n,r,o+1)}).valueOf()}(e._data,n,r.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,n,r,i){if(!n||!0!==n.isIndex)throw new TypeError("Invalid index");var u,c=n.size(),l=n.isScalar();if(t.isMatrix(r)?(u=r.size(),r=r.valueOf()):u=a.size(r),l){if(0!==u.length)throw new TypeError("Scalar expected");e.set(n.min(),r,i)}else{if(c.length<e._size.length)throw new o(c.length,e._size.length,"<");if(u.length<c.length){for(var p=0,f=0;1===c[p]&&1===u[p];)p++;for(;1===c[p];)f++,p++;r=a.unsqueeze(r,c.length,f,u)}if(!s.deepEqual(c,u))throw new o(c,u,">");var d=n.max().map(function(t){return t+1});b(e,d,i);var m=c.length;!function t(e,n,r,o,i){var a=i===o-1,s=n.dimension(i);a?s.forEach(function(t,n){h(t),e[t]=r[n[0]]}):s.forEach(function(a,s){h(a),t(e[a],n,r[s[0]],o,i+1)})}(e._data,n,r,m,0)}return e}(this,e,n,r);default:throw new SyntaxError("Wrong number of arguments")}},v.prototype.get=function(t){if(!c(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new o(t.length,this._size.length);for(var e=0;e<t.length;e++)h(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var a=t[r];h(a,n.length),n=n[a]}return n},v.prototype.set=function(t,e,n){if(!c(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new o(t.length,this._size.length,"<");var r,i,a;b(this,t.map(function(t){return t+1}),n);var s=this._data;for(r=0,i=t.length-1;r<i;r++)a=t[r],h(a,s.length),s=s[a];return a=t[t.length-1],h(a,s.length),s[a]=e,this},v.prototype.resize=function(t,e,n){if(!c(t))throw new TypeError("Array expected");return g(n?this.clone():this,t,e)},v.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=a.reshape(n._data,t),n._size=t.slice(0),n},v.prototype.clone=function(){return new v({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(t){var e=this;return new v({data:function n(r,o){return c(r)?r.map(function(t,e){return n(t,o.concat(e))}):t(r,o,e)}(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},v.prototype.forEach=function(t){var e=this;!function n(r,o){c(r)?r.forEach(function(t,e){n(t,o.concat(e))}):t(r,o,e)}(this._data,[])},v.prototype.toArray=function(){return s.clone(this._data)},v.prototype.valueOf=function(){return this._data},v.prototype.format=function(t){return i.format(this._data,t)},v.prototype.toString=function(){return i.format(this._data)},v.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!l(e)||!p(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var n=e>0?e:0,r=e<0?-e:0,o=this._size[0],i=this._size[1],a=Math.min(o-r,i-n),s=[],u=0;u<a;u++)s[u]=this._data[u+r][u+n];return new v({data:s,size:[a],datatype:this._datatype})},v.diagonal=function(e,n,r,o,i){if(!c(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!l(e)||!p(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(t.isBigNumber(r)&&(r=r.toNumber()),!l(r)||!p(r))throw new TypeError("The parameter k must be an integer number")}else r=0;o&&f(i)&&(o=d.convert(o,i));var s,u=r>0?r:0,h=r<0?-r:0,m=e[0],y=e[1],g=Math.min(m-h,y-u);if(c(n)){if(n.length!==g)throw new Error("Invalid value array length");s=function(t){return n[t]}}else if(t.isMatrix(n)){var b=n.size();if(1!==b.length||b[0]!==g)throw new Error("Invalid matrix length");s=function(t){return n.get([t])}}else s=function(){return n};o||(o=t.isBigNumber(s(0))?new t.BigNumber(0):0);var x=[];if(e.length>0){x=a.resize(x,e,o);for(var w=0;w<g;w++)x[w+h][w+u]=s(w)}return new v({data:x,size:[m,y]})},v.fromJSON=function(t){return new v(t)},v.prototype.swapRows=function(t,e){if(!(l(t)&&p(t)&&l(e)&&p(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(t,this._size[0]),h(e,this._size[0]),v._swapRows(t,e,this._data),this},v._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},t.Matrix._storage.dense=v,t.Matrix._storage.default=v,v},e.lazy=!1},ZXMR:function(t,e,n){"use strict";var r=n("X8kj");e.name="algorithm05",e.factory=function(t,e,o,i){var a=o(n("hj6K")),s=t.SparseMatrix;return function(t,e,n){var o=t._values,u=t._index,c=t._ptr,l=t._size,p=t._datatype,f=e._values,h=e._index,d=e._ptr,m=e._size,y=e._datatype;if(l.length!==m.length)throw new r(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var v,g=l[0],b=l[1],x=a,w=0,N=n;"string"==typeof p&&p===y&&(v=p,x=i.find(a,[v,v]),w=i.convert(0,v),N=i.find(n,[v,v]));var E,S,O,M,C=o&&f?[]:void 0,A=[],_=[],T=new s({values:C,index:A,ptr:_,size:[g,b],datatype:v}),D=C?[]:void 0,k=C?[]:void 0,j=[],P=[];for(S=0;S<b;S++){_[S]=A.length;var B=S+1;for(O=c[S],M=c[S+1];O<M;O++)E=u[O],A.push(E),j[E]=B,D&&(D[E]=o[O]);for(O=d[S],M=d[S+1];O<M;O++)j[E=h[O]]!==B&&A.push(E),P[E]=B,k&&(k[E]=f[O]);if(C)for(O=_[S];O<A.length;){var I=j[E=A[O]],z=P[E];if(I===B||z===B){var F=N(I===B?D[E]:w,z===B?k[E]:w);x(F,w)?A.splice(O,1):(C.push(F),O++)}}}return _[b]=A.length,T}}},Zsyy:function(t,e,n){},a1gu:function(t,e,n){var r=n("cDf5"),o=n("PJYZ");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},aG3p:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s,u,c,l){var p,f,h,d,m=t._values,y=t._index,v=t._ptr,g=a._index;if(r)for(f=v[e],h=v[e+1],p=f;p<h;p++)n[d=y[p]]!==i?(n[d]=i,g.push(d),c?(r[d]=u?s(m[p],l):s(l,m[p]),o[d]=i):r[d]=m[p]):(r[d]=u?s(m[p],r[d]):s(r[d],m[p]),o[d]=i);else for(f=v[e],h=v[e+1],p=f;p<h;p++)n[d=y[p]]!==i?(n[d]=i,g.push(d)):o[d]=i}},b5sn:function(t,e,n){"use strict";n("2l0z");var r=n("Z2I/").isFactory,o=n("kIfi"),i=n("JrXr"),a=n("SgCf"),s=n("1pc8");e.create=function(t){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var e=[],n=[],u=i.mixin({});u.type={},u.expression={transform:{},mathWithTransform:{}},u.typed=o.create(u.type);var c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function l(t){if(!r(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var o,i=e.indexOf(t);return-1===i?(o=!0===t.math?t.factory(u.type,c,l,u.typed,u):t.factory(u.type,c,l,u.typed),e.push(t),n.push(o)):o=n[i],o}return u.import=l(a),u.config=l(s),u.expression.mathWithTransform.config=u.config,t&&u.config(t),u}},bFQJ:function(t,e,n){"use strict";var r=n("R4gy");e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var o={deg:"^\\circ"};e.escape=function(t){return r(t,{preserveFormatting:!0})},e.toSymbol=function(t,n){return(n=void 0!==n&&n)?o.hasOwnProperty(t)?o[t]:"\\mathrm{"+e.escape(t)+"}":e.symbols.hasOwnProperty(t)?e.symbols[t]:e.escape(t)}},c0b4:function(t,e,n){"use strict";e.name="ResultSet",e.path="type",e.factory=function(t,e,n,r){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return o.prototype.type="ResultSet",o.prototype.isResultSet=!0,o.prototype.valueOf=function(){return this.entries},o.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},o.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},o.fromJSON=function(t){return new o(t.entries)},o}},cDcd:function(t,e){t.exports=n},cDf5:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},djCb:function(t,e,n){},djRN:function(t,e,n){"use strict";var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){function t(){return!0}function e(){return!1}function n(){}return function r(){var o=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],i={name:"any",test:t},a=[],s=[],u={types:o,conversions:s,ignore:a};function c(t){var e=F(u.types,function(e){return e.name===t});if(e)return e;if("any"===t)return i;var n=F(u.types,function(e){return e.name.toLowerCase()===t.toLowerCase()});throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function l(t){return t===i?999:u.types.indexOf(t)}function p(t){var e=F(u.types,function(e){return e.test(t)});if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function f(t){return t.map(function(t){var e=t.types.map(x);return(t.restParam?"...":"")+e.join("|")}).join(",")}function h(t,e){var n=0===t.indexOf("..."),r=n?t.length>3?t.slice(3):"any":t,o=r.split("|").map(D).filter(k).filter(T),i=function(t,e){var n={};return t.forEach(function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)}),Object.keys(n).map(function(t){return n[t]})}(e,o),a=o.map(function(t){var e=c(t);return{name:t,typeIndex:l(e),test:e.test,conversion:null,conversionIndex:-1}}),s=i.map(function(t){var n=c(t.from);return{name:t.from,typeIndex:l(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}});return{types:a.concat(s),restParam:n}}function d(t){var e=B(t);return!!e&&e.restParam}function m(t){return t.types.some(function(t){return null!=t.conversion})}function y(e){if(e&&0!==e.types.length){if(1===e.types.length)return c(e.types[0].name).test;if(2===e.types.length){var n=c(e.types[0].name).test,r=c(e.types[1].name).test;return function(t){return n(t)||r(t)}}var o=e.types.map(function(t){return c(t.name).test});return function(t){for(var e=0;e<o.length;e++)if(o[e](t))return!0;return!1}}return t}function v(t){var e,n,r,o;if(d(t)){var i=(e=(o=t,o.slice(0,o.length-1)).map(y)).length,a=y(B(t));return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function(t){for(var e=i;e<t.length;e++)if(!a(t[e]))return!1;return!0}(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=y(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=y(t[0]),r=y(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(y),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function g(t,e){return e<t.params.length?t.params[e]:d(t.params)?B(t.params):null}function b(t,e,n){var r=g(t,e),o=r?n?r.types.filter(w):r.types:[];return o.map(x)}function x(t){return t.name}function w(t){return null===t.conversion||void 0===t.conversion}function N(t,e){var n=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}(R(t,function(t){return b(t,e,!1)}));return-1!==n.indexOf("any")?["any"]:n}function E(t){for(var e=999,n=0;n<t.types.length;n++)w(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function S(t){for(var e=999,n=0;n<t.types.length;n++)w(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function O(t,e){var n;return 0!=(n=t.restParam-e.restParam)?n:0!=(n=m(t)-m(e))?n:0!=(n=E(t)-E(e))?n:S(t)-S(e)}function M(t,e){var n,r,o=Math.min(t.params.length,e.params.length);if(0!=(r=t.params.some(m)-e.params.some(m)))return r;for(n=0;n<o;n++)if(0!=(r=m(t.params[n])-m(e.params[n])))return r;for(n=0;n<o;n++)if(0!==(r=O(t.params[n],e.params[n])))return r;return t.params.length-e.params.length}function C(t){var e,n,r,o,i=[],a=[];switch(t.types.forEach(function(t){t.conversion&&(i.push(c(t.conversion.from).test),a.push(t.conversion.convert))}),a.length){case 0:return function(t){return t};case 1:return e=i[0],r=a[0],function(t){return e(t)?r(t):t};case 2:return e=i[0],n=i[1],r=a[0],o=a[1],function(t){return e(t)?r(t):n(t)?o(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(i[e](t))return a[e](t);return t}}}function A(t,e){return function t(n,r,o){if(r<n.length){var i,a=n[r],s=e?a.types.filter(w):a.types;if(a.restParam){var u=s.filter(w);i=u.length<s.length?[u,s]:[s]}else i=s.map(function(t){return[t]});return R(i,function(e){return t(n,r+1,o.concat([e]))})}var c=o.map(function(t,e){return{types:t,restParam:e===n.length-1&&d(n)}});return[c]}(t,0,[])}function _(t,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var o=[];Object.keys(r).map(function(t){return function(t,e,n){var r=[];return""!==t.trim()&&(r=t.split(",").map(D).map(function(t,e,r){var o=h(t,n);if(o.restParam&&e!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return o})),r.some(P)?null:{params:r,fn:e}}(t,r[t],u.conversions)}).filter(j).forEach(function(t){var e=F(o,function(e){return function(t,e){for(var n=Math.max(t.params.length,e.params.length),r=0;r<n;r++){var o=b(t,r,!0),i=b(e,r,!0);if(!z(o,i))return!1}var a=t.params.length,s=e.params.length,u=d(t.params),c=d(e.params);return u?c?a===s:s>=a:c?a>=s:a===s}(e,t)});if(e)throw new TypeError('Conflicting signatures "'+f(e.params)+'" and "'+f(t.params)+'".');o.push(t)});var i=R(o,function(t){var e=t?A(t.params,!1):[];return e.map(function(e){return{params:e,fn:t.fn}})}).filter(j);i.sort(M);var a=i[0]&&i[0].params.length<=2&&!d(i[0].params),s=i[1]&&i[1].params.length<=2&&!d(i[1].params),c=i[2]&&i[2].params.length<=2&&!d(i[2].params),l=i[3]&&i[3].params.length<=2&&!d(i[3].params),x=i[4]&&i[4].params.length<=2&&!d(i[4].params),w=i[5]&&i[5].params.length<=2&&!d(i[5].params),E=a&&s&&c&&l&&x&&w,S=i.map(function(t){return v(t.params)}),O=a?y(i[0].params[0]):e,_=s?y(i[1].params[0]):e,T=c?y(i[2].params[0]):e,k=l?y(i[3].params[0]):e,B=x?y(i[4].params[0]):e,L=w?y(i[5].params[0]):e,U=a?y(i[0].params[1]):e,H=s?y(i[1].params[1]):e,X=c?y(i[2].params[1]):e,J=l?y(i[3].params[1]):e,W=x?y(i[4].params[1]):e,q=w?y(i[5].params[1]):e,V=i.map(function(t){return function(t,e){var n=e;if(t.some(m)){var r=d(t),o=t.map(C);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,i=0;i<n;i++)t[i]=o[i](arguments[i]);return r&&(t[n]=arguments[n].map(o[n])),e.apply(null,t)}}var i=n;if(d(t)){var a=t.length-1;i=function(){return n.apply(null,I(arguments,0,a).concat([I(arguments,a)]))}}return i}(t.params,t.fn)}),K=a?V[0]:n,Z=s?V[1]:n,Y=c?V[2]:n,$=l?V[3]:n,Q=x?V[4]:n,G=w?V[5]:n,tt=a?i[0].params.length:-1,et=s?i[1].params.length:-1,nt=c?i[2].params.length:-1,rt=l?i[3].params.length:-1,ot=x?i[4].params.length:-1,it=w?i[5].params.length:-1,at=E?6:0,st=i.length,ut=function(){for(var e=at;e<st;e++)if(S[e](arguments))return V[e].apply(null,arguments);throw function(t,e,n){var r,o,i,a=t||"unnamed",s=n;for(i=0;i<e.length;i++){var u=s.filter(function(t){var n=y(g(t,i));return(i<t.params.length||d(t.params))&&n(e[i])});if(0===u.length){if((o=N(s,i)).length>0){var c=p(e[i]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+c+", index: "+i+")")).data={category:"wrongType",fn:a,index:i,actual:c,expected:o},r}}else s=u}var l=s.map(function(t){return d(t.params)?1/0:t.params.length});if(e.length<Math.min.apply(null,l))return o=N(s,i),(r=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:o},r;var f=Math.max.apply(null,l);return e.length>f?((r=new TypeError("Too many arguments in function "+a+" (expected: "+f+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:f},r):((r=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(p)},r)}(t,arguments,i)},ct=function(t,e){return arguments.length===tt&&O(t)&&U(e)?K.apply(null,arguments):arguments.length===et&&_(t)&&H(e)?Z.apply(null,arguments):arguments.length===nt&&T(t)&&X(e)?Y.apply(null,arguments):arguments.length===rt&&k(t)&&J(e)?$.apply(null,arguments):arguments.length===ot&&B(t)&&W(e)?Q.apply(null,arguments):arguments.length===it&&L(t)&&q(e)?G.apply(null,arguments):ut.apply(null,arguments)};try{Object.defineProperty(ct,"name",{value:t})}catch(t){}return ct.signatures=function(t){var e={};return t.forEach(function(t){t.params.some(m)||A(t.params,!0).forEach(function(n){e[f(n)]=t.fn})}),e}(i),ct}function T(t){return-1===u.ignore.indexOf(t)}function D(t){return t.trim()}function k(t){return!!t}function j(t){return null!==t}function P(t){return 0===t.types.length}function B(t){return t[t.length-1]}function I(t,e,n){return Array.prototype.slice.call(t,e,n)}function z(t,e){for(var n=0;n<t.length;n++)if(r=e,o=t[n],-1!==r.indexOf(o))return!0;var r,o;return!1}function F(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function R(t,e){return Array.prototype.concat.apply([],t.map(e))}function L(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===e)e=r.name;else if(e!==r.name){var o=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw o.data={actual:r.name,expected:e},o}}return e}function U(t){var e,n={};function r(t,r){if(n.hasOwnProperty(t)&&r!==n[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var o=0;o<t.length;o++){var i=t[o];if("object"==typeof i.signatures)for(var a in i.signatures)i.signatures.hasOwnProperty(a)&&(r(a,i.signatures[a]),n[a]=i.signatures[a]);else{if("string"!=typeof i.signature)throw(e=new TypeError("Function is no typed-function (index: "+o+")")).data={index:o},e;r(i.signature,i),n[i.signature]=i}}return n}return(u=_("typed",{"string, Object":_,Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);var r=L(e);return _(r,t)},"...Function":function(t){return _(L(t),U(t))},"string, ...Function":function(t,e){return _(t,U(e))}})).create=r,u.types=o,u.conversions=s,u.ignore=a,u.convert=function(t,e){var n=p(t);if(e===n)return t;for(var r=0;r<u.conversions.length;r++){var o=u.conversions[r];if(o.from===n&&o.to===e)return o.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)},u.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var o=n.join(","),i=t.signatures[o];if(i)return i;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,t);u.types.push(t)},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t)},u}()})?r.apply(e,o):r)||(t.exports=i)},e8LY:function(t,e,n){},eX2I:function(t,e,n){"use strict";var r=n("X8kj");e.name="algorithm01",e.factory=function(t,e,n,o){var i=t.DenseMatrix;return function(t,e,n,a){var s=t._data,u=t._size,c=t._datatype,l=e._values,p=e._index,f=e._ptr,h=e._size,d=e._datatype;if(u.length!==h.length)throw new r(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,y,v=u[0],g=u[1],b="string"==typeof c&&c===d?c:void 0,x=b?o.find(n,[b,b]):n,w=[];for(m=0;m<v;m++)w[m]=[];var N=[],E=[];for(y=0;y<g;y++){for(var S=y+1,O=f[y],M=f[y+1],C=O;C<M;C++)N[m=p[C]]=a?x(l[C],s[m][y]):x(s[m][y],l[C]),E[m]=S;for(m=0;m<v;m++)E[m]===S?w[m][y]=N[m]:w[m][y]=s[m][y]}return new i({data:w,size:[v,g],datatype:b})}}},f66B:function(t,e,n){var r=Array.prototype.slice,o=n("MmBA"),i=n("mX2D"),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var c,l;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(u(t)){if(!u(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var p=o(t),f=o(e)}catch(t){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),c=p.length-1;c>=0;c--)if(p[c]!=f[c])return!1;for(c=p.length-1;c>=0;c--)if(l=p[c],!a(t[l],e[l],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null==t}function u(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},fTxE:function(t,e,n){"use strict";var r=n("1stm");e.name="abs",e.factory=function(t,e,n,o){var i=o("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return r(t,i,!0)},Unit:function(t){return t.abs()}});return i.toTex={1:"\\left|${args[0]}\\right|"},i}},faye:function(t,e){t.exports=r},"gV/b":function(t,e,n){"use strict";e.name="mod",e.factory=function(t,e,r,o){var i=r(n("R4H5")),a=n("bFQJ"),s=r(n("4fwU")),u=r(n("hYuG")),c=r(n("ZXMR")),l=r(n("nr1U")),p=r(n("/z5F")),f=r(n("zbDx")),h=r(n("BLb5")),d=o("mod",{"number, number":function(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")},"BigNumber, BigNumber":function(t,e){return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){return t.mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,d,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,d,!1)},"DenseMatrix, DenseMatrix":function(t,e){return f(t,e,d)},"Array, Array":function(t,e){return d(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return d(i(t),e)},"Matrix, Array":function(t,e){return d(t,i(e))},"SparseMatrix, any":function(t,e){return l(t,e,d,!1)},"DenseMatrix, any":function(t,e){return h(t,e,d,!1)},"any, SparseMatrix":function(t,e){return p(e,t,d,!0)},"any, DenseMatrix":function(t,e){return h(e,t,d,!0)},"Array, any":function(t,e){return h(i(t),e,d,!1).valueOf()},"any, Array":function(t,e){return h(i(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(a.operators.mod,"${args[1]}\\right)")},d}},gpKz:function(t,e,n){"use strict";var r=n("LHK7").object;e.name="lup",e.factory=function(t,e,o,i){var a=o(n("R4H5")),s=o(n("fTxE")),u=o(n("XXst")),c=o(n("WPGy")),l=o(n("oiZ2")),p=o(n("O1N0")),f=o(n("H+Qf")),h=o(n("hj6K")),d=o(n("7DiD")),m=t.SparseMatrix,y=t.DenseMatrix,v=t.Spa;function g(t){var e,n,o,i=t._size[0],a=t._size[1],d=Math.min(i,a),m=r.clone(t._data),v=[],g=[i,d],b=[],x=[d,a],w=[];for(e=0;e<i;e++)w[e]=e;for(n=0;n<a;n++){if(n>0)for(e=0;e<i;e++){var N=Math.min(e,n),E=0;for(o=0;o<N;o++)E=u(E,l(m[e][o],m[o][n]));m[e][n]=p(m[e][n],E)}var S=n,O=0,M=0;for(e=n;e<i;e++){var C=m[e][n],A=s(C);f(A,O)&&(S=e,O=A,M=C)}if(n!==S&&(w[n]=[w[S],w[S]=w[n]][0],y._swapRows(n,S,m)),n<i)for(e=n+1;e<i;e++){var _=m[e][n];h(_,0)||(m[e][n]=c(m[e][n],M))}}for(n=0;n<a;n++)for(e=0;e<i;e++)0===n&&(e<a&&(b[e]=[]),v[e]=[]),e<n?(e<a&&(b[e][n]=m[e][n]),n<i&&(v[e][n]=0)):e!==n?(e<a&&(b[e][n]=0),n<i&&(v[e][n]=m[e][n])):(e<a&&(b[e][n]=m[e][n]),n<i&&(v[e][n]=1));var T=new y({data:v,size:g}),D=new y({data:b,size:x}),k=[];for(e=0,d=w.length;e<d;e++)k[w[e]]=e;return{L:T,U:D,p:k,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function b(t){var e,n,r,o=t._size[0],i=t._size[1],a=Math.min(o,i),u=t._values,p=t._index,y=t._ptr,g=[],b=[],x=[],w=[o,a],N=[],E=[],S=[],O=[a,i],M=[],C=[];for(e=0;e<o;e++)M[e]=e,C[e]=e;var A=function(){var t=new v;n<o&&(x.push(g.length),g.push(1),b.push(n)),S.push(N.length);var i=y[n],a=y[n+1];for(r=i;r<a;r++)e=p[r],t.set(M[e],u[r]);n>0&&t.forEach(0,n-1,function(e,n){m._forEachRow(e,g,b,x,function(r,o){r>e&&t.accumulate(r,d(l(o,n)))})});var A,_,T,D,k=n,j=t.get(n),P=s(j);t.forEach(n+1,o-1,function(t,e){var n=s(e);f(n,P)&&(k=t,P=n,j=e)}),n!==k&&(m._swapRows(n,k,w[1],g,b,x),m._swapRows(n,k,O[1],N,E,S),t.swap(n,k),_=k,T=C[A=n],D=C[_],M[T]=_,M[D]=A,C[A]=D,C[_]=T),t.forEach(0,o-1,function(t,e){t<=n?(N.push(e),E.push(t)):(e=c(e,j),h(e,0)||(g.push(e),b.push(t)))})};for(n=0;n<i;n++)A();return S.push(N.length),x.push(g.length),{L:new m({values:g,index:b,ptr:x,size:w}),U:new m({values:N,index:E,ptr:S,size:O}),p:M,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}return i("lup",{DenseMatrix:function(t){return g(t)},SparseMatrix:function(t){return b(t)},Array:function(t){var e=g(a(t));return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}})}},hYuG:function(t,e,n){"use strict";var r=n("X8kj");e.name="algorithm03",e.factory=function(t,e,n,o){var i=t.DenseMatrix;return function(t,e,n,a){var s=t._data,u=t._size,c=t._datatype,l=e._values,p=e._index,f=e._ptr,h=e._size,d=e._datatype;if(u.length!==h.length)throw new r(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,y=u[0],v=u[1],g=0,b=n;"string"==typeof c&&c===d&&(m=c,g=o.convert(0,m),b=o.find(n,[m,m]));for(var x=[],w=0;w<y;w++)x[w]=[];for(var N=[],E=[],S=0;S<v;S++){for(var O=S+1,M=f[S],C=f[S+1],A=M;A<C;A++){var _=p[A];N[_]=a?b(l[A],s[_][S]):b(s[_][S],l[A]),E[_]=O}for(var T=0;T<y;T++)E[T]===O?x[T][S]=N[T]:x[T][S]=a?b(g,s[T][S]):b(s[T][S],g)}return new i({data:x,size:[y,v],datatype:m})}}},hj6K:function(t,e,n){"use strict";var r=n("199F").nearlyEqual,o=n("rMK7");e.factory=function(t,e,n,i){var a=i("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,n){return t===n||r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.eq(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)}});return a}},i9wh:function(t,e,n){},itDh:function(t,e,n){"use strict";var r=n("3LJV"),o=n("rq6S"),i=n("G23K");e.name="max",e.factory=function(t,e,a,s){var u=a(n("H+Qf")),c=a(n("D2JG")),l=s("max",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),p)},"...":function(t){if(i(t))throw new TypeError("Scalar values expected in function max");return f(t)}});return l.toTex="\\max\\left(${args}\\right)",l;function p(t,e){try{return u(t,e)?t:e}catch(t){throw c(t,"max",e)}}function f(t){var e;if(r(t,function(t){try{isNaN(t)&&"number"==typeof t?e=NaN:(void 0===e||u(t,e))&&(e=t)}catch(e){throw c(e,"max",t)}}),void 0===e)throw new Error("Cannot calculate max of an empty array");return e}}},k8Dq:function(t,e,n){},kIfi:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n("djRN"),i=n("199F").digits,a=n("pvRk"),s=n("6cPB"),u=function(){return u=o.create,o};e.create=function(t){t.isNumber=function(t){return"number"==typeof t},t.isComplex=function(e){return t.Complex&&e instanceof t.Complex||!1},t.isBigNumber=a,t.isFraction=function(e){return t.Fraction&&e instanceof t.Fraction||!1},t.isUnit=function(t){return t&&t.constructor.prototype.isUnit||!1},t.isString=function(t){return"string"==typeof t},t.isArray=Array.isArray,t.isMatrix=s,t.isDenseMatrix=function(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix||!1},t.isSparseMatrix=function(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix||!1},t.isRange=function(t){return t&&t.constructor.prototype.isRange||!1},t.isIndex=function(t){return t&&t.constructor.prototype.isIndex||!1},t.isBoolean=function(t){return"boolean"==typeof t},t.isResultSet=function(t){return t&&t.constructor.prototype.isResultSet||!1},t.isHelp=function(t){return t&&t.constructor.prototype.isHelp||!1},t.isFunction=function(t){return"function"==typeof t},t.isDate=function(t){return t instanceof Date},t.isRegExp=function(t){return t instanceof RegExp},t.isObject=function(e){return"object"===r(e)&&e.constructor===Object&&!t.isComplex(e)&&!t.isFraction(e)},t.isNull=function(t){return null===t},t.isUndefined=function(t){return void 0===t},t.isAccessorNode=function(t){return t&&t.isAccessorNode&&t.constructor.prototype.isNode||!1},t.isArrayNode=function(t){return t&&t.isArrayNode&&t.constructor.prototype.isNode||!1},t.isAssignmentNode=function(t){return t&&t.isAssignmentNode&&t.constructor.prototype.isNode||!1},t.isBlockNode=function(t){return t&&t.isBlockNode&&t.constructor.prototype.isNode||!1},t.isConditionalNode=function(t){return t&&t.isConditionalNode&&t.constructor.prototype.isNode||!1},t.isConstantNode=function(t){return t&&t.isConstantNode&&t.constructor.prototype.isNode||!1},t.isFunctionAssignmentNode=function(t){return t&&t.isFunctionAssignmentNode&&t.constructor.prototype.isNode||!1},t.isFunctionNode=function(t){return t&&t.isFunctionNode&&t.constructor.prototype.isNode||!1},t.isIndexNode=function(t){return t&&t.isIndexNode&&t.constructor.prototype.isNode||!1},t.isNode=function(t){return t&&t.isNode&&t.constructor.prototype.isNode||!1},t.isObjectNode=function(t){return t&&t.isObjectNode&&t.constructor.prototype.isNode||!1},t.isOperatorNode=function(t){return t&&t.isOperatorNode&&t.constructor.prototype.isNode||!1},t.isParenthesisNode=function(t){return t&&t.isParenthesisNode&&t.constructor.prototype.isNode||!1},t.isRangeNode=function(t){return t&&t.isRangeNode&&t.constructor.prototype.isNode||!1},t.isSymbolNode=function(t){return t&&t.isSymbolNode&&t.constructor.prototype.isNode||!1},t.isChain=function(t){return t&&t.constructor.prototype.isChain||!1};var e=u();return e.types=[{name:"number",test:t.isNumber},{name:"Complex",test:t.isComplex},{name:"BigNumber",test:t.isBigNumber},{name:"Fraction",test:t.isFraction},{name:"Unit",test:t.isUnit},{name:"string",test:t.isString},{name:"Array",test:t.isArray},{name:"Matrix",test:t.isMatrix},{name:"DenseMatrix",test:t.isDenseMatrix},{name:"SparseMatrix",test:t.isSparseMatrix},{name:"Range",test:t.isRange},{name:"Index",test:t.isIndex},{name:"boolean",test:t.isBoolean},{name:"ResultSet",test:t.isResultSet},{name:"Help",test:t.isHelp},{name:"function",test:t.isFunction},{name:"Date",test:t.isDate},{name:"RegExp",test:t.isRegExp},{name:"null",test:t.isNull},{name:"undefined",test:t.isUndefined},{name:"OperatorNode",test:t.isOperatorNode},{name:"ConstantNode",test:t.isConstantNode},{name:"SymbolNode",test:t.isSymbolNode},{name:"ParenthesisNode",test:t.isParenthesisNode},{name:"FunctionNode",test:t.isFunctionNode},{name:"FunctionAssignmentNode",test:t.isFunctionAssignmentNode},{name:"ArrayNode",test:t.isArrayNode},{name:"AssignmentNode",test:t.isAssignmentNode},{name:"BlockNode",test:t.isBlockNode},{name:"ConditionalNode",test:t.isConditionalNode},{name:"IndexNode",test:t.isIndexNode},{name:"RangeNode",test:t.isRangeNode},{name:"Node",test:t.isNode},{name:"Object",test:t.isObject}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(new t.Fraction(e).valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new t.BigNumber(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new t.Fraction(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new t.Complex(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},kip4:function(t,e,n){"use strict";var r=n("PXUV").format,o=n("bFQJ").escape;e.name="ConstantNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(n("K6lB")),u=i(n("uUDd"));function c(t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=t}return c.prototype=new s,c.prototype.type="ConstantNode",c.prototype.isConstantNode=!0,c.prototype._compile=function(t,e){var n=this.value;return function(){return n}},c.prototype.forEach=function(t){},c.prototype.map=function(t){return this.clone()},c.prototype.clone=function(){return new c(this.value)},c.prototype._toString=function(t){return r(this.value,t)},c.prototype.toHTML=function(t){var e=this._toString(t);switch(u(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+e+"</span>";case"string":return'<span class="math-string">'+e+"</span>";case"boolean":return'<span class="math-boolean">'+e+"</span>";case"null":return'<span class="math-null-symbol">'+e+"</span>";case"undefined":return'<span class="math-undefined">'+e+"</span>";default:return'<span class="math-symbol">'+e+"</span>"}},c.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},c.fromJSON=function(t){return new c(t.value)},c.prototype._toTex=function(t){var e=this._toString(t);switch(u(this.value)){case"string":return"\\mathtt{"+o(e)+"}";case"number":case"BigNumber":var n=e.toLowerCase().indexOf("e");return-1!==n?e.substring(0,n)+"\\cdot10^{"+e.substring(n+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},c}},kvEc:function(t,e,n){},l41f:function(t,e,n){"use strict";var r=n("sTyi").forEach,o=n("sTyi").map;e.name="BlockNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(n("K6lB")),u=i(n("c0b4"));function c(e){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var n=e&&e.node,r=!e||void 0===e.visible||e.visible;if(!t.isNode(n))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:n,visible:r}})}return c.prototype=new s,c.prototype.type="BlockNode",c.prototype.isBlockNode=!0,c.prototype._compile=function(t,e){var n=o(this.blocks,function(n){return{eval:n.node._compile(t,e),visible:n.visible}});return function(t,e,o){var i=[];return r(n,function(n){var r=n.eval(t,e,o);n.visible&&i.push(r)}),new u(i)}},c.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},c.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],o=this._ifNode(t(r.node,"blocks["+n+"].node",this));e[n]={node:o,visible:r.visible}}return new c(e)},c.prototype.clone=function(){return new c(this.blocks.map(function(t){return{node:t.node,visible:t.visible}}))},c.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},c.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},c.fromJSON=function(t){return new c(t.blocks)},c.prototype.toHTML=function(t){return this.blocks.map(function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},c.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},c}},lFTT:function(t,e,n){"use strict";e.name="parse",e.factory=function(t,e,r,o){var i=r(n("MUdo"));return o("parse",{"string | Array | Matrix":i,"string | Array | Matrix, Object":i})}},lSNA:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},m4e2:function(t,e,n){"use strict";var r=n("199F").nearlyEqual,o=n("rMK7");e.name="smaller",e.factory=function(t,e,i,a){var s=i(n("R4H5")),u=i(n("hYuG")),c=i(n("XXc+")),l=i(n("/z5F")),p=i(n("zbDx")),f=i(n("BLb5")),h=n("bFQJ"),d=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,n){return t<n&&!r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.lt(n)&&!o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,d)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,d,!1)},"DenseMatrix, DenseMatrix":function(t,e){return p(t,e,d)},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"SparseMatrix, any":function(t,e){return l(t,e,d,!1)},"DenseMatrix, any":function(t,e){return f(t,e,d,!1)},"any, SparseMatrix":function(t,e){return l(e,t,d,!0)},"any, DenseMatrix":function(t,e){return f(e,t,d,!0)},"Array, any":function(t,e){return f(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return f(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(h.operators.smaller,"${args[1]}\\right)")},d}},mX2D:function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},"n+Sg":function(t,e,n){"use strict";e.name="xor",e.factory=function(t,e,r,o){var i=n("bFQJ"),a=r(n("R4H5")),s=r(n("hYuG")),u=r(n("XXc+")),c=r(n("/z5F")),l=r(n("zbDx")),p=r(n("BLb5")),f=o("xor",{"number, number":function(t,e){return!!t!=!!e},"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return f(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,f)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,f,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,f,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,f)},"Array, Array":function(t,e){return f(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return f(a(t),e)},"Matrix, Array":function(t,e){return f(t,a(e))},"SparseMatrix, any":function(t,e){return c(t,e,f,!1)},"DenseMatrix, any":function(t,e){return p(t,e,f,!1)},"any, SparseMatrix":function(t,e){return c(e,t,f,!0)},"any, DenseMatrix":function(t,e){return p(e,t,f,!0)},"Array, any":function(t,e){return p(a(t),e,f,!1).valueOf()},"any, Array":function(t,e){return p(a(e),t,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.xor,"${args[1]}\\right)")},f}},nr1U:function(t,e,n){"use strict";e.name="algorithm11",e.factory=function(t,e,r,o){var i=r(n("hj6K")),a=t.SparseMatrix;return function(t,e,n,r){var s=t._values,u=t._index,c=t._ptr,l=t._size,p=t._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=l[0],d=l[1],m=i,y=0,v=n;"string"==typeof p&&(f=p,m=o.find(i,[f,f]),y=o.convert(0,f),e=o.convert(e,f),v=o.find(n,[f,f]));for(var g=[],b=[],x=[],w=new a({values:g,index:b,ptr:x,size:[h,d],datatype:f}),N=0;N<d;N++){x[N]=b.length;for(var E=c[N],S=c[N+1],O=E;O<S;O++){var M=u[O],C=r?v(e,s[O]):v(s[O],e);m(C,y)||(b.push(M),g.push(C))}}return x[d]=b.length,w}}},o0nB:function(t,e,n){"use strict";e.name="or",e.factory=function(t,e,r,o){var i=n("bFQJ"),a=r(n("R4H5")),s=r(n("hYuG")),u=r(n("ZXMR")),c=r(n("/z5F")),l=r(n("zbDx")),p=r(n("BLb5")),f=o("or",{"number, number":function(t,e){return!(!t&&!e)},"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return f(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,f)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,f,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,f,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,f)},"Array, Array":function(t,e){return f(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return f(a(t),e)},"Matrix, Array":function(t,e){return f(t,a(e))},"SparseMatrix, any":function(t,e){return c(t,e,f,!1)},"DenseMatrix, any":function(t,e){return p(t,e,f,!1)},"any, SparseMatrix":function(t,e){return c(e,t,f,!0)},"any, DenseMatrix":function(t,e){return p(e,t,f,!0)},"Array, any":function(t,e){return p(a(t),e,f,!1).valueOf()},"any, Array":function(t,e){return p(a(e),t,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.or,"${args[1]}\\right)")},f}},ohYX:function(t,e,n){"use strict";var r=n("LHK7").string.isString;e.name="Matrix",e.path="type",e.factory=function(t,e,n,o){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){if(!r(t))throw new TypeError("format must be a string value");var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}},oiZ2:function(t,e,n){"use strict";e.factory=function(t,e,n,r){var o=r("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):o(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):o(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}});return o}},p2yA:function(t,e,n){"use strict";var r=n("C8y5"),o=n("PXUV").escape,i=n("sTyi").forEach,a=n("sTyi").join,s=n("bFQJ"),u=n("Tb0o"),c=n("4bae").setSafeProperty;e.name="FunctionAssignmentNode",e.path="expression.node",e.factory=function(t,e,l,p){var f=l(n("K6lB"));function h(e,n,o){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(n))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!t.isNode(o))throw new TypeError('Node expected for parameter "expr"');if(e in r)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=n.map(function(t){return t&&t.name||t}),this.types=n.map(function(t){return t&&t.type||"any"}),this.expr=o}function d(t,e){var n=u.getPrecedence(t,e),r=u.getPrecedence(t.expr,e);return"all"===e||null!==r&&r<=n}return h.prototype=new f,h.prototype.type="FunctionAssignmentNode",h.prototype.isFunctionAssignmentNode=!0,h.prototype._compile=function(t,e){var n=Object.create(e);i(this.params,function(t){n[t]=!0});var r=this.expr._compile(t,n),o=this.name,s=this.params,u=a(this.types,","),l=o+"("+a(this.params,", ")+")";return function(t,e,n){var i={};i[u]=function(){for(var o=Object.create(e),i=0;i<s.length;i++)o[s[i]]=arguments[i];return r(t,o,n)};var a=p(o,i);return a.syntax=l,c(t,o,a),a}},h.prototype.forEach=function(t){t(this.expr,"expr",this)},h.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new h(this.name,this.params.slice(0),e)},h.prototype.clone=function(){return new h(this.name,this.params.slice(0),this.expr)},h.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toString(t);return d(this,e)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},h.prototype.toJSON=function(){var t=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(e,n){return{name:e,type:t[n]}}),expr:this.expr}},h.fromJSON=function(t){return new h(t.name,t.params,t.expr)},h.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+o(this.params[r])+"</span>");var i=this.expr.toHTML(t);return d(this,e)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+o(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},h.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toTex(t);return d(this,e)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(s.toSymbol).join(",")+"\\right):="+n},h}},pVnL:function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},pvRk:function(t,e,n){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isBigNumber||!1}},rMK7:function(t,e,n){"use strict";t.exports=function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var o=t.constructor.max(t.abs(),e.abs());return r.lte(o.times(n))}return!1}},rVKH:function(t,e,n){"use strict";var r=n("Z2I/").extend;e.name="divide",e.factory=function(t,e,o,i){var a=o(n("WPGy")),s=o(n("NU+P")),u=o(n("QfvV")),c=o(n("R4H5")),l=o(n("nr1U")),p=o(n("BLb5")),f=i("divide",r({"Array | Matrix, Array | Matrix":function(t,e){return s(t,u(e))},"DenseMatrix, any":function(t,e){return p(t,e,a,!1)},"SparseMatrix, any":function(t,e){return l(t,e,a,!1)},"Array, any":function(t,e){return p(c(t),e,a,!1).valueOf()},"any, Array | Matrix":function(t,e){return s(t,u(e))}},a.signatures));return f.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},f}},rq6S:function(t,e,n){"use strict";var r=n("sTyi").size,o=n("6cPB"),i=n("S2pI");function a(t,e,n){var r,o,i,s;if(e<=0){if(Array.isArray(t[0])){for(s=function(t){var e,n,r=t.length,o=t[0].length,i=[];for(n=0;n<o;n++){var a=[];for(e=0;e<r;e++)a.push(t[e][n]);i.push(a)}return i}(t),o=[],r=0;r<s.length;r++)o[r]=a(s[r],e-1,n);return o}for(i=t[0],r=1;r<t.length;r++)i=n(i,t[r]);return i}for(o=[],r=0;r<t.length;r++)o[r]=a(t[r],e-1,n);return o}t.exports=function(t,e,n){var s=Array.isArray(t)?r(t):t.size();if(e<0||e>=s.length)throw new i(e,s.length);return o(t)?t.create(a(t.valueOf(),e,n)):a(t,e,n)}},sGQ9:function(t,e){t.exports=o},sTyi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.size=u,e.validate=function(t,e){if(0===e.length){if(Array.isArray(t))throw new i.default(t.length,0)}else!function t(e,n,r){var o;var a=e.length;if(a!==n[r])throw new i.default(a,n[r]);if(r<n.length-1){var s=r+1;for(o=0;o<a;o++){var u=e[o];if(!Array.isArray(u))throw new i.default(n.length-1,n.length,"<");t(e[o],n,s)}}else for(o=0;o<a;o++)if(Array.isArray(e[o]))throw new i.default(n.length+1,n.length,">")}(t,e,0)},e.validateIndex=function(t,e){if(!r.default.isNumber(t)||!r.default.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new a.default(t,e)},e.resize=function(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!r.default.isNumber(t)||!r.default.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+o.default.format(e)+")")});var i=void 0!==n?n:0;return function t(e,n,r,o){var i,a,s=e.length,u=n[r],c=Math.min(s,u);if(e.length=u,r<n.length-1){var l=r+1;for(i=0;i<c;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),t(a,n,l,o);for(i=c;i<u;i++)a=[],e[i]=a,t(a,n,l,o)}else{for(i=0;i<c;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=c;i<u;i++)e[i]=o}}(t,e,0,i),t},e.reshape=function(t,e){var n,r=c(t);function o(t){return t.reduce(function(t,e){return t*e})}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new i.default(0,o(u(t)),"!=");for(var a=1,s=0;s<e.length;s++)a*=e[s];if(r.length!==a)throw new i.default(o(e),o(u(t)),"!=");try{n=function(t,e){for(var n,r=t,o=e.length-1;o>0;o--){var i=e[o];n=[];for(var a=r.length/i,s=0;s<a;s++)n.push(r.slice(s*i,(s+1)*i));r=n}return r}(r,e)}catch(n){if(n instanceof i.default)throw new i.default(o(e),o(u(t)),"!=");throw n}return n},e.squeeze=function(t,e){var n=e||u(t);for(;Array.isArray(t)&&1===t.length;)t=t[0],n.shift();var r=n.length;for(;1===n[r-1];)r--;r<n.length&&(t=function t(e,n,r){var o,i;if(r<n){var a=r+1;for(o=0,i=e.length;o<i;o++)e[o]=t(e[o],n,a)}else for(;Array.isArray(e);)e=e[0];return e}(t,r,0),n.length=r);return t},e.unsqueeze=function(t,e,n,r){var o=r||u(t);if(n)for(var i=0;i<n;i++)t=[t],o.unshift(1);t=function t(e,n,r){var o,i;if(Array.isArray(e)){var a=r+1;for(o=0,i=e.length;o<i;o++)e[o]=t(e[o],n,a)}else for(var s=r;s<n;s++)e=[e];return e}(t,e,0);for(;o.length<e;)o.push(1);return t},e.flatten=c,e.map=function(t,e){return Array.prototype.map.call(t,e)},e.forEach=function(t,e){Array.prototype.forEach.call(t,e)},e.filter=function(t,e){if(1!==u(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)},e.filterRegExp=function(t,e){if(1!==u(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,function(t){return e.test(t)})},e.join=function(t,e){return Array.prototype.join.call(t,e)},e.identify=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var e=[],n=0;e[0]={value:t[0],identifier:0};for(var r=1;r<t.length;r++)t[r]===t[r-1]?n++:n=0,e.push({value:t[r],identifier:n});return e},e.generalize=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);return e};var r=s(n("199F")),o=s(n("PXUV")),i=s(n("X8kj")),a=s(n("S2pI"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function c(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}},sxfZ:function(t,e,n){},uPaw:function(t,e,n){"use strict";var r=n("Tb0o");e.name="RangeNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(n("K6lB"));function s(e,n,r){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError("Node expected");if(!t.isNode(n))throw new TypeError("Node expected");if(r&&!t.isNode(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=n,this.step=r||null}function u(t,e){var n=r.getPrecedence(t,e),o={},i=r.getPrecedence(t.start,e);if(o.start=null!==i&&i<=n||"all"===e,t.step){var a=r.getPrecedence(t.step,e);o.step=null!==a&&a<=n||"all"===e}var s=r.getPrecedence(t.end,e);return o.end=null!==s&&s<=n||"all"===e,o}return s.prototype=new a,s.prototype.type="RangeNode",s.prototype.isRangeNode=!0,s.prototype.needsEnd=function(){return this.filter(function(e){return t.isSymbolNode(e)&&"end"===e.name}).length>0},s.prototype._compile=function(t,e){var n=t.range,r=this.start._compile(t,e),o=this.end._compile(t,e);if(this.step){var i=this.step._compile(t,e);return function(t,e,a){return n(r(t,e,a),o(t,e,a),i(t,e,a))}}return function(t,e,i){return n(r(t,e,i),o(t,e,i))}},s.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},s.prototype.clone=function(){return new s(this.start,this.end,this.step&&this.step)},s.prototype._toString=function(t){var e,n=u(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toString(t);if(n.start&&(r="("+r+")"),e=r,this.step){var o=this.step.toString(t);n.step&&(o="("+o+")"),e+=":"+o}var i=this.end.toString(t);return n.end&&(i="("+i+")"),e+=":"+i},s.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(t){return new s(t.start,t.end,t.step)},s.prototype.toHTML=function(t){var e,n=u(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toHTML(t);if(n.start&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=r,this.step){var o=this.step.toHTML(t);n.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+o}var i=this.end.toHTML(t);return n.end&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+i},s.prototype._toTex=function(t){var e=u(this,t&&t.parenthesis?t.parenthesis:"keep"),n=this.start.toTex(t);if(e.start&&(n="\\left(".concat(n,"\\right)")),this.step){var r=this.step.toTex(t);e.step&&(r="\\left(".concat(r,"\\right)")),n+=":"+r}var o=this.end.toTex(t);return e.end&&(o="\\left(".concat(o,"\\right)")),n+=":"+o},s}},uUDd:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.name="typeof",e.factory=function(t,e,n,o){var i=o("_typeof",{any:function(e){var n=r(e);return"object"===n?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":t.isBigNumber(e)?"BigNumber":t.isComplex(e)?"Complex":t.isFraction(e)?"Fraction":t.isMatrix(e)?"Matrix":t.isUnit(e)?"Unit":t.isIndex(e)?"Index":t.isRange(e)?"Range":t.isResultSet(e)?"ResultSet":t.isNode(e)?e.type:t.isChain(e)?"Chain":t.isHelp(e)?"Help":"Object":"function"===n?"Function":n}});return i.toTex=void 0,i}},ulyj:function(t,e,n){},"ut+i":function(t,e,n){"use strict";var r=n("bFQJ"),o=n("sTyi").map,i=n("PXUV").escape,a=n("4bae").isSafeMethod,s=n("4bae").getSafeProperty,u=n("Tb0o");e.name="OperatorNode",e.path="expression.node",e.factory=function(t,e,c,l){var p=c(n("K6lB"));function f(e,n,r,o){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof n)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===o,this.op=e,this.fn=n,this.args=r||[]}function h(t,e,n,r,o){var i,a=u.getPrecedence(t,e),s=u.getAssociativity(t,e);if("all"===e||r.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return r.map(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(r.length){case 0:i=[];break;case 1:var c=u.getPrecedence(r[0],e);if(o&&null!==c){var l,p;if("keep"===e?(l=r[0].getIdentifier(),p=t.getIdentifier()):(l=r[0].getContent().getIdentifier(),p=t.getContent().getIdentifier()),!1===u.properties[a][p].latexLeftParens){i=[!1];break}if(!1===u.properties[c][l].latexParens){i=[!1];break}}if(null===c){i=[!1];break}if(c<=a){i=[!0];break}i=[!1];break;case 2:var f,h,d=u.getPrecedence(r[0],e),m=u.isAssociativeWith(t,r[0],e);f=null!==d&&(d===a&&"right"===s&&!m||d<a);var y,v,g,b=u.getPrecedence(r[1],e),x=u.isAssociativeWith(t,r[1],e);h=null!==b&&(b===a&&"left"===s&&!x||b<a),o&&("keep"===e?(y=t.getIdentifier(),v=t.args[0].getIdentifier(),g=t.args[1].getIdentifier()):(y=t.getContent().getIdentifier(),v=t.args[0].getContent().getIdentifier(),g=t.args[1].getContent().getIdentifier()),null!==d&&(!1===u.properties[a][y].latexLeftParens&&(f=!1),!1===u.properties[d][v].latexParens&&(f=!1)),null!==b&&(!1===u.properties[a][y].latexRightParens&&(h=!1),!1===u.properties[b][g].latexParens&&(h=!1))),i=[f,h];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(i=r.map(function(n){var r=u.getPrecedence(n,e),o=u.isAssociativeWith(t,n,e),i=u.getAssociativity(n,e);return null!==r&&(a===r&&s===i&&!o||r<a)}))}return r.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===n&&(i=r.map(function(t,e){var n="ParenthesisNode"===t.getIdentifier();return!(!i[e]&&!n)})),i}return f.prototype=new p,f.prototype.type="OperatorNode",f.prototype.isOperatorNode=!0,f.prototype._compile=function(t,e){if("string"!=typeof this.fn||!a(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=s(t,this.fn),r=o(this.args,function(n){return n._compile(t,e)});if(1===r.length){var i=r[0];return function(t,e,r){return n(i(t,e,r))}}if(2===r.length){var u=r[0],c=r[1];return function(t,e,r){return n(u(t,e,r),c(t,e,r))}}return function(t,e,i){return n.apply(null,o(r,function(n){return n(t,e,i)}))}},f.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},f.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new f(this.op,this.fn,e,this.implicit)},f.prototype.clone=function(){return new f(this.op,this.fn,this.args.slice(0),this.implicit)},f.prototype.isUnary=function(){return 1===this.args.length},f.prototype.isBinary=function(){return 2===this.args.length},f.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,o=h(this,e,n,r,!1);if(1===r.length){var i=u.getAssociativity(this,e),a=r[0].toString(t);o[0]&&(a="("+a+")");var s=/[a-zA-Z]+/.test(this.op);return"right"===i?this.op+(s?" ":"")+a:"left"===i?a+(s?" ":"")+this.op:a+this.op}if(2===r.length){var c=r[0].toString(t),l=r[1].toString(t);return o[0]&&(c="("+c+")"),o[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+" "+l:c+" "+this.op+" "+l}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=r.map(function(e,n){return e=e.toString(t),o[n]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?p.join(" "):p.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},f.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},f.fromJSON=function(t){return new f(t.op,t.fn,t.args,t.implicit)},f.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,o=h(this,e,n,r,!1);if(1===r.length){var a=u.getAssociativity(this,e),s=r[0].toHTML(t);return o[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+i(this.op)+"</span>"+s:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+i(this.op)+"</span>"+s}if(2===r.length){var c=r[0].toHTML(t),l=r[1].toHTML(t);return o[0]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o[1]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+l:c+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(this.op)+"</span>"+l}var p=r.map(function(e,n){return e=e.toHTML(t),o[n]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e});return r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(this.op)+"</span>"):'<span class="math-function">'+i(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},f.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",o=this.args,i=h(this,e,n,o,!0),a=r.operators[this.fn];if(a=void 0===a?this.op:a,1===o.length){var s=u.getAssociativity(this,e),c=o[0].toTex(t);return i[0]&&(c="\\left(".concat(c,"\\right)")),"right"===s?a+c:c+a}if(2===o.length){var l=o[0],p=l.toTex(t);i[0]&&(p="\\left(".concat(p,"\\right)"));var f,d=o[1].toTex(t);switch(i[1]&&(d="\\left(".concat(d,"\\right)")),f="keep"===e?l.getIdentifier():l.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+p+"}{"+d+"}";case"OperatorNode:pow":switch(p="{"+p+"}",d="{"+d+"}",f){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return p+"~"+d}return p+a+d}if(o.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=o.map(function(e,n){return e=e.toTex(t),i[n]&&(e="\\left(".concat(e,"\\right)")),e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?m.join("~"):m.join(a)}return"\\mathrm{"+this.fn+"}\\left("+o.map(function(e){return e.toTex(t)}).join(",")+"\\right)"},f.prototype.getIdentifier=function(){return this.type+":"+this.fn},f}},uxtw:function(t,e,n){"use strict";var r=n("4bae").getSafeProperty,o=n("4bae").setSafeProperty;e.name="AssignmentNode",e.path="expression.node",e.factory=function(t,e,i,a){var s=i(n("K6lB")),u=i(n("XZ/J")),c=i(n("2g85")),l=n("Tb0o");function p(e,n,r){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=r?n:null,this.value=r||n,!t.isSymbolNode(e)&&!t.isAccessorNode(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(t.isSymbolNode(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!t.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!t.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function f(t,e){e||(e="keep");var n=l.getPrecedence(t,e),r=l.getPrecedence(t.value,e);return"all"===e||null!==r&&r<=n}return p.prototype=new s,p.prototype.type="AssignmentNode",p.prototype.isAssignmentNode=!0,p.prototype._compile=function(e,n){var i=this.object._compile(e,n),a=this.index?this.index._compile(e,n):null,s=this.value._compile(e,n),l=this.object.name;if(this.index){if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(t,e,n){var r=i(t,e,n),a=s(t,e,n);return o(r,p,a)}}if(t.isSymbolNode(this.object))return function(t,e,n){var r=i(t,e,n),c=s(t,e,n),p=a(t,e,r);return o(t,l,u(r,p,c)),c};var f=this.object.object._compile(e,n);if(this.object.index.isObjectProperty()){var h=this.object.index.getObjectProperty();return function(t,e,n){var i=f(t,e,n),c=r(i,h),l=a(t,e,c),p=s(t,e,n);return o(i,h,u(c,l,p)),p}}var d=this.object.index._compile(e,n);return function(t,e,n){var r=f(t,e,n),o=d(t,e,r),i=c(r,o),l=a(t,e,i),p=s(t,e,n);return u(r,o,u(i,l,p)),p}}if(!t.isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,n){return o(t,l,s(t,e,n))}},p.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},p.prototype.map=function(t){return new p(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},p.prototype.clone=function(){return new p(this.object,this.index,this.value)},p.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",r=this.value.toString(t);return f(this,t&&t.parenthesis)&&(r="("+r+")"),e+n+" = "+r},p.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},p.fromJSON=function(t){return new p(t.object,t.index,t.value)},p.prototype.toHTML=function(t){var e=this.object.toHTML(t),n=this.index?this.index.toHTML(t):"",r=this.value.toHTML(t);return f(this,t&&t.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},p.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",r=this.value.toTex(t);return f(this,t&&t.parenthesis)&&(r="\\left(".concat(r,"\\right)")),e+n+":="+r},p}},"v+4T":function(t,e,n){"use strict";e.name="algorithm10",e.factory=function(t,e,n,r){var o=t.DenseMatrix;return function(t,e,n,i){var a=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=c[0],h=c[1],d=n;"string"==typeof l&&(p=l,e=r.convert(e,p),d=r.find(n,[p,p]));for(var m=[],y=new o({data:m,size:[f,h],datatype:p}),v=[],g=[],b=0;b<h;b++){for(var x=b+1,w=u[b],N=u[b+1],E=w;E<N;E++){var S=s[E];v[S]=a[E],g[S]=x}for(var O=0;O<f;O++)0===b&&(m[O]=[]),g[O]===x?m[O][b]=i?d(e,v[O]):d(v[O],e):m[O][b]=e}return y}}},v0wB:function(t,e,n){"use strict";var r=n("sTyi").map;e.name="ArrayNode",e.path="expression.node",e.factory=function(t,e,o,i){var a=o(n("K6lB"));function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(t.isNode))throw new TypeError("Array containing Nodes expected");var n=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:n,set:n})}return s.prototype=new a,s.prototype.type="ArrayNode",s.prototype.isArrayNode=!0,s.prototype._compile=function(t,e){var n=r(this.items,function(n){return n._compile(t,e)});if("Array"!==t.config().matrix){var o=t.matrix;return function(t,e,i){return o(r(n,function(n){return n(t,e,i)}))}}return function(t,e,o){return r(n,function(n){return n(t,e,o)})}},s.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++)t(this.items[e],"items["+e+"]",this)},s.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new s(e)},s.prototype.clone=function(){return new s(this.items.slice(0))},s.prototype._toString=function(t){return"["+this.items.map(function(e){return e.toString(t)}).join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},s.fromJSON=function(t){return new s(t.items)},s.prototype.toHTML=function(t){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(e){return e.toHTML(t)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},s.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach(function(n){n.items?e+=n.items.map(function(e){return e.toTex(t)}).join("&"):e+=n.toTex(t),e+="\\\\"}),e+="\\end{bmatrix}"},s}},"wJ/n":function(t,e,n){"use strict";var r=n("1stm");e.name="fraction",e.factory=function(t,e,n,o){var i=o("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,n){return new t.Fraction(e,n)},null:function(e){return new t.Fraction(0)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return r(t,i)}});return i}},wOJ8:function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=n,t.exports.TinyEmitter=n},xFnQ:function(t,e,n){"use strict";e.factory=function(t,e,r,o){var i=r(n("uUDd"));return function t(e){for(var n,r=0,o=0;o<e.length;o++){var a=e[o],s=Array.isArray(a);if(0===o&&s&&(r=a.length),s&&a.length!==r)return;var u=s?t(a):i(a);if(void 0===n)n=u;else if(n!==u)return"mixed"}return n}}},"y+pi":function(t,e,n){},yZWr:function(t,e,n){t.exports=n("b5sn")},zbDx:function(t,e,n){"use strict";var r=n("X8kj");e.name="algorithm13",e.factory=function(t,e,n,o){var i=t.DenseMatrix;return function(t,e,n){var a,s=t._data,u=t._size,c=t._datatype,l=e._data,p=e._size,f=e._datatype,h=[];if(u.length!==p.length)throw new r(u.length,p.length);for(var d=0;d<u.length;d++){if(u[d]!==p[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");h[d]=u[d]}var m=n;"string"==typeof c&&c===f&&(a=c,m=o.find(n,[a,a]));var y=h.length>0?function t(e,n,r,o,i,a){var s=[];if(n===r.length-1)for(var u=0;u<o;u++)s[u]=e(i[u],a[u]);else for(var c=0;c<o;c++)s[c]=t(e,n+1,r,r[n+1],i[c],a[c]);return s}(m,0,h,h[0],s,l):[];return new i({data:y,size:h,datatype:a})}}}})});
//# sourceMappingURL=sheetforge.min.js.map