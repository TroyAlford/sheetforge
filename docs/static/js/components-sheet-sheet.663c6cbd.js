(window.webpackJsonpsheetforge=window.webpackJsonpsheetforge||[]).push([[10],{HYkr:function(e,t,n){},Zsyy:function(e,t,n){},kvEc:function(e,t,n){},wwUJ:function(e,t,n){"use strict";n.r(t);var a,o,r,i,s,c=n("QILm"),l=n.n(c),p=n("q1tI"),u=n.n(p),h=n("6qfE"),m=(n("mcpE"),n("uqjs")),d=n("ITKj"),y=n("YFLu"),f=n("RtsE"),v=n("kcWH"),S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return m.types.optional(m.types.refinement(m.types.number,function(n){return void 0===n||n>=e&&n<=t}),n)},C=m.types.compose(v.a,f.a,m.types.model({categorize:!1,children:Object(y.a)(m.types.late(function(){return C})),colSpan:S(1,4,1),columns:S(1,4,1),filter:m.types.maybe(m.types.string),sortOption:m.types.maybe(m.types.number),title:m.types.union(m.types.maybe(m.types.string),m.types.literal(!1)),type:m.types.maybe(m.types.string)})).named("Layout"),g=C,b=n("pVnL"),E=n.n(b),w=n("lwsE"),k=n.n(w),D=n("W8MJ"),N=n.n(D),O=n("a1gu"),A=n.n(O),J=n("Nsbk"),I=n.n(J),z=n("7W2i"),M=n.n(z),T=n("PJYZ"),W=n.n(T),j=n("lSNA"),L=n.n(j),R=n("NbXW"),x=n("mD9I"),H=n("Ut7+"),U=n("a4BR"),B=n("p0Pd"),P=n("wryK"),Z=n("b/z0"),q=n("8qIS"),Y=n("M/4f"),X={Attribute:x.a,Descriptor:H.a,Effect:U.a,Item:B.a,Resource:P.a,Skill:Z.a,Spell:q.a,Trait:Y.a},F=n("O+tL"),K=n("I7n6"),Q=(n("Zsyy"),Object(R.observer)((o=a=function(e){function t(){var e,n;k()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=A()(this,(e=I()(t)).call.apply(e,[this].concat(o))),L()(W()(W()(n)),"CACHE",{}),L()(W()(W()(n)),"handleSnapshot",function(){var e=n.props.model.availableConditions(),t=n.props.model.conditions.asArray;JSON.stringify(e)===JSON.stringify(n.CACHE.availableConditions)&&JSON.stringify(t)===JSON.stringify(n.CACHE.conditions)||(n.CACHE.availableConditions=e,n.CACHE.conditions=t,n.forceUpdate())}),L()(W()(W()(n)),"handleCheckbox",function(e,t){var a=n.props.model.conditions;t&&!a.includes(e)?a.push(e):"function"===typeof a.delete?a.delete(e):a.splice(a.indexOf(e),1),n.forceUpdate()}),L()(W()(W()(n)),"renderCondition",function(e){var t=n.props.model.conditions.includes(e);return u.a.createElement("div",{key:e,className:"condition ".concat(t?"current":"available")},u.a.createElement(F.a,{className:"current",onChange:function(t){return n.handleCheckbox(e,t)},value:t}),u.a.createElement("div",{className:"name"},e))}),n}return M()(t,e),N()(t,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(m.onSnapshot)(this.props.model,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){return u.a.createElement("div",{className:"conditions"},u.a.createElement(K.a,null,this.props.model.availableConditions().map(this.renderCondition)))}}]),t}(p.Component),L()(a,"defaultProps",{model:{}}),o))),V=n("x6zz"),G=(n("kvEc"),function(e){function t(){var e,n;k()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=A()(this,(e=I()(t)).call.apply(e,[this].concat(o))),L()(W()(W()(n)),"titleBar",u.a.createRef()),L()(W()(W()(n)),"onSnapshotDisposer",V.a),L()(W()(W()(n)),"snapshot",null),L()(W()(W()(n)),"handleChangeTitle",function(e){return n.props.model.set({title:e})}),n}return M()(t,e),N()(t,[{key:"componentDidMount",value:function(){var e=this;this.onSnapshotDisposer=Object(m.onSnapshot)(this.props.model,function(t){var n=JSON.stringify(t);e.snapshot!==n&&(e.snapshot=n,e.forceUpdate())}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.parentColumns,a=this.props.model,o=a.colSpan,r=a.title;return u.a.createElement("div",{className:"layout",style:{width:"calc(100%/".concat(n,"*").concat(o,")")}},void 0===r?t:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"title-bar",ref:this.titleBar},u.a.createElement(F.a,{className:"title",onChange:this.handleChangeTitle,placeholder:"Section Title",value:r})),u.a.createElement(K.a,{expandByDefault:!0,omitItemWrapper:!0,toggleButtonParent:this.titleBar.current},t)))}}]),t}(p.Component)),$=n("t524"),_=n("mkTB"),ee=n("AD/C"),te=n("HyL6"),ne=n("Afd3"),ae=n("ZEI3"),oe=n("vovD"),re=n("JCrA"),ie=n("ZwSi"),se={Attribute:_.a,Descriptor:ee.a,Effect:te.a,Item:ne.a,Resource:ae.a,Skill:oe.a,Spell:re.a,Trait:ie.a},ce=(n("HYkr"),Object(R.observer)((s=i=function(e){function t(e){var n;return k()(this,t),n=A()(this,I()(t).call(this,e)),L()(W()(W()(n)),"state",{size:"large"}),L()(W()(W()(n)),"handleWindowResize",function(){var e="large";window.matchMedia("(min-width: 5in) and (max-width: 7.5in)").matches?e="medium":window.matchMedia("(max-width: 5in)").matches&&(e="small"),e!==n.state.size&&n.setState({size:e})}),L()(W()(W()(n)),"renderComponent",function(e,t,a){if(t.type){var o=t.title,r=t.type.toLowerCase(),i=Object($.a)(se[t.type],X[t.type],{className:"".concat(r,"-list")}),s=n.props.character["".concat(r,"s")];return u.a.createElement(i,E()({key:a,layout:t,title:o},{collection:s,columns:t.columns}))}return u.a.createElement(G,{key:t.hash,model:t,parentColumns:e.columns},t.children.map(function(e,a){return n.renderComponent(t,e,a)}))}),n.onCharacterSnapshotDisposer=Object(m.onSnapshot)(n.props.character,function(e){n.props.onChange(e,n.props.layout.toJSON(),W()(W()(n)))}),n.onLayoutSnapshotDisposer=Object(m.onSnapshot)(n.props.layout,function(e){n.props.onChange(n.props.character.toJSON(),e,W()(W()(n)))}),window.addEventListener("resize",n.handleWindowResize),n}return M()(t,e),N()(t,[{key:"componentDidMount",value:function(){this.handleWindowResize(),this.props.onMount(this)}},{key:"componentWillUnmount",value:function(){this.onCharacterSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.character,n=e.layout,a=this.state.size;return u.a.createElement("div",{className:"sheetforge sheet ".concat(a)},u.a.createElement(Q,{model:t}),n.children.map(this.renderComponent.bind(null,n)))}}]),t}(u.a.Component),L()(i,"defaultProps",{character:{},onChange:V.a,onMount:V.a}),r=s))||r);t.default=function(e){var t=e.components;l()(e,["components"]);return u.a.createElement(h.MDXTag,{name:"wrapper",components:t},u.a.createElement(h.MDXTag,{name:"h2",components:t,props:{id:"character-sheet"}},"Character Sheet"),u.a.createElement(ce,{layout:g.create({children:[{title:"Descriptors",children:[{columns:3,type:"Descriptor"}]},{title:"Attributes",children:[{columns:4,type:"Attribute"}]},{columns:3,children:[{colSpan:1,children:[{title:"Traits",children:[{type:"Trait"}]},{title:"Resources",children:[{type:"Resource"}]}]},{colSpan:2,children:[{title:"Skills",children:[{columns:2,type:"Skill"}]},{title:"Items",children:[{columns:1,type:"Item"}]},{title:"Spells",children:[{columns:1,type:"Spell"}]}]}]}]}),character:d.a.create({}),onChange:function(e,t){localStorage.setItem("sf-example",JSON.stringify({character:e,layout:t}))},onMount:function(e){var t=localStorage.getItem("sf-example");if(t){var n=JSON.parse(t);e.props.character.set(n.character),e.props.layout.set(n.layout)}}}))}}}]);
//# sourceMappingURL=components-sheet-sheet.344358b6774509582cdf.js.map