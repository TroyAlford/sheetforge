{"version":3,"sources":["webpack://sheetforge/./source/components/MultiToggle/MultiToggle.js","webpack://sheetforge/./source/components/ResourceCost/ResourceCost.js","webpack://sheetforge/./source/components/Spell/Spell.js","webpack://sheetforge/./source/utilities/debounce.js","webpack://sheetforge/./source/components/Expandable/Expandable.js","webpack://sheetforge/./source/components/Effect/Effect.js","webpack://sheetforge/./source/components/List/List.js"],"names":["MultiToggle","selected","_ref","target","index","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","children","indexOf","_this","props","options","undefined","onChange","setState","_this2","this","_this$props","className","state","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","concat","trim","map","option","key","onClick","handleOptionClick","display","Component","_utilities_noop__WEBPACK_IMPORTED_MODULE_9__","components_ResourceCost_ResourceCost","observer","amount","model","set","value","resourceName","_this$props$model","available","react_default","handleChangeResource","_ref2","name","Editable","max","min","handleChangeAmount","getter","EffectList","ListOf","Effect_Effect","Effect","ListOfCosts","models_ResourceCost_ResourceCost","Spell","noop","cast","forceUpdate","description","level","onDelete","isActive","resources","character","onResourceSnapshotDisposer","onSnapshot","_this3","costs","effects","hash","isAffordable","handleToggleActive","handleChangeName","onEditEnd","handleCommitName","handleChangeLevel","handleCast","disabled","Expandable","onToggle","expanded","onToggleExpanded","type","handleChangeDescription","placeholder","collection","title","__webpack_exports__","debounce","func","wait","immediate","timeout","_len","arguments","length","args","Array","_key","callNow","clearTimeout","setTimeout","__webpack_require__","d","React","classList","expander","current","parentElement","omitItemWrapper","expandByDefault","add","_this$props2","toggleButtonParent","toggleButtonText","toggleState","buttonProps","handleToggle","ref","toggleButton","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","text","react__WEBPACK_IMPORTED_MODULE_8__","createPortal","renderExpanded","_utilities_noop__WEBPACK_IMPORTED_MODULE_10__","condition","modifier","targetId","_this$props$model$con","isApplicable","handleChangeTarget","id","_components_Editable__WEBPACK_IMPORTED_MODULE_9__","handleChangeModifier","handleChangeCondition","NO_CATEGORY","buildSorter","reversed","A","B","b","i","aString","String","bString","Model","_class","_temp","sortOptions","sorter","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_9___default","comparitor","react__WEBPACK_IMPORTED_MODULE_11___default","_React$Component","List","_getPrototypeOf2","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default","call","apply","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default","createRef","_utilities_noop__WEBPACK_IMPORTED_MODULE_16__","sortOption","items","category","filter","item","includes","push","parseInt","deleteAt","layout","sortBy","clicked","categorize","categories","join","Fragment","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default","handleToggleCategorized","handleFilterChange","filterEl","tabIndex","sortable","_components_MultiToggle__WEBPACK_IMPORTED_MODULE_13__","handleSortChange","data","columns","categoryItems","getCategoryItems","values","categoryValue","Math","Number","style","renderItem","_this$state","sorted","categorized","data-index","delete","handleToggleExpanded","handleDelete","_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default","sortOptionIndex","onLayoutSnapshotDisposer","sortablejs__WEBPACK_IMPORTED_MODULE_12___default","create","container","draggable","handle","onEnd","remove","replace","querySelectorAll","targetIndex","at","onStart","onDataSnapshotDisposer","destroy","_this$props2$classNam","_this$props2$layout","asArray","hasCategories","Boolean","listStyle","renderSortWidget","renderCategoryWidget","handleAdd","renderCategory","get","list","reduce","all","next","Object","_utilities_unique__WEBPACK_IMPORTED_MODULE_17__","sort","CollectionOf"],"mappings":"2UAIqBA,kNAQX,CAAEC,SAAU,sCAEA,SAAAC,GAAgB,IAAbC,EAAaD,EAAbC,OACfC,EAAQC,IAAIF,gBAAJG,UAAAC,QAAdJ,GACMF,EAAWO,EAAAC,MAAAC,QAAjBN,QAEAO,IAAIH,EAAAC,MAAAR,SACFO,EAAAC,MAAAG,SAAAX,GAEAO,EAAAK,SAAc,CAAEZ,uEAIX,IAAAa,EAAAC,KAAAC,EACwBD,KADxBN,MACCQ,EADDD,EAAAC,UACYP,EADZM,EAAAN,QAEDT,OAAWU,IAAAI,KAAAN,MAAAR,SACbc,KAAAN,MADaR,SAEbc,KAAAG,MAFJjB,SAIA,OACEkB,EAAAC,EAAAC,cAAA,OAAKJ,UAAW,gBAAAK,OAAAL,GAAAM,QACbb,EAAAc,IAAY,SAAAC,EAAAC,GAAA,OACXP,EAAAC,EAAAC,cAAA,OACEJ,UAAW,UAAAK,OAAUG,WAAV,OADbF,OAEEG,IAFFA,EAGEC,QAASb,EAAKc,mBAEbH,EANQI,mBA7BoBC,kBAApB9B,iBACG,CACpBiB,UADoB,GAEpBL,SAFoBmB,EAAA,EAGpBrB,QAHoB,GAIpBT,cAAUU,kUCkCdqB,aAtCCC,0OAasB,SAAAC,GAAM,OAAI1B,EAAAC,MAAA0B,MAAAC,IAAqB,CAAEF,+CAC/B,SAAAhC,GAAA,IAAamC,EAAbnC,EAAAC,OAAAkC,MAAA,OAA2B7B,EAAAC,MAAA0B,MAAAC,IAAqB,CAAEE,aAAcD,8DAE9E,IAAAE,EACqCxB,KAAAN,MADrC0B,MACCD,EADDK,EAAAL,OACSM,EADTD,EAAAC,UACoBF,EADpBC,EAAAD,aAGP,OACEG,EAAArB,EAAAC,cAAA,OAAKJ,UAAU,iBACbwB,EAAArB,EAAAC,cAAA,UAAQJ,UAAR,cAAgCoB,MAAhCC,EAAqD1B,SAAUG,KAAK2B,sBACjEF,EAAAhB,IAAc,SAAAmB,GAAA,IAAGC,EAAHD,EAAAC,KAAA,OACbH,EAAArB,EAAAC,cAAA,UAAQK,IAARkB,EAAmBP,MAAOO,GADbA,MAIjBH,EAAArB,EAAAC,cAAAwB,EAAA,GACE5B,UADF,SAEE6B,IAFF,IAGEC,KAHF,GAIEnC,SAAUG,KAJZiC,mBAKEX,MAAOH,YA/BoBJ,kCACb,CACpBK,MAAO,yBAGY,CAAC,CACpBN,QADoB,qBAEpBoB,OAAQ,SAAAd,GAAK,OAAIA,EAAJG,eACZ,CACDT,QADC,sBAEDoB,OAAQ,SAAAd,GAAK,OAAIA,EAAJD,yDCFXgB,aAAaC,YAAMC,EAAA,EAAAC,EAAA,EAAsB,CAAEpC,UAAW,iBAEtDqC,EAAcH,YAAMI,EAAA,EAAAvB,EAAkC,CAC1Df,UAAW,uBAGGuC,EAAfvB,kPAkB8BwB,6BAQhB,WACXjD,EAAAC,MAAA0B,MAAAuB,OACAlD,EAAAmD,qDAGwB,SAAAC,GAAW,OAAIpD,EAAAC,MAAA0B,MAAAC,IAAqB,CAAEwB,iDAC5C,SAAAC,GAAK,OAAIrD,EAAAC,MAAA0B,MAAAC,IAAqB,CAAEyB,0CACjC,SAAAjB,GAAI,OAAIpC,EAAAC,MAAA0B,MAAAC,IAAqB,CAAEQ,yCAC/B,iBAAO,KAAApC,EAAAC,MAAA0B,MAAAS,MAAgCpC,EAAAC,MAAAqD,SAAoBtD,EAAAC,MAA3D0B,yCACE,kBAAM3B,EAAAC,MAAA0B,MAAAC,IAAqB,CAAE2B,UAAWvD,EAAAC,MAAA0B,MAAiB4B,gFAf1D,IAAAjD,EAAAC,KACViD,EAAcjD,KAAAN,MAAA0B,MADJ8B,UAAAD,UAElBjD,KAAAmD,2BAAkCC,qBAAUH,EAAY,kBAAMlD,EAAN6C,+DAEjC5C,KAAAmD,8DAahB,IAAAE,EAAArD,KAAAwB,EAGHxB,KAAAN,MAHG0B,MAELkC,EAFK9B,EAAA8B,MAEET,EAFFrB,EAAAqB,YAEehB,EAFfL,EAAAK,KAEqB0B,EAFrB/B,EAAA+B,QAE8BC,EAF9BhC,EAAAgC,KAEoCR,EAFpCxB,EAAAwB,SAE8CS,EAF9CjC,EAAAiC,aAE4DX,EAF5DtB,EAAAsB,MAKP,OACEpB,EAAArB,EAAAC,cAAA,OAAKJ,UAAS,SAAAK,OAAWyC,EAAQ,GAAnB,gBACZtB,EAAArB,EAAAC,cAAAwB,EAAA,GAAU5B,UAAV,YAAgCL,SAAUG,KAA1C0D,mBAAmEpC,MAAO0B,IAC1EtB,EAAArB,EAAAC,cAAAwB,EAAA,GACE5B,UADF,OAEEL,SAAUG,KAFZ2D,iBAGEC,UAAW5D,KAHb6D,iBAIEvC,MAAOO,IAETH,EAAArB,EAAAC,cAAAwB,EAAA,GACE5B,UADF,QAEEL,SAAUG,KAFZ8D,kBAGExC,MAAOwB,IAETpB,EAAArB,EAAAC,cAAA,UAAQJ,UAAR,kBAAoCU,QAASZ,KAA7C+D,WAA8DC,UAAWP,MACzE/B,EAAArB,EAAAC,cAAA2D,EAAA,GAAYC,SAAU,SAAAC,GAAQ,OAAId,EAAA3D,MAAA0E,iBAAAZ,EAAJW,KAC5BzC,EAAArB,EAAAC,cAAAwB,EAAA,GACE5B,UADF,cAEEmE,KAFF,YAGExE,SAAUG,KAHZsE,wBAIEC,YAJF,iBAKEjD,MAAOuB,IAETnB,EAAArB,EAAAC,cAAAiC,EAAA,CAAaiC,WAAblB,EAAgCmB,MAAM,kBACtC/C,EAAArB,EAAAC,cAAA6B,EAAA,CAAYqC,WAAZjB,EAAiCkB,MAAM,qBAlEnB1D,kCACN,CACpBK,MADoB,GAEpB2B,SAFoBL,EAAA,EAGpB0B,iBAAkB1B,0BAGC,CAAC,CACpB5B,QADoB,qBAEpBoB,OAAQ,SAAAd,GAAK,MAAI,CAACA,EAADS,KAAaT,EAAjB0B,SACZ,CACDhC,QADC,sBAEDoB,OAAQ,SAAAd,GAAK,MAAI,CAACA,EAAD0B,MAAc1B,EAAlBS,QACZ,CACDf,QADC,uBAEDoB,OAAQ,SAAAd,GAAK,MAAI,EAAEA,EAAF0B,MAAe1B,EAAnBS,mBA0DjB6C,EAAA,uCC5Fe,SAAAC,EAAAC,EAAAC,EAAAC,GAAyC,IACtDC,EADsDtF,EAAAO,KAGtD,OAAO,WAAa,QAAAgF,EAAAC,UAAAC,OAATC,EAAS,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAATF,EAASE,GAAAJ,UAAAI,GAClB,IAKMC,EAAUR,IAAhBC,EACAQ,gBACAR,EAAUS,WAPI,WACZT,OACAD,GAAgBF,cAKlBG,GACAO,GAAaV,cAZjBa,EAAAC,EAAAhB,EAAA,sBAAAC,gSCKqBV,kNASX,CACNE,UAAU,0BAGDwB,2CASI,WAAM,IACXC,EAAcnG,EAAAoG,SAAAC,QADHC,cAAAH,UAEXzB,EAAa1E,EAFFU,MAAAgE,SAKnB1E,EAAAK,SAAc,CAAEqE,UAAWA,GAAY,WACrC1E,EAAAC,MAAAwE,UAAAC,GACAyB,EAAUzB,EAAVyB,SAAU,OAAVA,4CAIa,WAAM,IAAA3F,EACiBR,EADjBC,MACbH,EADaU,EAAAV,SAErB,OAFqBU,EAAA+F,gBAECzG,EAElBa,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,cAAf,IAFJX,yEAnBAS,KAAAF,SAAc,CAAEqE,SAAUnE,KAAAN,MAAWuG,8DAGrCjG,KAAA6F,SAAAC,QAAAC,cAAAH,UAAAM,IAAA,uDAqBO,IAAAC,EAC0CnG,KAD1CN,MACC0G,EADDD,EAAAC,mBACqBC,EADrBF,EAAAE,iBAEDC,EAActG,KAAAG,MAAAgE,SAAA,WAApB,YACMoC,EAAc,CAClBrG,UAAS,0BAAAK,OADS+F,GAElB1F,QAASZ,KAFSwG,aAGlBC,IAAKzG,KAAK6F,UAGNa,EAAetG,EAAAC,EAAAC,cAAA,MAAAqG,IAAA,GAAAJ,EAAA,CAAsBK,KAAMP,KACjD,OACEjG,EAAAC,EAAAC,cAAAuG,EAAA,cACGT,EAAqBU,uBAAYJ,EAAfN,GADrBM,EAEG1G,KAAAG,MAAAgE,UAAuBnE,KAH5B+G,yBAlDoChG,kBAAnBkD,iBACG,CACpBgC,iBADoB,EAEpBD,iBAFoB,EAGpB9B,SAHoB8C,EAAA,EAIpBZ,mBAJoB,KAKpBC,iBAAkB,yQCNN/D,aAAfpB,6OAayB,SAAA+F,GAAS,OAAIxH,EAAAC,MAAA0B,MAAAC,IAAqB,CAAE4F,kDACrC,SAAAC,GAAQ,OAAIzH,EAAAC,MAAA0B,MAAAC,IAAqB,CAAE6F,+CACrC,SAAA/H,GAAA,IAAamC,EAAbnC,EAAAC,OAAAkC,MAAA,OAA2B7B,EAAAC,MAAA0B,MAAAC,IAAqB,CAAE8F,SAAU7F,8DAExE,IAAAE,EACiExB,KAAAN,MADjE0B,MACCK,EADDD,EAAAC,UAAA2F,EAAA5F,EAAAyF,UACYA,OADZ,IAAAG,EAAA,GAAAA,EAC4BC,EAD5B7F,EAAA6F,aAC0CH,EAD1C1F,EAAA0F,SACoDC,EADpD3F,EAAA2F,SAGP,OACE/G,EAAAC,EAAAC,cAAA,OAAKJ,UAAW,UAAAK,OAAU8G,EAAY,aAAtB,IAAA7G,QACdJ,EAAAC,EAAAC,cAAA,UAAQJ,UAAR,SAA2BoB,MAA3B6F,EAA4CtH,SAAUG,KAAKsH,oBACxD7F,IAAAhB,IAAgB,SAAAmB,GAAA,IAAG4B,EAAH5B,EAAA4B,KAAS+D,EAAT3F,EAAA2F,GAAa1F,EAAbD,EAAAC,KAAA,OACfzB,EAAAC,EAAAC,cAAA,UAAQK,IAAR6C,EAAmBlC,MAAOiG,GADX1F,MAInBzB,EAAAC,EAAAC,cAAAkH,EAAA,GACEtH,UADF,WAEE6B,IAFF,IAGEC,KAHF,GAIEnC,SAAUG,KAJZyH,qBAKEnG,MAAO4F,IAET9G,EAAAC,EAAAC,cAAAkH,EAAA,GACEtH,UADF,YAEEL,SAAUG,KAFZ0H,sBAGEnD,YAHF,MAIEjD,MAAO2F,YAtCclG,kCACP,CACpBK,MAAO,yBAGY,CAAC,CACpBN,QADoB,qBAEpBoB,OAAQ,SAAAd,GAAK,MAAI,EAAEA,EAAF+F,SAAkB/F,EAAtB+F,YACZ,CACDrG,QADC,sBAEDoB,OAAQ,SAAAd,GAAK,MAAI,EAAEA,EAAF6F,UAAmB7F,EAAvB8F,wBAmCjBxC,EAAA,6ZCxCMiD,aAAN,iBAEMC,EAAc,SAAA1F,GAAA,IAAS2F,EAAT5C,UAAAC,OAAA,QAAAtF,IAAAqF,UAAA,IAAAA,UAAA,UAA8B,SAAA6C,EAAAC,GAChD,IAAM1H,EAAI6B,EAAV4F,GACME,EAAI9F,EAAV6F,GAEA,GAAI3C,kBAAoBA,cAAxB4C,GAA0C,CACxC,IAAK,IAAIC,EAAT,EAAgBA,EAAI5H,EAApB6E,OAA8B+C,GAA9B,EACE,GAAI5H,OAAS2H,EAAbC,GACE,OAAAJ,EAAqBG,KAAO3H,EAAP2H,MAAP,EACP3H,KAAO2H,EAAP3H,MAAP,EAIJ,SAGF,GAAI,kBAAAA,GAAJ,kBAA6B2H,EAC3B,OAAI3H,IAAJ2H,EAAa,EACbH,EAAqBG,OAAP,EACP3H,OAAP,EAGF,IAAM6H,EAAUC,OAAhB9H,GACM+H,EAAUD,OAAhBH,GAEA,OAAAH,EAAqBO,gBAAPF,GACPA,gBAAPE,KAGa1D,EAAA,WAAA2D,EAAAtH,GAAkC,IAAAuH,EAAAC,EAAf7I,EAAeuF,UAAAC,OAAA,QAAAtF,IAAAqF,UAAA,GAAAA,UAAA,GAAP,GAClCuD,GAAezH,eAAD,IAAAN,IAAkC,SAAAgI,GAAM,OAAAC,IAAA,GAAAD,EAAA,CAE1DE,WAAYf,EAAYa,EAFkCvG,QAG1DpB,QAAS,kBAAO2H,EAAP3H,QACL8H,EAAAvI,EAAAC,cAAA,QAAMJ,UAAWuI,EAAO3H,UACxB2H,EAAO3H,YAGb,OAAAyH,EAAAD,EAAA,SAAAO,GAAA,SAAAC,IAAA,IAAAC,EAAAtJ,EAAAuJ,IAAAhJ,KAAA8I,GAAA,QAAA9D,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAA5F,EAAAwJ,IAAAjJ,MAAA+I,EAAAG,IAAAJ,IAAAK,KAAAC,MAAAL,EAAA,CAAA/I,MAAAO,OAAA4E,KAAAkE,IAAAC,IAAA7J,GAAA,YAAAsB,GAAAsI,IAAAC,IAAA7J,GAAA,QAAA4I,GAAAgB,IAAAC,IAAA7J,GAAA,YAcckG,IAdd4D,aAAAF,IAAAC,IAAA7J,GAAA,oBAAA4J,IAAAC,IAAA7J,GAAA,WAgBakG,IAhBb4D,aAAAF,IAAAC,IAAA7J,GAAA,yBAAA+J,EAAA,GAAAH,IAAAC,IAAA7J,GAAA,2BAAA+J,EAAA,GAAAH,IAAAC,IAAA7J,GAAA,iBAAA4J,IAAAC,IAAA7J,GAAA,QAoBU,CACN0E,SADM,GAENsF,WAAY,OAtBhBJ,IAAAC,IAAA7J,GAAA,mBA0EqB,SAAAiK,EAAAC,GAAA,OAChBA,GAAYA,IAAbhC,EACI+B,EAAAE,OAAa,SAAAC,GAAI,OAAKA,cAAD,IAAAC,SAAJH,KACjBD,EAAAE,OAAa,SAAAC,GAAI,YAAKA,cAAD,IAAA3E,WA7E7BmE,IAAAC,IAAA7J,GAAA,YAgFc,WACVA,EAAAC,MAAA8E,WAAAuF,KAA2B1B,SAA3B,KACA5I,EAAAmD,gBAlFJyG,IAAAC,IAAA7J,GAAA,eAoFiB,SAAAN,GAAgB,IAAbC,EAAaD,EAAbC,OACVC,EAAQ2K,SAAS5K,0BAAD,cAAtB,IACAK,EAAAC,MAAA8E,WAAAyF,SAAA5K,GACAI,EAAAmD,gBAvFJyG,IAAAC,IAAA7J,GAAA,qBAyFuB,SAAAmC,GAAA,IAAGxC,EAAHwC,EAAAxC,OAAA,OAAgBK,EAAAC,MAAAwK,OAAA7I,IAAsB,CAAEuI,OAAQxK,EAAOkC,UAzF9E+H,IAAAC,IAAA7J,GAAA,aA0Fe,kBAAMA,EAAAC,MAAA8E,WAAA2F,OAAN,UA1Ffd,IAAAC,IAAA7J,GAAA,mBA2FqB,SAAA2K,GAAa,IACVtE,EAAYrG,EADFU,MAAAsJ,WAE9BhK,EAAAK,SAAc,CAAE2J,WAAY3D,WAA6BsE,GAAW,WAClE3K,EAAAC,MAAAwK,OAAA7I,IAAsB,CACpBoI,WAAY3D,aAAkC0C,mBA/FtDa,IAAAC,IAAA7J,GAAA,0BAmG4B,WACxBA,EAAAC,MAAAwK,OAAA7I,IAAsB,CAAEgJ,YAAa5K,EAAAC,MAAAwK,OAAkBG,eApG3DhB,IAAAC,IAAA7J,GAAA,uBAsGyB,SAAA+D,EAAAW,GACrB1E,EAAAK,SAAc,SAAAK,GAAK,OAAAuI,IAAA,GAAAvI,EAAA,CAEjBgE,SAAQuE,IAAA,GAAOvI,EAAPgE,SAAAkF,IAAA,GAAA7F,EAAAW,UAzGdkF,IAAAC,IAAA7J,GAAA,uBA6GyB,WAAM,IACnByK,EAAWzK,EADQC,MAAAwK,OAEnBI,EAFmBhB,IAAA7J,GAAA6K,WAG3B,IAAKA,EAALpF,OAAwB,YAExB,IAAMhF,EAAY,8BAEhBgK,kBAFgB,OAAAK,KAAlB,KAKA,OAAO3B,EAAAvI,EAAAC,cAAAsI,EAAAvI,EAAAmK,SAAA,KACL5B,EAAAvI,EAAAC,cAAA,MAAAmK,IAAS,CAAEvK,aAAX,CAAwBU,QAASnB,EAAKiL,2BACtC9B,EAAAvI,EAAAC,cAAA,UACEJ,UADF,SAEEL,SAAUJ,EAFZkL,mBAGElE,IAAKhH,EAHPmL,SAIEC,UAJF,EAKEvJ,MAAO4I,EAAON,QAEdhB,EAAAvI,EAAAC,cAAA,UAAQgB,MAAM,IAPhB,OAQGgJ,EAAA7J,IAAe,SAAAoB,GAAI,OAAI+G,EAAAvI,EAAAC,cAAA,UAAQK,IAARkB,EAAmBP,MAAOO,GAA9BA,SAjI5BwH,IAAAC,IAAA7J,GAAA,mBAqIqB,WACjB,OAAKA,EAAAC,MAALoL,UACKtC,EAALtD,OAGE0D,EAAAvI,EAAAC,cAAAyK,EAAA,GACE7K,UADF,SAEEL,SAAUJ,EAFZuL,iBAGErL,QAHF6I,EAIEtJ,SAAUO,EAAAU,MAAWsJ,aARC,OAtI9BJ,IAAAC,IAAA7J,GAAA,iBAkJmB,SAAAkK,EAAAsB,GAAoB,IAC3BC,EAAYzL,EADeC,MAAAwL,QAE7BC,EAAgB1L,EAAA2L,iBAAAH,EAAtBtB,GACA,IAAKwB,EAALjG,OAA2B,YAE3B,IAAMmG,EAASF,EAAA1K,IAAkB,SAAAoJ,GAAI,OAAIA,EAAJyB,gBAC/BtJ,EAAMuJ,oBAAIjM,IAAhB+L,IACMtJ,EAAMwJ,oBAAIjM,IAAhB+L,IAEA,OACEzC,EAAAvI,EAAAC,cAAA,OAAKK,IAALgJ,EAAoBzJ,UAAU,YAC5B0I,EAAAvI,EAAAC,cAAA,OAAKJ,UAAU,WACb0I,EAAAvI,EAAAC,cAAA,OAAKJ,UAAU,SAAf,aAAAyJ,EAAA,KAA8CwB,EAA9CjG,OADF,MAEKsG,aAADxJ,KAAuBwJ,aAAxBzJ,IACC6G,EAAAvI,EAAAC,cAAA,OAAKJ,UAAU,SAAf8B,EAAA,IAJND,IAOE6G,EAAAvI,EAAAC,cAAA,OAAKJ,UAAL,iBAAgCuL,MAAO,CAAEP,YACtCC,MAAkB1L,EATzBiM,gBA3JJrC,IAAAC,IAAA7J,GAAA,aAyKe,SAAA2B,GAAW,IAAAnB,EACmBR,EADnBC,MACd8E,EADcvE,EAAAuE,WACF0F,EADEjK,EAAAiK,OACMY,EADN7K,EAAA6K,SAAAa,EAEWlM,EAFXU,MAEdgE,EAFcwH,EAAAxH,SAEJsF,EAFIkC,EAAAlC,WAGhBmC,EAASd,GAAf,OAA2BrB,EACrBoC,EAAc3B,GAAUA,EAA9BG,WAEA,OACEzB,EAAAvI,EAAAC,cAAA,OACEJ,UAAW,qBAAAK,OAAqB4D,EAAS/C,EAAT+C,iBAArB,IADb3D,OAEEsL,aAAYtH,UAFdpD,GAGET,IAAKS,EAAMoC,OAEToI,IAADC,GAA6BjD,EAAAvI,EAAAC,cAAA,OAAKJ,UAAU,gBAC7C0I,EAAAvI,EAAAC,cAAAS,EAAA,CACEK,MADFA,EAEE2B,SAAUyB,EAFZuH,OAGE3H,iBAAkB3E,EAAKuM,uBAEzBpD,EAAAvI,EAAAC,cAAA,UAAQJ,UAAR,cAAgCU,QAASnB,EAAKwM,kBA3LtDxM,EAAA,OAAAyM,IAAApD,EAAAD,GAAAsD,IAAArD,EAAA,EAAAnI,IAAA,oBAAAW,MAAA,WAyBsB,IAAAvB,EAAAC,KAClB,GAAIA,KAAAN,MAAJwK,OAAuB,KACDkC,EAAoBpM,KAAAN,MADnBwK,OAAAT,WAEjBjB,eAAJ5I,IAA0BwM,GACxBpM,KAAAF,SAAc,CAAE2J,WAAYjB,MAAgC,OAE9DxI,KAAAqM,yBAAgCjJ,qBAAWpD,KAAAN,MAADwK,OACxCvF,YAAS,kBAAM5E,EAAN6C,eAAD,KADV,IANgB,IAWVkI,EAAa9K,KAXHN,MAAAoL,SAYlBA,IACE9K,KAAA8K,SAAgBwB,EAAAjM,EAAAkM,OAAgBvM,KAAAwM,UAAhB1G,QAAwC,CACtD9B,UADsD8G,EAEtD2B,UAFsD,qBAGtDC,OAHsD,eAItDC,MAAO,WACL5M,EAAAyM,UAAA1G,QAAAF,UAAAgH,OAAA,YACA7M,EAAAL,MAAA8E,WAAAqI,QACEvN,IAAIS,EAAAyM,UAAA1G,QAAAgH,iBAAJ,uBAAArM,IACO,SAAAoJ,GAAI,OAAIG,SAASH,eAAD,cAAZ,MADXpJ,IAEO,SAAAsM,GAAW,OAAIhN,EAAAL,MAAA8E,WAAAwI,GAAJD,OAGtBE,QAAS,kBAAMlN,EAAAyM,UAAA1G,QAAAF,UAAAM,IAAN,gBAGblG,KAAAkN,uBAA8B9J,qBAAWpD,KAAAN,MAAD8E,WAAwB,kBAAMzE,EAAN6C,kBArDpE,CAAAjC,IAAA,4BAAAW,MAAA,WAwDQtB,KAAJ8K,UAAmB9K,KAAA8K,SAAApK,OAAA,YAAkCV,KAAAN,MAAlCoL,YAxDvB,CAAAnK,IAAA,uBAAAW,MAAA,WA2DQtB,KAAJ8K,UAAmB9K,KAAA8K,SAAAqC,UACnBnN,KAAAkN,yBACAlN,KAAAqM,6BA7DJ,CAAA1L,IAAA,SAAAW,MAAA,WAgMW,IAAA+B,EAAArD,KAAAmG,EACiDnG,KADjDN,MAAA0N,EAAAjH,EAAAjG,UACCA,OADD,IAAAkN,EAAA,GAAAA,EACiBlC,EADjB/E,EAAA+E,QAAAmC,EAAAlH,EAAA+D,OAC0BA,OAD1B,IAAAmD,EAAA,GAAAA,EACuC5I,EADvC0B,EAAA1B,MAECgF,EAAezJ,KAFhBG,MAAAsJ,WAGDa,EAHCtK,KAAAsK,WAIHW,EAAOjL,KAAAN,MAAA8E,WAAX8I,QACA,OAAI7D,IAAqBwB,EAAOA,OAAUxB,EAAjBwB,aAEzB,IAAMsC,EAAgBC,QAAQlD,EAA9BpF,QACIqI,GAAiBrD,EAArBN,SACEqB,EAAOjL,KAAAoL,iBAAAH,EAA4Bf,EAAnCe,QACAX,EAAa,CAACJ,EAAdI,SAEF,IAAMmD,EAAY,CAChBvC,QAAShB,eAAwBgB,GAGnC,OACEtC,EAAAvI,EAAAC,cAAA,OAAKJ,UAAW,QAAAK,OAAAL,GAAhBM,OAA4CiG,IAAKzG,KAAjDwM,UAAiEf,MAAOgC,GACtE7E,EAAAvI,EAAAC,cAAA,OAAKJ,UAAU,aACZF,KADH0N,mBAEG1N,KAFH2N,uBAGE/E,EAAAvI,EAAAC,cAAA,OAAKJ,UAAU,QAHjBuE,GAIEmE,EAAAvI,EAAAC,cAAA,UAAQJ,UAAR,eAAiCU,QAASZ,KAAK4N,aAE/CL,GAAiBrD,EAAlBG,WACGC,EAAA7J,IAAe,SAAAkJ,GAAQ,OAAItG,EAAAwK,eAAAlE,EAAJsB,KACvBA,MAASjL,KAVjB0L,eAhNJ,CAAA/K,IAAA,aAAAmN,IAAA,WAiEI,IAAMC,EAAO/N,KAAAN,MAAA8E,WAAA8I,QAAAU,OAAqC,SAAAC,EAAAC,GAAA,OAChDD,SAAWC,cADqC,KAAlD,IAKA,OAAKH,EAAL7I,OACOiJ,OAAAC,EAAA,EAAAD,CAAOJ,EAAAnE,OAAY,SAAAC,GAAI,OAAIA,IAAJlC,KAAvB0G,OAAA9N,OAAPoH,GADkB,OAtEtBmB,EAAA,CAA0BnD,IAA1B5E,WAAAsI,IAAAf,EAAA,eAAAI,IAAA,CAEIxI,UAFJ,GAGIsE,WAAY8J,sBAHhB,IAIIpD,QAJJ,EAKIhB,YALJtK,EAMIkL,UANJ,EAOIrG,MAAO/E,SAAe,IAP1BA,IAAA6I","file":"static/js/components-sheet-sheet~components-spell-spell.ecad3664.js","sourcesContent":["import React, { Component } from 'react'\nimport noop from '@/utilities/noop'\nimport './MultiToggle.scss'\n\nexport default class MultiToggle extends Component {\n  static defaultProps = {\n    className: '',\n    onChange: noop,\n    options: [],\n    selected: undefined,\n  }\n\n  state = { selected: null }\n\n  handleOptionClick = ({ target }) => {\n    const index = [...target.parentElement.children].indexOf(target)\n    const selected = this.props.options[index]\n\n    if (this.props.selected !== undefined) {\n      this.props.onChange(selected)\n    } else {\n      this.setState({ selected })\n    }\n  }\n\n  render() {\n    const { className, options } = this.props\n    const selected = this.props.selected !== undefined\n      ? this.props.selected\n      : this.state.selected\n\n    return (\n      <div className={`multi-toggle ${className}`.trim()}>\n        {options.map((option, key) => (\n          <div\n            className={`toggle ${option === selected ? 'on' : 'off'}`.trim()}\n            key={key}\n            onClick={this.handleOptionClick}\n          >\n            {option.display}\n          </div>\n        ))}\n      </div>\n    )\n  }\n}\n","import { observer } from 'mobx-react'\nimport React, { Component } from 'react'\nimport Editable from '@/components/Editable'\nimport './ResourceCost.scss'\n\n@observer class ResourceCost extends Component {\n  static defaultProps = {\n    model: {},\n  }\n\n  static sortOptions = [{\n    display: 'icon-sort-name-asc',\n    getter: model => model.resourceName,\n  }, {\n    display: 'icon-sort-value-asc',\n    getter: model => model.amount,\n  }]\n\n  handleChangeAmount = amount => this.props.model.set({ amount })\n  handleChangeResource = ({ target: { value } }) => this.props.model.set({ resourceName: value })\n\n  render() {\n    const { amount, available, resourceName } = this.props.model\n\n    return (\n      <div className=\"resource-cost\">\n        <select className=\"resource-id\" value={resourceName} onChange={this.handleChangeResource}>\n          {available.map(({ name }) => (\n            <option key={name} value={name}>{name}</option>\n          ))}\n        </select>\n        <Editable\n          className=\"amount\"\n          max={999}\n          min={-99}\n          onChange={this.handleChangeAmount}\n          value={amount}\n        />\n      </div>\n    )\n  }\n}\n\nexport default ResourceCost\n","import { observer } from 'mobx-react'\nimport { onSnapshot } from 'mobx-state-tree'\nimport React, { Component } from 'react'\nimport Editable from '@/components/Editable'\nimport Effect from '@/components/Effect'\nimport Expandable from '@/components/Expandable'\nimport ListOf from '@/components/List'\nimport ResourceCost from '@/components/ResourceCost'\nimport EffectModel from '@/models/Effect'\nimport ResourceCostModel from '@/models/ResourceCost'\nimport noop from '@/utilities/noop'\nimport './Spell.scss'\n\nconst EffectList = ListOf(EffectModel, Effect, { className: 'effect-list' })\n\nconst ListOfCosts = ListOf(ResourceCostModel, ResourceCost, {\n  className: 'resource-cost-list',\n})\n\n@observer class Spell extends Component {\n  static defaultProps = {\n    model: {},\n    onDelete: noop,\n    onToggleExpanded: noop,\n  }\n\n  static sortOptions = [{\n    display: 'icon-sort-name-asc',\n    getter: model => [model.name, model.level],\n  }, {\n    display: 'icon-sort-value-asc',\n    getter: model => [model.level, model.name],\n  }, {\n    display: 'icon-sort-value-desc',\n    getter: model => [-model.level, model.name],\n  }]\n\n  onResourceSnapshotDisposer = noop\n\n  componentDidMount() {\n    const { resources } = this.props.model.character\n    this.onResourceSnapshotDisposer = onSnapshot(resources, () => this.forceUpdate())\n  }\n  componentWillUnmount() { this.onResourceSnapshotDisposer() }\n\n  handleCast = () => {\n    this.props.model.cast()\n    this.forceUpdate()\n  }\n\n  handleChangeDescription = description => this.props.model.set({ description })\n  handleChangeLevel = level => this.props.model.set({ level })\n  handleChangeName = name => this.props.model.set({ name })\n  handleCommitName = () => (this.props.model.name === '' && this.props.onDelete(this.props.model))\n  handleToggleActive = () => this.props.model.set({ isActive: !this.props.model.isActive })\n\n  render() {\n    const {\n      costs, description, name, effects, hash, isActive, isAffordable, level,\n    } = this.props.model\n\n    return (\n      <div className={`spell ${isActive ? '' : 'in'}active`}>\n        <Editable className=\"is-active\" onChange={this.handleToggleActive} value={isActive} />\n        <Editable\n          className=\"name\"\n          onChange={this.handleChangeName}\n          onEditEnd={this.handleCommitName}\n          value={name}\n        />\n        <Editable\n          className=\"level\"\n          onChange={this.handleChangeLevel}\n          value={level}\n        />\n        <button className=\"cast icon-magic\" onClick={this.handleCast} disabled={!isAffordable()} />\n        <Expandable onToggle={expanded => this.props.onToggleExpanded(hash, expanded)}>\n          <Editable\n            className=\"description\"\n            type=\"multiline\"\n            onChange={this.handleChangeDescription}\n            placeholder=\"Description...\"\n            value={description}\n          />\n          <ListOfCosts collection={costs} title=\"Casting Costs\" />\n          <EffectList collection={effects} title=\"Effects\" />\n        </Expandable>\n      </div>\n    )\n  }\n}\n\nexport default Spell\n","export default function debounce(func, wait, immediate) {\n  let timeout\n\n  return (...args) => {\n    const later = () => {\n      timeout = null\n      if (!immediate) func.apply(this, args)\n    }\n\n    const callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(this, args)\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport { createPortal } from 'react-dom'\nimport noop from '@/utilities/noop'\nimport './Expandable.scss'\n\nexport default class Expandable extends Component {\n  static defaultProps = {\n    expandByDefault: false,\n    omitItemWrapper: false,\n    onToggle: noop,\n    toggleButtonParent: null,\n    toggleButtonText: '',\n  }\n\n  state = {\n    expanded: false,\n  }\n\n  expander = React.createRef()\n\n  componentWillMount() {\n    this.setState({ expanded: this.props.expandByDefault })\n  }\n  componentDidMount() {\n    this.expander.current.parentElement.classList.add('expandable-wrapper')\n  }\n\n  handleToggle = () => {\n    const { classList } = this.expander.current.parentElement\n    const { expanded } = this.state\n\n    // eslint-disable-next-line react/no-access-state-in-setstate\n    this.setState({ expanded: !expanded }, () => {\n      this.props.onToggle(!expanded)\n      classList[!expanded ? 'add' : 'remove']('expanded')\n    })\n  }\n\n  renderExpanded = () => {\n    const { children, omitItemWrapper } = this.props\n    return omitItemWrapper\n      ? children\n      : <div className=\"expandable\"> {children}</div>\n  }\n\n  render() {\n    const { toggleButtonParent, toggleButtonText } = this.props\n    const toggleState = this.state.expanded ? 'expanded' : 'collapsed'\n    const buttonProps = {\n      className: `expandable-toggle icon-${toggleState}`,\n      onClick: this.handleToggle,\n      ref: this.expander,\n    }\n\n    const toggleButton = <div {...buttonProps} text={toggleButtonText} />\n    return (\n      <Fragment>\n        {toggleButtonParent ? createPortal(toggleButton, toggleButtonParent) : toggleButton}\n        {this.state.expanded && this.renderExpanded()}\n      </Fragment>\n    )\n  }\n}\n","import { observer } from 'mobx-react'\nimport React, { Component } from 'react'\nimport Editable from '@/components/Editable'\nimport './Effect.scss'\n\n@observer class Effect extends Component {\n  static defaultProps = {\n    model: {},\n  }\n\n  static sortOptions = [{\n    display: 'icon-sort-name-asc',\n    getter: model => [!model.targetId, model.targetId],\n  }, {\n    display: 'icon-sort-value-asc',\n    getter: model => [!model.condition, model.modifier],\n  }]\n\n  handleChangeCondition = condition => this.props.model.set({ condition })\n  handleChangeModifier = modifier => this.props.model.set({ modifier })\n  handleChangeTarget = ({ target: { value } }) => this.props.model.set({ targetId: value })\n\n  render() {\n    const { available, condition = '', isApplicable, modifier, targetId } = this.props.model\n\n    return (\n      <div className={`effect ${isApplicable ? 'applicable' : ''}`.trim()}>\n        <select className=\"target\" value={targetId} onChange={this.handleChangeTarget}>\n          {available().map(({ hash, id, name }) => (\n            <option key={hash} value={id}>{name}</option>\n          ))}\n        </select>\n        <Editable\n          className=\"modifier\"\n          max={999}\n          min={-99}\n          onChange={this.handleChangeModifier}\n          value={modifier}\n        />\n        <Editable\n          className=\"condition\"\n          onChange={this.handleChangeCondition}\n          placeholder=\"Any\"\n          value={condition}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Effect\n","import { onSnapshot } from 'mobx-state-tree'\nimport React from 'react'\nimport Sortable from 'sortablejs'\nimport MultiToggle from '@/components/MultiToggle'\nimport CollectionOf from '@/models/generic/Collection'\nimport debounce from '@/utilities/debounce'\nimport noop from '@/utilities/noop'\nimport unique from '@/utilities/unique'\nimport './List.scss'\n\nconst NO_CATEGORY = 'Uncategorized'\n\nconst buildSorter = (getter, reversed = false) => (A, B) => {\n  const a = getter(A)\n  const b = getter(B)\n\n  if (Array.isArray(a) && Array.isArray(b)) {\n    for (let i = 0; i < a.length; i += 1) {\n      if (a[i] !== b[i]) {\n        if (reversed) return b[i] < a[i] ? -1 : 1\n        return a[i] < b[i] ? -1 : 1\n      }\n    }\n\n    return 0\n  }\n\n  if (typeof a === 'number' && typeof b === 'number') {\n    if (a === b) return 0\n    if (reversed) return b < a ? -1 : 1\n    return a < b ? -1 : 1\n  }\n\n  const aString = String(a)\n  const bString = String(b)\n\n  if (reversed) return bString.localeCompare(aString)\n  return aString.localeCompare(bString)\n}\n\nexport default (Model, Component, props = {}) => {\n  const sortOptions = (Component.sortOptions || []).map(sorter => ({\n    ...sorter,\n    comparitor: buildSorter(sorter.getter),\n    display: typeof sorter.display === 'string'\n      ? <span className={sorter.display} />\n      : sorter.display,\n  }))\n\n  return class List extends React.Component {\n    static defaultProps = {\n      className: '',\n      collection: CollectionOf(Model).create([]),\n      columns: 1,\n      layout: undefined,\n      sortable: true,\n      title: props.title || '',\n      ...props,\n    }\n\n    Component = Component\n    Model = Model\n\n    container = React.createRef()\n    expandedItems = {}\n    filterEl = React.createRef()\n    onDataSnapshotDisposer = noop\n    onLayoutSnapshotDisposer = noop\n    sortable = null\n    state = {\n      expanded: {},\n      sortOption: null,\n    }\n\n    componentDidMount() {\n      if (this.props.layout) {\n        const { sortOption: sortOptionIndex } = this.props.layout\n        if (sortOptions.length && sortOptionIndex !== undefined) {\n          this.setState({ sortOption: sortOptions[sortOptionIndex] || null })\n        }\n        this.onLayoutSnapshotDisposer = onSnapshot(this.props.layout,\n          debounce(() => this.forceUpdate(), 100, true)\n        )\n      }\n\n      const { sortable } = this.props\n      if (sortable) {\n        this.sortable = Sortable.create(this.container.current, {\n          disabled: !sortable,\n          draggable: '.list-item-wrapper',\n          handle: '.drag-handle',\n          onEnd: () => {\n            this.container.current.classList.remove('dragging')\n            this.props.collection.replace(\n              [...this.container.current.querySelectorAll('.list-item-wrapper')]\n                .map(item => parseInt(item.getAttribute('data-index'), 10))\n                .map(targetIndex => this.props.collection.at(targetIndex))\n            )\n          },\n          onStart: () => this.container.current.classList.add('dragging'),\n        })\n      }\n      this.onDataSnapshotDisposer = onSnapshot(this.props.collection, () => this.forceUpdate())\n    }\n    componentWillReceiveProps() {\n      if (this.sortable) this.sortable.option('disabled', !this.props.sortable)\n    }\n    componentWillUnmount() {\n      if (this.sortable) this.sortable.destroy()\n      this.onDataSnapshotDisposer()\n      this.onLayoutSnapshotDisposer()\n    }\n\n    get categories() {\n      const list = this.props.collection.asArray.reduce((all, next) => (\n        all.concat(next.categories || [])\n      ), [])\n\n\n      if (!list.length) return []\n      return unique(list.filter(item => item !== NO_CATEGORY)).sort().concat(NO_CATEGORY)\n    }\n\n    getCategoryItems = (items, category) => (\n      (category && category !== NO_CATEGORY)\n        ? items.filter(item => (item.categories || []).includes(category))\n        : items.filter(item => (item.categories || []).length === 0)\n    )\n\n    handleAdd = () => {\n      this.props.collection.push(Model.create({}))\n      this.forceUpdate()\n    }\n    handleDelete = ({ target }) => {\n      const index = parseInt(target.parentNode.getAttribute('data-index'), 10)\n      this.props.collection.deleteAt(index)\n      this.forceUpdate()\n    }\n    handleFilterChange = ({ target }) => this.props.layout.set({ filter: target.value })\n    handleSort = () => this.props.collection.sortBy('name')\n    handleSortChange = (clicked) => {\n      const { sortOption: current } = this.state\n      this.setState({ sortOption: current === clicked ? null : clicked }, () => {\n        this.props.layout.set({\n          sortOption: current === clicked ? undefined : sortOptions.indexOf(clicked),\n        })\n      })\n    }\n    handleToggleCategorized = () => {\n      this.props.layout.set({ categorize: !this.props.layout.categorize })\n    }\n    handleToggleExpanded = (hash, expanded) => {\n      this.setState(state => ({\n        ...state,\n        expanded: { ...state.expanded, [hash]: expanded },\n      }))\n    }\n\n    renderCategoryWidget = () => {\n      const { layout } = this.props\n      const { categories } = this\n      if (!categories.length) return null\n\n      const className = [\n        'categorize icon-categorize',\n        layout.categorize ? 'on' : 'off',\n      ].join(' ')\n\n      return <>\n        <div {...{ className }} onClick={this.handleToggleCategorized} />\n        <select\n          className=\"filter\"\n          onChange={this.handleFilterChange}\n          ref={this.filterEl}\n          tabIndex={-1}\n          value={layout.filter}\n        >\n          <option value=\"\">All</option>\n          {categories.map(name => <option key={name} value={name}>{name}</option>)}\n        </select>\n      </>\n    }\n    renderSortWidget = () => {\n      if (!this.props.sortable) return null\n      if (!sortOptions.length) return null\n\n      return (\n        <MultiToggle\n          className=\"sorter\"\n          onChange={this.handleSortChange}\n          options={sortOptions}\n          selected={this.state.sortOption}\n        />\n      )\n    }\n    renderCategory = (category, data) => {\n      const { columns } = this.props\n      const categoryItems = this.getCategoryItems(data, category)\n      if (!categoryItems.length) return null\n\n      const values = categoryItems.map(item => item.categoryValue)\n      const min = Math.min(...values)\n      const max = Math.max(...values)\n\n      return (\n        <div key={category} className=\"category\">\n          <div className=\"details\">\n            <div className=\"title\">Category: {category} ({categoryItems.length})</div>\n            {(!Number.isNaN(min) && !Number.isNaN(max)) && (\n              <div className=\"range\">{min}-{max}</div>\n            )}\n          </div>\n          <div className=\"category-items\" style={{ columns }}>\n            {categoryItems.map(this.renderItem)}\n          </div>\n        </div>\n      )\n    }\n    renderItem = (model) => {\n      const { collection, layout, sortable } = this.props\n      const { expanded, sortOption } = this.state\n      const sorted = sortable && sortOption !== null\n      const categorized = layout && layout.categorize\n\n      return (\n        <div\n          className={`list-item-wrapper ${expanded[model.hash] ? 'expanded' : ''}`.trim()}\n          data-index={collection.indexOf(model)}\n          key={model.hash}\n        >\n          {(!sorted && !categorized) && <div className=\"drag-handle\" />}\n          <Component\n            model={model}\n            onDelete={collection.delete}\n            onToggleExpanded={this.handleToggleExpanded}\n          />\n          <button className=\"icon-remove\" onClick={this.handleDelete} />\n        </div>\n      )\n    }\n\n    render() {\n      const { className = '', columns, layout = {}, title } = this.props\n      const { sortOption } = this.state\n      let { categories } = this\n      let data = this.props.collection.asArray\n      if (sortOption !== null) data = data.sort(sortOption.comparitor)\n\n      const hasCategories = Boolean(categories.length)\n      if (hasCategories && layout.filter) {\n        data = this.getCategoryItems(data, layout.filter)\n        categories = [layout.filter]\n      }\n      const listStyle = {\n        columns: layout.categorize ? 1 : columns,\n      }\n\n      return (\n        <div className={`list ${className}`.trim()} ref={this.container} style={listStyle}>\n          <div className=\"title-bar\">\n            {this.renderSortWidget()}\n            {this.renderCategoryWidget()}\n            <div className=\"text\">{title}</div>\n            <button className=\"add icon-add\" onClick={this.handleAdd} />\n          </div>\n          {(hasCategories && layout.categorize)\n            ? categories.map(category => this.renderCategory(category, data))\n            : data.map(this.renderItem)\n          }\n        </div>\n      )\n    }\n  }\n}\n"],"sourceRoot":""}