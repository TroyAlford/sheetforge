exports.ids=[8],exports.modules={"0dDA":function(e,t,n){},"1T+A":function(e,t,n){"use strict";n.d(t,"a",function(){return x});var a=n("b696"),r=n.n(a),o=n("Nogc"),i=n.n(o),s=n("WEGp"),l=n.n(s),c=n("Amxr"),p=n.n(c),d=n("o1mq"),u=n.n(d),m=n("cEnY"),h=n.n(m),f=n("itEV"),g=n.n(f),v=n("cNEE"),y=n.n(v),E=n("q1tI"),C=n.n(E),N=n("x6zz"),x=(n("djCb"),function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=p()(this,(e=u()(t)).call.apply(e,[this].concat(o))),y()(h()(n),"state",{selected:null}),y()(h()(n),"handleOptionClick",function(e){var t=e.target,a=r()(t.parentElement.children).indexOf(t),o=n.props.options[a];void 0!==n.props.selected?n.props.onChange(o):n.setState({selected:o})}),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.options,r=void 0!==this.props.selected?this.props.selected:this.state.selected;return C.a.createElement("div",{className:"multi-toggle ".concat(n).trim()},a.map(function(t,n){return C.a.createElement("div",{className:"toggle ".concat(t===r?"on":"off").trim(),key:n,onClick:e.handleOptionClick},t.display)}))}}]),t}(E.Component));y()(x,"defaultProps",{className:"",onChange:N.a,options:[],selected:void 0})},"5UjR":function(e,t,n){},BSti:function(e,t,n){"use strict";function a(e,t,n){var a,r=this;return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];var l=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(r,i)},t),l&&e.apply(r,i)}}n.d(t,"a",function(){return a})},"H/3x":function(e,t,n){},I7n6:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n("cFUw"),r=n.n(a),o=n("Nogc"),i=n.n(o),s=n("WEGp"),l=n.n(s),c=n("Amxr"),p=n.n(c),d=n("o1mq"),u=n.n(d),m=n("cEnY"),h=n.n(m),f=n("itEV"),g=n.n(f),v=n("cNEE"),y=n.n(v),E=n("q1tI"),C=n.n(E),N=n("i8i4"),x=n("x6zz"),b=(n("0dDA"),function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=p()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(h()(n),"state",{expanded:!1}),y()(h()(n),"expander",C.a.createRef()),y()(h()(n),"handleToggle",function(){var e=n.expander.current.parentElement.classList,t=n.state.expanded;n.setState({expanded:!t},function(){n.props.onToggle(!t),e[t?"remove":"add"]("expanded")})}),y()(h()(n),"renderExpanded",function(){var e=n.props,t=e.children;return e.omitItemWrapper?t:C.a.createElement("div",{className:"expandable"}," ",t)}),n}return g()(t,e),l()(t,[{key:"componentWillMount",value:function(){this.setState({expanded:this.props.expandByDefault})}},{key:"componentDidMount",value:function(){this.expander.current.parentElement.classList.add("expandable-wrapper")}},{key:"render",value:function(){var e=this.props,t=e.toggleButtonParent,n=e.toggleButtonText,a=this.state.expanded?"expanded":"collapsed",o={className:"expandable-toggle icon-".concat(a),onClick:this.handleToggle,ref:this.expander},i=C.a.createElement("div",r()({},o,{text:n}));return C.a.createElement(E.Fragment,null,t?Object(N.createPortal)(i,t):i,this.state.expanded&&this.renderExpanded())}}]),t}(E.Component));y()(b,"defaultProps",{expandByDefault:!1,omitItemWrapper:!1,onToggle:x.a,toggleButtonParent:null,toggleButtonText:""})},a4BR:function(e,t,n){"use strict";var a,r,o,i=n("Nogc"),s=n.n(i),l=n("WEGp"),c=n.n(l),p=n("Amxr"),d=n.n(p),u=n("o1mq"),m=n.n(u),h=n("cEnY"),f=n.n(h),g=n("itEV"),v=n.n(g),y=n("cNEE"),E=n.n(y),C=n("NbXW"),N=n("q1tI"),x=n.n(N),b=n("O+tL"),A=(n("5UjR"),Object(C.observer)((o=r=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),E()(f()(n),"handleChangeCondition",function(e){return n.props.model.set({condition:e})}),E()(f()(n),"handleChangeModifier",function(e){return n.props.model.set({modifier:e})}),E()(f()(n),"handleChangeTarget",function(e){var t=e.target.value;return n.props.model.set({targetId:t})}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.model,t=e.available,n=e.condition,a=void 0===n?"":n,r=e.isApplicable,o=e.modifier,i=e.targetId;return x.a.createElement("div",{className:"effect ".concat(r?"applicable":"").trim()},x.a.createElement("select",{className:"target",value:i,onChange:this.handleChangeTarget},t().map(function(e){var t=e.hash,n=e.id,a=e.name;return x.a.createElement("option",{key:t,value:n},a)})),x.a.createElement(b.a,{className:"modifier",max:999,min:-99,onChange:this.handleChangeModifier,value:o}),x.a.createElement(b.a,{className:"condition",onChange:this.handleChangeCondition,placeholder:"Any",value:a}))}}]),t}(N.Component),E()(r,"defaultProps",{model:{}}),E()(r,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return[!e.targetId,e.targetId]}},{display:"icon-sort-value-asc",getter:function(e){return[!e.condition,e.modifier]}}]),a=o))||a);t.a=A},djCb:function(e,t,n){},e8LY:function(e,t,n){},jpYk:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return x});var a=n("y9tM"),r=n.n(a),o=n("Nogc"),i=n.n(o),s=n("WEGp"),l=n.n(s),c=n("Amxr"),p=n.n(c),d=n("o1mq"),u=n.n(d),m=n("itEV"),h=n.n(m),f=n("q1tI"),g=n.n(f),v=n("6qfE"),y=n("mcpE"),E=n("uqjs"),C=n("ITKj"),N=n("p0Pd"),x=function(e){function t(e){var n;return i()(this,t),(n=p()(this,u()(t).call(this,e))).layout=null,n}return h()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.components,n=r()(e,["components"]);return g.a.createElement(v.MDXTag,{name:"wrapper",components:t},g.a.createElement(v.MDXTag,{name:"h2",components:t,props:{id:"item-component"}},"Item Component"),g.a.createElement(y.Playground,{__position:0,__code:"() => {\n  const character = Character.create({\n    attributes: [{ name: 'Strength' }, { name: 'Charisma' }],\n    items: [\n      {\n        name: 'Greatsword of Maiming',\n        description: 'The family sword of House Ednyzil.',\n        effects: [\n          { modifier: 2, modifies: 'Strength' },\n          { modifier: 4, modifies: 'Charisma' },\n          { modifier: 2, modifies: 'Charisma', condition: 'in Ft. Ednyzil' },\n        ],\n        equipped: true,\n      },\n    ],\n  })\n  return <Item model={character.items.at(0)} />\n}",__scope:{props:this?this.props:n,types:E.types,Character:C.a,Item:N.a}},function(){var e=C.a.create({attributes:[{name:"Strength"},{name:"Charisma"}],items:[{name:"Greatsword of Maiming",description:"The family sword of House Ednyzil.",effects:[{modifier:2,modifies:"Strength"},{modifier:4,modifies:"Charisma"},{modifier:2,modifies:"Charisma",condition:"in Ft. Ednyzil"}],equipped:!0}]});return g.a.createElement(N.a,{model:e.items.at(0)})}))}}]),t}(g.a.Component);x.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}},p0Pd:function(e,t,n){"use strict";var a,r,o,i=n("Nogc"),s=n.n(i),l=n("WEGp"),c=n.n(l),p=n("Amxr"),d=n.n(p),u=n("o1mq"),m=n.n(u),h=n("cEnY"),f=n.n(h),g=n("itEV"),v=n.n(g),y=n("cNEE"),E=n.n(y),C=n("NbXW"),N=n("q1tI"),x=n.n(N),b=n("O+tL"),A=n("a4BR"),I=n("I7n6"),O=n("t524"),S=n("HyL6"),D=n("x6zz"),k=(n("H/3x"),Object(O.a)(S.a,A.a,{className:"effect-list"})),T=Object(C.observer)((o=r=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),E()(f()(n),"handleChangeDescription",function(e){return n.props.model.set({description:e})}),E()(f()(n),"handleChangeName",function(e){return n.props.model.set({name:e})}),E()(f()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),E()(f()(n),"handleToggleEquipped",function(){return n.props.model.set({equipped:!n.props.model.equipped})}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props.model,n=t.description,a=t.hash,r=t.name,o=t.effects,i=t.equipped;return x.a.createElement("div",{className:"item ".concat(i?"":"un","equipped")},x.a.createElement(b.a,{className:"equipped",onChange:this.handleToggleEquipped,value:i}),x.a.createElement(b.a,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:r}),x.a.createElement(I.a,{onToggle:function(t){return e.props.onToggleExpanded(a,t)}},x.a.createElement(b.a,{className:"description",type:"multiline",onChange:this.handleChangeDescription,placeholder:"Description...",value:n}),x.a.createElement(k,{collection:o,title:"Effects"})))}}]),t}(N.Component),E()(r,"defaultProps",{model:{},onDelete:D.a,onToggleExpanded:D.a}),E()(r,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}},{display:"icon-backpack",getter:function(e){return[!e.equipped,e.name]}}]),a=o))||a;t.a=T},t524:function(e,t,n){"use strict";var a=n("b696"),r=n.n(a),o=n("cFUw"),i=n.n(o),s=n("Nogc"),l=n.n(s),c=n("WEGp"),p=n.n(c),d=n("Amxr"),u=n.n(d),m=n("o1mq"),h=n.n(m),f=n("cEnY"),g=n.n(f),v=n("itEV"),y=n.n(v),E=n("cNEE"),C=n.n(E),N=n("ubaz"),x=n.n(N),b=n("uqjs"),A=n("q1tI"),I=n.n(A),O=n("U/5H"),S=n.n(O),D=n("1T+A"),k=n("YFLu"),T=n("BSti"),q=n("x6zz"),z=n("DODz"),j=(n("e8LY"),"Uncategorized"),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){var r=e(n),o=e(a);if(Array.isArray(r)&&Array.isArray(o)){for(var i=0;i<r.length;i+=1)if(r[i]!==o[i])return t?o[i]<r[i]?-1:1:r[i]<o[i]?-1:1;return 0}if("number"===typeof r&&"number"===typeof o)return r===o?0:t?o<r?-1:1:r<o?-1:1;var s=String(r),l=String(o);return t?l.localeCompare(s):s.localeCompare(l)}};t.a=function(e,t){var n,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(t.sortOptions||[]).map(function(e){return x()({},e,{comparitor:w(e.getter),display:"string"===typeof e.display?I.a.createElement("span",{className:e.display}):e.display})});return a=n=function(n){function a(){var n,o;l()(this,a);for(var c=arguments.length,p=new Array(c),d=0;d<c;d++)p[d]=arguments[d];return o=u()(this,(n=h()(a)).call.apply(n,[this].concat(p))),C()(g()(o),"Component",t),C()(g()(o),"Model",e),C()(g()(o),"container",I.a.createRef()),C()(g()(o),"expandedItems",{}),C()(g()(o),"filterEl",I.a.createRef()),C()(g()(o),"onDataSnapshotDisposer",q.a),C()(g()(o),"onLayoutSnapshotDisposer",q.a),C()(g()(o),"sortable",null),C()(g()(o),"state",{expanded:{},sortOption:null}),C()(g()(o),"getCategoryItems",function(e,t){return t&&t!==j?e.filter(function(e){return(e.categories||[]).includes(t)}):e.filter(function(e){return 0===(e.categories||[]).length})}),C()(g()(o),"handleAdd",function(){o.props.collection.push(e.create({})),o.forceUpdate()}),C()(g()(o),"handleDelete",function(e){var t=e.target,n=parseInt(t.parentNode.getAttribute("data-index"),10);o.props.collection.deleteAt(n),o.forceUpdate()}),C()(g()(o),"handleFilterChange",function(e){var t=e.target;return o.props.layout.set({filter:t.value})}),C()(g()(o),"handleSort",function(){return o.props.collection.sortBy("name")}),C()(g()(o),"handleSortChange",function(e){var t=o.state.sortOption;o.setState({sortOption:t===e?null:e},function(){o.props.layout.set({sortOption:t===e?void 0:s.indexOf(e)})})}),C()(g()(o),"handleToggleCategorized",function(){o.props.layout.set({categorize:!o.props.layout.categorize})}),C()(g()(o),"handleToggleExpanded",function(e,t){o.setState(function(n){return x()({},n,{expanded:x()({},n.expanded,C()({},e,t))})})}),C()(g()(o),"renderCategoryWidget",function(){var e=o.props.layout,t=g()(o).categories;if(!t.length)return null;var n=["categorize icon-categorize",e.categorize?"on":"off"].join(" ");return I.a.createElement(I.a.Fragment,null,I.a.createElement("div",i()({className:n},{onClick:o.handleToggleCategorized})),I.a.createElement("select",{className:"filter",onChange:o.handleFilterChange,ref:o.filterEl,tabIndex:-1,value:e.filter},I.a.createElement("option",{value:""},"All"),t.map(function(e){return I.a.createElement("option",{key:e,value:e},e)})))}),C()(g()(o),"renderSortWidget",function(){return o.props.sortable&&s.length?I.a.createElement(D.a,{className:"sorter",onChange:o.handleSortChange,options:s,selected:o.state.sortOption}):null}),C()(g()(o),"renderCategory",function(e,t){var n=o.props.columns,a=o.getCategoryItems(t,e);if(!a.length)return null;var i=a.map(function(e){return e.categoryValue}),s=Math.min.apply(Math,r()(i)),l=Math.max.apply(Math,r()(i));return I.a.createElement("div",{key:e,className:"category"},I.a.createElement("div",{className:"details"},I.a.createElement("div",{className:"title"},"Category: ",e," (",a.length,")"),!Number.isNaN(s)&&!Number.isNaN(l)&&I.a.createElement("div",{className:"range"},s,"-",l)),I.a.createElement("div",{className:"category-items",style:{columns:n}},a.map(o.renderItem)))}),C()(g()(o),"renderItem",function(e){var n=o.props,a=n.collection,r=n.layout,i=n.sortable,s=o.state,l=s.expanded,c=s.sortOption,p=i&&null!==c,d=r&&r.categorize;return I.a.createElement("div",{className:"list-item-wrapper ".concat(l[e.hash]?"expanded":"").trim(),"data-index":a.indexOf(e),key:e.hash},!p&&!d&&I.a.createElement("div",{className:"drag-handle"}),I.a.createElement(t,{model:e,onDelete:a.delete,onToggleExpanded:o.handleToggleExpanded}),I.a.createElement("button",{className:"icon-remove",onClick:o.handleDelete}))}),o}return y()(a,n),p()(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.layout){var t=this.props.layout.sortOption;s.length&&void 0!==t&&this.setState({sortOption:s[t]||null}),this.onLayoutSnapshotDisposer=Object(b.onSnapshot)(this.props.layout,Object(T.a)(function(){return e.forceUpdate()},100,!0))}var n=this.props.sortable;n&&(this.sortable=S.a.create(this.container.current,{disabled:!n,draggable:".list-item-wrapper",handle:".drag-handle",onEnd:function(){e.container.current.classList.remove("dragging"),e.props.collection.replace(r()(e.container.current.querySelectorAll(".list-item-wrapper")).map(function(e){return parseInt(e.getAttribute("data-index"),10)}).map(function(t){return e.props.collection.at(t)}))},onStart:function(){return e.container.current.classList.add("dragging")}})),this.onDataSnapshotDisposer=Object(b.onSnapshot)(this.props.collection,function(){return e.forceUpdate()})}},{key:"componentWillReceiveProps",value:function(){this.sortable&&this.sortable.option("disabled",!this.props.sortable)}},{key:"componentWillUnmount",value:function(){this.onDataSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=void 0===n?"":n,r=t.columns,o=t.layout,i=void 0===o?{}:o,s=t.title,l=this.state.sortOption,c=this.categories,p=this.props.collection.asArray;null!==l&&(p=p.sort(l.comparitor));var d=Boolean(c.length);d&&i.filter&&(p=this.getCategoryItems(p,i.filter),c=[i.filter]);var u={columns:i.categorize?1:r};return I.a.createElement("div",{className:"list ".concat(a).trim(),ref:this.container,style:u},I.a.createElement("div",{className:"title-bar"},this.renderSortWidget(),this.renderCategoryWidget(),I.a.createElement("div",{className:"text"},s),I.a.createElement("button",{className:"add icon-add",onClick:this.handleAdd})),d&&i.categorize?c.map(function(t){return e.renderCategory(t,p)}):p.map(this.renderItem))}},{key:"categories",get:function(){var e=this.props.collection.asArray.reduce(function(e,t){return e.concat(t.categories||[])},[]);return e.length?Object(z.a)(e.filter(function(e){return e!==j})).sort().concat(j):[]}}]),a}(I.a.Component),C()(n,"defaultProps",x()({className:"",collection:Object(k.a)(e).create([]),columns:1,layout:void 0,sortable:!0,title:o.title||""},o)),a}}};
//# sourceMappingURL=components-item-item.67ae6489b6adabd1f030.js.map