{"version":3,"sources":["webpack://sheetforge/./source/models/Descriptor/Descriptor.js","webpack://sheetforge/./source/models/Item/Item.js","webpack://sheetforge/./source/utilities/unique.js","webpack://sheetforge/./source/utilities/findParent.js","webpack://sheetforge/./source/models/Effect/Effect.js","webpack://sheetforge/./source/utilities/flatten.js","webpack://sheetforge/./source/models/Character/Character.js","webpack://sheetforge/./source/models/ResourceCost/ResourceCost.js","webpack://sheetforge/./source/models/Spell/Spell.js","webpack://sheetforge/./source/components/Editable/Editable.js","webpack://sheetforge/./source/utilities/splitObjectPath.js","webpack://sheetforge/./source/utilities/getPathValue.js","webpack://sheetforge/./source/utilities/setPathValue.js","webpack://sheetforge/./source/models/generic/IEditable/IEditable.js","webpack://sheetforge/./source/components/Editable/Editable.scss","webpack://sheetforge/./source/utilities/compareBy.js","webpack://sheetforge/./source/models/generic/Collection/Collection.js","webpack://sheetforge/./source/models/Resource/Resource.js","webpack://sheetforge/./source/models/Trait/Trait.js","webpack://sheetforge/./source/utilities/bound.js","webpack://sheetforge/./source/utilities/hash.js","webpack://sheetforge/./source/models/generic/IIdentity/IIdentity.js","webpack://sheetforge/./source/utilities/math/math.js","webpack://sheetforge/./source/utilities/math/toSymbols.js","webpack://sheetforge/./source/utilities/math/calculate.js","webpack://sheetforge/./source/models/Attribute/Attribute.js","webpack://sheetforge/./source/models/generic/ICategorizable/ICategorizable.js","webpack://sheetforge/./source/models/Skill/Skill.js","webpack://sheetforge/./source/utilities/noop.js"],"names":["ICategorizable","name","value","description","effects","CollectionOf","equipped","array","all","filterFunction","Boolean","hasParent","parent","getParent","condition","modifier","targetId","afterAttach","self","available","character","findParent","p","isApplicable","source","sourceName","target","depth","Infinity","Array","JSON","flatten","attributes","conditions","types","descriptors","experience","items","resources","skills","spells","traits","isCharacter","activeEffects","effect","availableConditions","e","i","trait","spell","item","amount","resourceName","resource","costs","isActive","level","cast","cost","current","isAffordable","TYPES","Editable","editing","resetValue","type","editorType","editor","min","max","parseFloat","Number","bound","event","key","ctrlKey","metaKey","createRefWithAutoFocus","lines","paragraphs","index","className","handleToggleEditing","placeholder","readOnlyValue","showPlaceholder","displayValue","readOnly","classes","props","onFocus","tabIndex","React","Component","forceEditMode","onChange","onEditEnd","onEditStart","onKeyDown","onKeyPress","onKeyUp","step","PATH_SPLITTER","path","split","splitObjectPath","property","o","IEditable","isIEditable","savedVersion","deepEqual","afterCreate","isPathDirty","getPathValue","initial","markAsClean","Object","isObservableArray","child","reset","set","undefined","setPathValue","reversed","a","String","objectA","b","objectB","options","TypedArrayWrapper","values","at","clear","delete","deleteAt","n","every","filter","find","findBy","findById","TYPE","forEach","includes","indexOf","insert","map","pop","push","reduce","replace","shift","slice","some","sortBy","direction","compareBy","splice","toObject","entry","valueProp","unshift","fromSnapshot","snapshot","getValidationMessage","isTargetType","maximum","radix","string","h","char","Math","randomHash","hash","math","core","require","fns","symbols","node","expression","data","defaultSymbolValue","safeData","toSymbols","raw","computing","modifiedValue","modifierText","computed","attribute","calculate","process","getValue","isICategorizable","categories","unique","category","lastUsedName","getCategories","mastery","theory"],"mappings":"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","file":"static/js/components-attribute-attribute~components-effect-effect~components-item-item~components-sheet-sheet~~4405149b.78091832.js","sourcesContent":["import { types } from 'mobx-state-tree'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(),\n  IEditable,\n  types.model({\n    name: 'New Descriptor...',\n    value: '',\n  })\n).named('Descriptor')\n","import { types } from 'mobx-state-tree'\nimport Effect from '@/models/Effect'\nimport CollectionOf from '@/models/generic/Collection'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(),\n  IEditable,\n  types.model({\n    description: '',\n    effects: CollectionOf(Effect),\n    equipped: false,\n    name: 'New Item...',\n  }),\n).named('Item')\n","export default (array = []) => (\n  array.filter((item, index, all) => all.indexOf(item) === index)\n)\n","import { getParent, hasParent } from 'mobx-state-tree'\n\nexport default (child, filterFunction = Boolean) => {\n  if (!hasParent(child)) { return null }\n\n  let parent = getParent(child)\n  while (parent) {\n    if (filterFunction(parent)) {\n      return parent\n    }\n\n    if (!hasParent(parent)) { return null }\n    parent = getParent(parent)\n  }\n\n  return null\n}\n","import { types } from 'mobx-state-tree'\nimport Attribute from '@/models/Attribute'\nimport CollectionOf from '@/models/generic/Collection'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport findParent from '@/utilities/findParent'\n\nexport default types.compose(\n  IIdentity,\n  IEditable,\n  types.model({\n    condition: '',\n    modifier: 0,\n    targetId: '',\n  }).actions(self => ({\n    afterAttach() {\n      if (!self.targetId && self.available().length) {\n        // eslint-disable-next-line no-param-reassign\n        self.targetId = self.available().first.id\n      }\n    },\n\n    available() {\n      const character = self.character()\n      return character ? character.attributes : CollectionOf(Attribute).create([])\n    },\n    character() { return findParent(self, p => p.isCharacter) },\n    isApplicable() {\n      const character = self.character()\n      return Boolean(\n        !self.condition ||\n        (character && character.conditions.includes(self.condition))\n      )\n    },\n    source() { return findParent(self, p => p.name) || null },\n    sourceName() { return self.source() ? self.source().name : 'Unknown' },\n    target() {\n      const character = self.character()\n      return character ? character.attributes.findBy('name', self.targetId) : null\n    },\n  }))\n).named('Effect')\n","export default function flatten(array, depth = Infinity) {\n  if (!array || !Array.isArray(array)) {\n    throw new TypeError(`cannot flatten non-Array value ${JSON.stringify(array)}`)\n  }\n\n  return array.reduce((all, next) => {\n    if (depth > 1 && next && Array.isArray(next)) {\n      return all.concat(flatten(next, depth - 1))\n    }\n\n    return all.concat(next)\n  }, [])\n}\n","import { types } from 'mobx-state-tree'\nimport Attribute from '@/models/Attribute'\nimport Descriptor from '@/models/Descriptor'\nimport CollectionOf from '@/models/generic/Collection'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport Item from '@/models/Item'\nimport Resource from '@/models/Resource'\nimport Skill from '@/models/Skill'\nimport Spell from '@/models/Spell'\nimport Trait from '@/models/Trait'\nimport flatten from '@/utilities/flatten'\n\nexport default types.compose(\n  IIdentity,\n  IEditable,\n  types.model({\n    attributes: CollectionOf(Attribute),\n    conditions: CollectionOf(types.string), // ['vs Goblins', 'Crinos Form']\n    descriptors: CollectionOf(Descriptor),\n    experience: 0,\n    items: CollectionOf(Item), // equipped / unequipped, have Effects\n    resources: CollectionOf(Resource),\n    skills: CollectionOf(Skill),\n    spells: CollectionOf(Spell),\n    traits: CollectionOf(Trait), // have Effects\n  }).volatile(() => ({\n    isCharacter: true,\n  })).actions(self => ({\n    activeEffects() {\n      return self.effects().filter(effect => effect && effect.isApplicable())\n    },\n    availableConditions() {\n      return self.effects()\n        .map(e => e.condition).concat(self.conditions.asArray)\n        .sort()\n        .filter((effect, i, all) => !i || effect !== all[i - 1])\n        .filter(Boolean)\n    },\n    effects() {\n      return flatten([\n        // Trait Effects first, because they're inherent\n        self.traits.filter(Boolean).map(trait => trait.effects.values),\n        // Direct Effects second, because they're cast on the character\n        self.spells.filter(spell => spell.isActive).map(spell => spell.effects.values),\n        // Item Effects third, because they're indirect\n        self.items.filter(item => item.equipped).map(item => item.effects.values),\n      ]).filter(Boolean)\n    },\n  }))\n).named('Character')\n","import { types } from 'mobx-state-tree'\nimport CollectionOf from '@/models/generic/Collection'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport Resource from '@/models/Resource'\nimport findParent from '@/utilities/findParent'\n\nexport default types.compose(\n  IIdentity,\n  IEditable,\n  types.model({\n    amount: 0,\n    resourceName: '',\n  }).views(self => ({\n    get available() {\n      return self.character ? self.character.resources : CollectionOf(Resource).create([])\n    },\n    get character() { return findParent(self, p => p.isCharacter) },\n  })).actions(self => ({\n    afterAttach() {\n      if (!self.resourceName && self.available.length) {\n        // eslint-disable-next-line no-param-reassign\n        self.resourceName = self.available.first.name\n      }\n    },\n    resource() {\n      if (!self.character) return null\n      return self.character.resources.findBy('name', self.resourceName)\n    },\n  }))\n).named('Cost')\n","import { types } from 'mobx-state-tree'\nimport Effect from '@/models/Effect'\nimport CollectionOf from '@/models/generic/Collection'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport ResourceCost from '@/models/ResourceCost'\nimport findParent from '@/utilities/findParent'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(self => self.level),\n  IEditable,\n  types.model({\n    costs: CollectionOf(ResourceCost), // Resources\n    description: '',\n    effects: CollectionOf(Effect),\n    isActive: false,\n    level: 0,\n    name: 'New Spell...',\n  }).views(self => ({\n    get character() { return findParent(self, p => p.isCharacter) },\n  })).actions(self => ({\n    cast() {\n      if (self.isAffordable()) {\n        self.costs.forEach((cost) => {\n          const resource = cost.resource()\n          resource.set({ current: resource.current - cost.amount })\n        })\n      }\n    },\n    isAffordable() {\n      if (!self.character || !self.costs.length) return true\n      return self.costs.every(cost => (\n        cost.resource() && cost.resource().current >= cost.amount\n      ))\n    },\n  }))\n).named('Spell')\n","import React from 'react'\nimport bound from '@/utilities/bound'\nimport noop from '@/utilities/noop'\nimport './Editable.scss'\n\nconst TYPES = [\n  // Strings\n  'text', 'multiline',\n  // Checkboxes\n  'boolean',\n  // Numbers\n  'number', 'slider',\n]\n\nexport default class Editable extends React.Component {\n  static displayName = 'Editable'\n\n  static defaultProps = {\n    className: '',\n    forceEditMode: false,\n    max: undefined,\n    min: undefined,\n    onChange: noop,\n    onEditEnd: noop,\n    onEditStart: noop,\n    onKeyDown: noop,\n    onKeyPress: noop,\n    onKeyUp: noop,\n    placeholder: '',\n    readOnly: false,\n    readOnlyValue: undefined,\n    step: 1,\n    type: undefined,\n    value: '',\n  }\n\n  state = {\n    editing: false,\n    resetValue: this.props.value,\n  }\n\n  get editing() {\n    return this.props.forceEditMode || this.state.editing\n  }\n\n  getEditorType = () => {\n    const { value } = this.props\n    let { type } = this.props\n\n    if (type !== undefined && TYPES.includes(type)) { return type }\n\n    type = typeof value\n    if (type === 'string') { return value.includes('\\n') ? 'multiline' : 'text' }\n    if (['boolean', 'number'].includes(type)) { return type }\n\n    return 'text'\n  }\n\n  resetChanges = () => {\n    this.props.onChange(this.state.resetValue, this.props.value)\n    this.handleToggleEditing()\n  }\n\n  createRefWithAutoFocus = (editor) => {\n    if (!editor) { return }\n    this.editor = editor\n\n    const editorType = this.getEditorType()\n    if (editorType !== 'boolean' && typeof editor.focus === 'function') { editor.focus() }\n\n    if (['boolean', 'number'].includes(this.getEditorType())) { return }\n    if (this.props.forceEditMode && typeof editor.setSelectionRange === 'function') {\n      editor.setSelectionRange(editor.value.length, editor.value.length)\n    }\n  }\n\n  handleChange = ({ target }) => {\n    const { min, max } = this.props\n    let { value } = target\n\n    // eslint-disable-next-line default-case\n    switch (this.getEditorType()) {\n      case 'slider':\n      case 'number':\n        value = parseFloat(value || 0)\n        // eslint-disable-next-line prefer-destructuring\n        if (Number.isNaN(value)) { value = this.props.value }\n        value = bound(value, { max, min })\n    }\n    this.props.onChange(value, this.state.resetValue)\n  }\n\n  handleKeys = (event) => {\n    const { target, key, ctrlKey, metaKey } = event\n\n    if (this.props.onKeyDown !== noop) {\n      this.props.onKeyDown(event)\n      if (event.isDefaultPrevented()) return\n    }\n\n    if (key === 'Escape') { this.resetChanges() }\n    if (key === 'Enter') {\n      if (target.nodeName !== 'TEXTAREA' || ctrlKey || metaKey) {\n        this.handleToggleEditing()\n      }\n    }\n  }\n\n  handleReceivingFocus = () => {\n    if (this.props.readOnly) { return }\n    if (!this.state.editing) { this.handleToggleEditing() }\n  }\n\n  handleToggleEditing = () => {\n    if (this.props.readOnly) { return }\n\n    const editing = !this.editing\n\n    this.setState({ editing, resetValue: this.props.value }, () => {\n      if (this.state.editing) {\n        this.props.onEditStart()\n      } else {\n        this.props.onEditEnd()\n      }\n    })\n  }\n\n  selectOnFocus = event => event.target.select()\n\n  toggleBoolean = () => {\n    this.props.onEditStart()\n    this.props.onChange(!this.props.value, this.props.value)\n    this.props.onEditEnd()\n  }\n\n  renderBoolean = () => (\n    <input\n      type=\"checkbox\"\n      checked={Boolean(this.props.value)}\n      disabled={this.props.readOnly}\n      onChange={this.toggleBoolean}\n      ref={this.createRefWithAutoFocus}\n    />\n  )\n\n  renderMultiline = () => {\n    if (!this.editing) {\n      const lines = (this.props.value || this.props.placeholder).split('\\n')\n      const paragraphs = lines.map((line, index) => <p key={index}>{line}</p>\n      )\n      const className = ['multiline', this.props.value ? '' : 'placeholder'].join(' ').trim()\n      return <div className={className} onClick={this.handleToggleEditing}>{paragraphs}</div>\n    }\n\n    return (\n      <textarea\n        disabled={this.props.readOnly}\n        onBlur={this.handleToggleEditing}\n        onChange={this.handleChange}\n        onFocus={this.selectOnFocus}\n        onKeyDown={this.handleKeys}\n        onKeyPress={this.props.onKeyPress}\n        onKeyUp={this.props.onKeyUp}\n        placeholder={this.props.placeholder}\n        ref={this.createRefWithAutoFocus}\n        rows={this.props.value.split('\\n').length}\n        value={this.props.value}\n      />\n    )\n  }\n\n  renderNumber = () => {\n    if (!this.editing) { return this.renderStatic() }\n\n    return (\n      <input\n        type=\"number\"\n        disabled={this.props.readOnly}\n        max={this.props.max}\n        min={this.props.min}\n        onBlur={this.handleToggleEditing}\n        onChange={this.handleChange}\n        onFocus={this.selectOnFocus}\n        onKeyDown={this.handleKeys}\n        onKeyPress={this.props.onKeyPress}\n        onKeyUp={this.props.onKeyUp}\n        placeholder={this.props.placeholder}\n        ref={this.createRefWithAutoFocus}\n        step={this.props.step}\n        value={this.props.value}\n      />\n    )\n  }\n\n  renderSlider = () => (\n    <input\n      type=\"range\"\n      disabled={this.props.readOnly}\n      max={this.props.max}\n      min={this.props.min}\n      onBlur={this.handleToggleEditing}\n      onChange={this.handleChange}\n      onKeyDown={this.props.onKeyDown}\n      onKeyPress={this.props.onKeyPress}\n      onKeyUp={this.props.onKeyUp}\n      ref={this.createRefWithAutoFocus}\n      step={this.props.step}\n      value={this.props.value}\n    />\n  )\n\n  renderText = () => {\n    if (!this.editing) { return this.renderStatic() }\n\n    return (\n      <input\n        type=\"text\"\n        disabled={this.props.readOnly}\n        onBlur={this.handleToggleEditing}\n        onChange={this.handleChange}\n        onFocus={this.selectOnFocus}\n        onKeyDown={this.handleKeys}\n        onKeyPress={this.props.onKeyPress}\n        onKeyUp={this.props.onKeyUp}\n        placeholder={this.props.placeholder}\n        ref={this.createRefWithAutoFocus}\n        value={this.props.value}\n      />\n    )\n  }\n\n  renderStatic = () => {\n    const { placeholder, readOnlyValue, value } = this.props\n    const showPlaceholder = placeholder && !value\n    const displayValue = readOnlyValue !== undefined ? readOnlyValue : value\n    const className = showPlaceholder ? 'placeholder' : ''\n    return (\n      <span className={className} onClick={this.handleToggleEditing}>\n        {showPlaceholder ? placeholder : displayValue}\n      </span>\n    )\n  }\n\n  renderEditor = () => {\n    switch (this.getEditorType()) {\n      case 'boolean':\n        return this.renderBoolean()\n      case 'slider':\n        return this.renderSlider()\n      case 'multiline':\n        return this.renderMultiline()\n      case 'number':\n        return this.renderNumber()\n      default:\n        return this.renderText()\n    }\n  }\n\n  render = () => {\n    const { className, readOnly } = this.props\n\n    const classes = [\n      'editable',\n      this.editing ? 'editing' : '',\n      className || '',\n      readOnly ? 'readonly' : '',\n    ].filter(Boolean)\n\n    let props = {}\n    if (!readOnly && !this.editing) {\n      props = { onFocus: this.handleReceivingFocus, tabIndex: '0' }\n    }\n\n    return (\n      <div className={classes.join(' ')} {...props}>\n        {this.renderEditor()}\n      </div>\n    )\n  }\n}\n","const PATH_SPLITTER = /([a-z0-9-_]+)(?![[\"'\\].])*/ig\n\nexport default (path) => {\n  if (typeof path !== 'string') return null\n  return path.match(PATH_SPLITTER)\n}\n","import splitObjectPath from '@/utilities/splitObjectPath'\n\nexport default (object, path) => {\n  if (typeof path !== 'string') return undefined\n\n  const split = splitObjectPath(path)\n\n  if (!Array.isArray(split)) return undefined\n\n  const property = split.pop()\n  const target = split.reduce((o, key) => o[key] || {}, object)\n\n  if (target) return target[property]\n  return undefined\n}\n","import splitObjectPath from '@/utilities/splitObjectPath'\n\nexport default (object, path, value) => {\n  const split = splitObjectPath(path)\n  const property = split.pop()\n  const target = split.reduce((o, key) => o[key] || {}, object)\n\n  if (target && target.isIEditable) {\n    target.set(property, value)\n  } else {\n    target[property] = value\n  }\n}\n","import deepEqual from 'deep-equal'\nimport { isObservableArray } from 'mobx'\nimport { types } from 'mobx-state-tree'\nimport getPathValue from '@/utilities/getPathValue'\nimport setPathValue from '@/utilities/setPathValue'\n\nconst IEditable = types.model('IEditable', {\n  // Any\n}).volatile(() => ({\n  isIEditable: true,\n  savedVersion: {},\n})).views(self => ({\n  get isDirty() { return !deepEqual(self.toJSON(), self.savedVersion) },\n})).actions(self => ({\n  /* eslint-disable no-param-reassign */\n\n  afterCreate() { self.savedVersion = self.toJSON() },\n  isPathDirty: (path) => {\n    const current = getPathValue(self.toJSON(), path)\n    const initial = getPathValue(self.savedVersion, path)\n    return !deepEqual(current, initial)\n  },\n  markAsClean() {\n    self.savedVersion = self.toJSON()\n\n    Object.keys(self.savedVersion).forEach((key) => {\n      const value = self[key]\n      if (!value) { return }\n\n      if (value.isIEditable) {\n        value.markAsClean()\n      } else if (isObservableArray(value)) {\n        value.forEach(child => (child && child.isIEditable && child.markAsClean()))\n      }\n    })\n  },\n  reset() { Object.assign(self, self.savedVersion) },\n  set(key = {}, value = undefined) {\n    if (typeof key === 'string' && value !== undefined) {\n      // allows: model.set('foo.bar', 'bar')\n      if (self[key] !== undefined) {\n        self[key] = value\n      } else {\n        setPathValue(self, key, value)\n      }\n    } else if (typeof key === 'object' && value === undefined) {\n      // allows: model.set({ foo: 'Foo', bar: 'Bar' })\n      Object.assign(self, key)\n    }\n  },\n\n  /* eslint-enable no-param-reassign */\n}))\n\nexport default IEditable\n","// extracted by mini-css-extract-plugin","export default (prop, reversed = false) => (objectA, objectB) => {\n  const a = String(objectA instanceof Map ? objectA.get(prop) : objectA[prop])\n  const b = String(objectB instanceof Map ? objectB.get(prop) : objectB[prop])\n\n  if (reversed) return b.localeCompare(a)\n  return a.localeCompare(b)\n}\n","import { isObservableArray } from 'mobx'\nimport { types } from 'mobx-state-tree'\nimport compareBy from '@/utilities/compareBy'\n\nexport default (TYPE, options = {}) => {\n  const TypedArrayWrapper = types.model({\n    values: types.array(TYPE),\n  }).views(self => ({\n    get asArray() { return self.values.slice() },\n    get first() { return self.length ? self.at(0) : undefined },\n    get last() { return self.length ? self.at(self.length - 1) : undefined },\n    get length() { return self.values.length },\n  })).actions(self => ({\n    /* eslint-disable no-param-reassign */\n\n    at: n => self.values[n],\n    clear: () => self.values.clear(),\n    delete: (object) => { self.values.replace(self.values.filter(item => item !== object)) },\n    deleteAt: (index) => { self.values.replace(self.values.filter((_, n) => n !== index)) },\n    every: fn => self.values.every(fn),\n    filter: fn => self.values.filter(fn),\n    find: fn => self.values.find(fn),\n    findBy: (key, value) => self.find(item => item[key] === value),\n    findById: (id) => {\n      if (!TYPE.identifierAttribute) return null\n      return self.find(item => item[TYPE.identifierAttribute] === id) || null\n    },\n    forEach: fn => self.values.forEach(fn),\n    includes: (searchElement, fromIndex) => self.values.includes(searchElement, fromIndex),\n    indexOf: element => self.values.indexOf(element),\n    insert: (object, index) => self.splice(index, 0, object),\n    map: fn => self.values.map(fn),\n    pop: () => self.values.pop(),\n    push: (...values) => self.values.replace([].concat(self.values, values)),\n    reduce: (fn, initial) => self.values.reduce(fn, initial),\n    replace: values => self.values.replace(values),\n    shift: () => self.values.shift(),\n    slice: (start, end) => self.values.slice(start, end),\n    some: fn => self.values.some(fn),\n    sortBy: (property, direction = 'asc') => {\n      if (!['asc', 'desc'].includes(direction)) {\n        throw new TypeError(`direction must be \"asc\" or \"desc\", got: \"${direction}\"`)\n      }\n      const values = self.values.slice().sort(compareBy(property))\n      self.values.replace(direction === 'desc' ? values.reverse() : values)\n      return self\n    },\n    splice: (index, deleteCount, value) => self.values.splice(index, deleteCount, value),\n    toObject: (keyProp, valueProp) => self.values.reduce((object, entry) => {\n      const key = entry[keyProp]\n      const value = valueProp !== undefined ? entry[valueProp] : entry\n      return { ...object, [key]: typeof value === 'function' ? value() : value }\n    }, {}),\n    unshift: (...values) => self.values.replace([].concat(values, self.values)),\n\n    /* eslint-enable no-param-reassign */\n  })).postProcessSnapshot(({ values }) => values)\n\n  return types.custom({\n    ...options,\n    fromSnapshot: (snapshot = []) => TypedArrayWrapper.create({ values: snapshot }),\n    getValidationMessage: (snapshot) => {\n      if (!snapshot) return ''\n      if (isObservableArray(snapshot) || Array.isArray(snapshot)) {\n        if (snapshot.every(f => TYPE.is(f))) return ''\n      }\n\n      return 'Collection types must be assigned an array of values or null'\n    },\n    isTargetType: target => TypedArrayWrapper.is(target),\n    name: options.name || 'Collection',\n  })\n}\n","import { types } from 'mobx-state-tree'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(),\n  IEditable,\n  types.model({\n    current: 0,\n    maximum: 10,\n    name: 'New Resource...',\n  })\n).named('Resource')\n","import { types } from 'mobx-state-tree'\nimport Effect from '@/models/Effect'\nimport CollectionOf from '@/models/generic/Collection'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(self => self.value),\n  IEditable,\n  types.model('Trait', {\n    effects: CollectionOf(Effect),\n    name: 'New Trait...',\n    value: 0,\n  })\n).named('Trait')\n","export default (value, { min, max }) => {\n  if (min !== undefined && value < min) return min\n  if (max !== undefined && value > max) return max\n  return value\n}\n","export default function hash(value = '', radix = 16) {\n  const string = String(value)\n  let h = 0\n  string.split('').forEach((char) => {\n    /* eslint-disable no-bitwise */\n    h = ((h << 5) - h) + char.charCodeAt(0)\n    h &= h // Convert to 32-bit integer\n    /* eslint-enable no-bitwise */\n  })\n  return Math.abs(h).toString(radix)\n}\n\nexport const randomHash = () => hash(Math.random().toString())\n","import { types } from 'mobx-state-tree'\nimport { randomHash } from '@/utilities/hash'\n\nexport default types.model({\n  // Nothing\n}).volatile(() => ({\n  hash: '',\n})).actions(self => ({\n  afterCreate() { self.hash = randomHash() }, // eslint-disable-line no-param-reassign\n}))\n","import core from 'mathjs/core'\n\nconst math = core.create()\nmath.import(require('mathjs/lib/expression/function/eval'))\nmath.import(require('mathjs/lib/expression/function/parse'))\nmath.import(require('mathjs/lib/function/arithmetic/add'))\nmath.import(require('mathjs/lib/function/arithmetic/ceil'))\nmath.import(require('mathjs/lib/function/arithmetic/divide'))\nmath.import(require('mathjs/lib/function/arithmetic/floor'))\nmath.import(require('mathjs/lib/function/arithmetic/mod'))\nmath.import(require('mathjs/lib/function/arithmetic/multiply'))\nmath.import(require('mathjs/lib/function/arithmetic/pow'))\nmath.import(require('mathjs/lib/function/arithmetic/round'))\nmath.import(require('mathjs/lib/function/arithmetic/subtract'))\nmath.import(require('mathjs/lib/function/logical'))\nmath.import(require('mathjs/lib/function/statistics/max'))\nmath.import(require('mathjs/lib/function/statistics/mean'))\nmath.import(require('mathjs/lib/function/statistics/min'))\nmath.import(require('mathjs/lib/function/statistics/sum'))\nmath.import(require('mathjs/lib/type/matrix/function/matrix'))\nmath.import(require('mathjs/lib/type/matrix/Matrix'))\nmath.import(require('mathjs/lib/type/matrix/DenseMatrix'))\n\nexport default math\n","import math from '@/utilities/math'\n\nexport default (expression) => {\n  const fns = []\n  const symbols = []\n\n  math.parse(expression).traverse((node) => {\n    if (node.fn) {\n      fns.push(node.fn.name)\n    }\n    if (\n      node.type === 'SymbolNode'\n      && !symbols.includes(node.name)\n      && !fns.includes(node.name)\n    ) {\n      symbols.push(node.name)\n    }\n  })\n  return symbols\n}\n","import math from '@/utilities/math'\nimport toSymbols from '@/utilities/math/toSymbols'\n\nexport default (expression = '', data = {}, options = { defaultSymbolValue: 0 }) => {\n  const safeData = { ...data }\n  toSymbols(expression).forEach((symbol) => {\n    if (typeof safeData[symbol] !== 'number' || Number.isNaN(safeData[symbol])) {\n      safeData[symbol] = options.defaultSymbolValue\n    }\n  })\n\n  return math.eval(expression, safeData)\n}\n","import { types } from 'mobx-state-tree'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\nimport findParent from '@/utilities/findParent'\nimport math from '@/utilities/math'\nimport calculate from '@/utilities/math/calculate'\nimport toSymbols from '@/utilities/math/toSymbols'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(self => self.modifiedValue()),\n  IEditable,\n  types.model({\n    name: 'New Attribute...',\n    raw: types.optional(types.union(types.number, types.string), 0),\n  }).views(self => ({\n    get character() { return findParent(self, p => p.isCharacter) },\n    get id() {\n      return self.name.split(':').pop()\n        .trim().toLowerCase()\n        .replace(/[^a-z0-9]/ig, '')\n    },\n    get isComputed() { return typeof self.raw === 'string' },\n  })).actions((self) => {\n    let computing = false\n\n    return ({\n      effects() {\n        if (!self.character) return []\n        return self.character.activeEffects().filter(effect => effect.targetId === self.id)\n      },\n      modifiedValue() { return (self.value() || 0) + self.modifier() },\n      modifier() { return math.sum(self.effects().map(effect => effect.modifier)) },\n      modifierText() {\n        return self.effects().map(effect => `${effect.sourceName()}: ${effect.modifier}`).join(', ')\n      },\n      value() {\n        if (!self.isComputed) return self.raw\n        if (self.character === null) return 0\n        if (computing) return 0\n\n        computing = true\n        let computed = 0\n\n        try {\n          const values = toSymbols(self.raw).reduce((all, symbol) => {\n            const attribute = self.character.attributes.findBy('id', symbol)\n            return Object.assign(all, { [symbol]: attribute ? attribute.modifiedValue() : 0 })\n          }, {})\n\n          computed = calculate(self.raw, values)\n        } catch (error) {\n          // eslint-disable-next-line no-undef\n          if (process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.error(`Error computing: ${self.raw}`)\n          }\n          computed = 0\n        }\n\n        computing = false\n        return computed\n      },\n    })\n  }).preProcessSnapshot(({ value, ...snapshot }) => ({ ...snapshot, raw: value }))\n    .postProcessSnapshot(({ raw, ...snapshot }) => ({ ...snapshot, value: raw }))\n).named('Attribute')\n","import { types } from 'mobx-state-tree'\nimport noop from '@/utilities/noop'\nimport unique from '@/utilities/unique'\n\nexport default (getValue = noop) => types.model({\n}).volatile(() => ({\n  isICategorizable: true,\n})).views((self) => {\n  function getCategories() {\n    if (!self.name) return []\n\n    const categories = self.name.split(':')\n    categories.pop() // remove the name\n\n    return unique(categories.map(category => category.trim()).filter(Boolean)).sort()\n  }\n  let lastUsedName = self.name\n  let categories = getCategories()\n\n  return {\n    get categories() {\n      if (!self.name || self.name === lastUsedName) return categories\n\n      lastUsedName = self.name\n      categories = getCategories()\n\n      return categories\n    },\n    get categoryValue() { return getValue(self) },\n  }\n})\n","import { types } from 'mobx-state-tree'\nimport ICategorizable from '@/models/generic/ICategorizable'\nimport IEditable from '@/models/generic/IEditable'\nimport IIdentity from '@/models/generic/IIdentity'\n\nexport default types.compose(\n  IIdentity,\n  ICategorizable(self => self.mastery),\n  IEditable,\n  types.model({\n    mastery: 1,\n    name: 'New Skill...',\n    theory: 0,\n  }).views(self => ({\n    get isComplex() { return self.theory !== 0 },\n    get isSimple() { return self.theory === 0 },\n  }))\n).named('Skill')\n","export default () => {}\n"],"sourceRoot":""}