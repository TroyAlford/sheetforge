(window.webpackJsonpsheetforge=window.webpackJsonpsheetforge||[]).push([[11],{HYkr:function(e,t,n){},Zsyy:function(e,t,n){},kvEc:function(e,t,n){},wwUJ:function(e,t,n){"use strict";n.r(t);var a,o,r,i,s,c=n("y9tM"),l=n.n(c),p=n("q1tI"),h=n.n(p),u=n("6qfE"),d=(n("mcpE"),n("uqjs")),m=n("ITKj"),f=n("b696"),y=n.n(f),v=n("YFLu"),S=n("RtsE"),C=n("kcWH"),g=n("maIC"),E=d.types.compose(C.a,S.a,d.types.model({children:Object(v.a)(d.types.late(function(){return E})),colSpan:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return d.types.optional(d.types.refinement(d.types.number,function(n){return void 0===n||n>=e&&n<=t}),n)}(1,4,1),title:d.types.maybe(d.types.string),type:d.types.maybe(d.types.string)}).actions(function(e){return{columns:function(){return g.a.sum.apply(g.a,y()(e.children.map(function(e){return e.colSpan})))}}})).named("Layout"),b=E,w=n("cFUw"),k=n.n(w),N=n("Nogc"),D=n.n(N),O=n("WEGp"),A=n.n(O),I=n("Amxr"),J=n.n(I),M=n("o1mq"),U=n.n(M),z=n("itEV"),H=n.n(z),j=n("cEnY"),T=n.n(j),W=n("cNEE"),x=n.n(W),L=n("NbXW"),R=n("mD9I"),B=n("Ut7+"),q=n("a4BR"),P=n("gtIf"),Y=n("p0Pd"),Z=n("wryK"),X=n("b/z0"),F=n("8qIS"),K=n("M/4f"),V={Attribute:R.a,Descriptor:B.a,Effect:q.a,Health:P.a,Item:Y.a,Resource:Z.a,Skill:X.a,Spell:F.a,Trait:K.a},G=n("O+tL"),Q=n("I7n6"),$=(n("Zsyy"),Object(L.observer)((o=a=function(e){function t(){var e,n;D()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=J()(this,(e=U()(t)).call.apply(e,[this].concat(o))),x()(T()(T()(n)),"CACHE",{}),x()(T()(T()(n)),"handleSnapshot",function(){var e=n.props.model.availableConditions(),t=n.props.model.conditions.asArray;JSON.stringify(e)===JSON.stringify(n.CACHE.availableConditions)&&JSON.stringify(t)===JSON.stringify(n.CACHE.conditions)||(n.CACHE.availableConditions=e,n.CACHE.conditions=t,n.forceUpdate())}),x()(T()(T()(n)),"handleCheckbox",function(e,t){var a=n.props.model.conditions;t&&!a.includes(e)?a.push(e):"function"===typeof a.delete?a.delete(e):a.splice(a.indexOf(e),1),n.forceUpdate()}),x()(T()(T()(n)),"renderCondition",function(e){var t=n.props.model.conditions.includes(e);return h.a.createElement("div",{key:e,className:"condition ".concat(t?"current":"available")},h.a.createElement(G.a,{className:"current",onChange:function(t){return n.handleCheckbox(e,t)},value:t}),h.a.createElement("div",{className:"name"},e))}),n}return H()(t,e),A()(t,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(d.onSnapshot)(this.props.model,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){return h.a.createElement("div",{className:"conditions"},h.a.createElement(Q.a,null,this.props.model.availableConditions().map(this.renderCondition)))}}]),t}(p.Component),x()(a,"defaultProps",{model:{}}),o))),_=n("x6zz"),ee=(n("kvEc"),function(e){function t(){var e,n;D()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=J()(this,(e=U()(t)).call.apply(e,[this].concat(o))),x()(T()(T()(n)),"titleBar",h.a.createRef()),x()(T()(T()(n)),"onSnapshotDisposer",_.a),x()(T()(T()(n)),"snapshot",null),x()(T()(T()(n)),"handleChangeTitle",function(e){return n.props.model.set({title:e})}),n}return H()(t,e),A()(t,[{key:"componentDidMount",value:function(){var e=this;this.onSnapshotDisposer=Object(d.onSnapshot)(this.props.model,function(t){var n=JSON.stringify(t);e.snapshot!==n&&(e.snapshot=n,e.forceUpdate())}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var e=this.props.children,t=this.props.model,n=t.colSpan,a=t.title,o=void 0===a?"":a;return h.a.createElement("div",{className:"layout",style:{flex:n}},h.a.createElement("div",{className:"title-bar",ref:this.titleBar},h.a.createElement(G.a,{className:"title",onChange:this.handleChangeTitle,placeholder:"Section Title",value:o})),h.a.createElement(Q.a,{expandByDefault:!0,omitItemWrapper:!0,toggleButtonParent:this.titleBar.current},e))}}]),t}(p.Component)),te=n("t524"),ne=n("mkTB"),ae=n("AD/C"),oe=n("HyL6"),re=n("+bV0"),ie=n("Afd3"),se=n("ZEI3"),ce=n("vovD"),le=n("JCrA"),pe=n("ZwSi"),he={Attribute:ne.a,Descriptor:ae.a,Effect:oe.a,HealthLevel:re.a,Item:ie.a,Resource:se.a,Skill:ce.a,Spell:le.a,Trait:pe.a},ue=(n("HYkr"),Object(L.observer)((s=i=function(e){function t(e){var n;return D()(this,t),n=J()(this,U()(t).call(this,e)),x()(T()(T()(n)),"state",{size:"large"}),x()(T()(T()(n)),"handleWindowResize",function(){var e="large";window.matchMedia("(min-width: 5in) and (max-width: 7.5in)").matches?e="medium":window.matchMedia("(max-width: 5in)").matches&&(e="small"),e!==n.state.size&&n.setState({size:e})}),x()(T()(T()(n)),"renderComponent",function(e,t){if(e.type){var a=e.title,o=e.type.toLowerCase(),r=Object(te.a)(he[e.type],V[e.type],{className:"".concat(o,"-list")}),i=n.props.character["".concat(o,"s")];return h.a.createElement(r,k()({collection:i},{key:t,title:a}))}return h.a.createElement(ee,{key:e.hash,model:e},e.children.map(n.renderComponent))}),n.onCharacterSnapshotDisposer=Object(d.onSnapshot)(n.props.character,function(e){n.props.onChange(e,n.props.layout.toJSON(),T()(T()(n))),n.forceUpdate()}),n.onLayoutSnapshotDisposer=Object(d.onSnapshot)(n.props.layout,function(e){n.props.onChange(n.props.character.toJSON(),e,T()(T()(n))),n.forceUpdate()}),window.addEventListener("resize",n.handleWindowResize),n}return H()(t,e),A()(t,[{key:"componentDidMount",value:function(){this.handleWindowResize(),this.props.onMount(this)}},{key:"componentWillUnmount",value:function(){this.onCharacterSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.character,n=e.layout,a=this.state.size;return h.a.createElement("div",{className:"sheetforge sheet ".concat(a)},h.a.createElement($,{model:t}),n.children.map(this.renderComponent))}}]),t}(h.a.Component),x()(i,"defaultProps",{character:{},onChange:_.a,onMount:_.a}),r=s))||r);t.default=function(e){var t=e.components;l()(e,["components"]);return h.a.createElement(u.MDXTag,{name:"wrapper",components:t},h.a.createElement(u.MDXTag,{name:"h2",components:t,props:{id:"character-sheet"}},"Character Sheet"),h.a.createElement(ue,{layout:b.create({children:[{children:[{type:"Descriptor"}]},{children:[{type:"Attribute"}]},{children:[{colSpan:1,children:[{type:"Trait"},{type:"Resource"}]},{colSpan:2,children:[{type:"Skill"},{type:"Item"},{type:"Spell"}]}]}]}),character:m.a.create({}),onChange:function(e,t){localStorage.setItem("sf-character",JSON.stringify(e)),localStorage.setItem("sf-layout",JSON.stringify(t))},onMount:function(e){var t=localStorage.getItem("sf-character");t&&e.props.character.set(JSON.parse(t))}}))}}}]);
//# sourceMappingURL=components-sheet-sheet.b5ce641d0b7b67ce51ca.js.map