(window.webpackJsonpsheetforge=window.webpackJsonpsheetforge||[]).push([[4],{"AD/C":function(e,t,n){"use strict";var r=n("uqjs"),a=n("vQEy"),o=n("RtsE"),i=n("kcWH");t.a=r.types.compose(i.a,Object(a.a)(),o.a,r.types.model({name:"New Descriptor...",value:""})).named("Descriptor")},Afd3:function(e,t,n){"use strict";var r=n("uqjs"),a=n("HyL6"),o=n("YFLu"),i=n("vQEy"),s=n("RtsE"),u=n("kcWH");t.a=r.types.compose(u.a,Object(i.a)(),s.a,r.types.model({description:"",effects:Object(o.a)(a.a),equipped:!1,name:"New Item..."})).named("Item")},DODz:function(e,t,n){"use strict";t.a=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e,t,n){return n.indexOf(e)===t})}},HcU2:function(e,t,n){"use strict";var r=n("uqjs");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;if(!Object(r.hasParent)(e))return null;for(var n=Object(r.getParent)(e);n;){if(t(n))return n;if(!Object(r.hasParent)(n))return null;n=Object(r.getParent)(n)}return null}},HyL6:function(e,t,n){"use strict";var r=n("uqjs"),a=n("mkTB"),o=n("YFLu"),i=n("RtsE"),s=n("kcWH"),u=n("HcU2");t.a=r.types.compose(s.a,i.a,r.types.model({condition:"",modifier:0,targetId:""}).actions(function(e){return{afterAttach:function(){!e.targetId&&e.available().length&&(e.targetId=e.available().first.id)},available:function(){var t=e.character();return t?t.attributes:Object(o.a)(a.a).create([])},character:function(){return Object(u.a)(e,function(e){return e.isCharacter})},isApplicable:function(){var t=e.character();return Boolean(!e.condition||t&&t.conditions.includes(e.condition))},source:function(){return Object(u.a)(e,function(e){return e.name})||null},sourceName:function(){return e.source()?e.source().name:"Unknown"},target:function(){var t=e.character();return t?t.attributes.findBy("name",e.targetId):null}}})).named("Effect")},ITKj:function(e,t,n){"use strict";var r=n("uqjs"),a=n("mkTB"),o=n("AD/C"),i=n("YFLu"),s=n("RtsE"),u=n("kcWH"),c=n("Afd3"),l=n("ZEI3"),p=n("vovD"),m=n("JCrA"),d=n("ZwSi");t.a=r.types.compose(u.a,s.a,r.types.model({attributes:Object(i.a)(a.a),conditions:Object(i.a)(r.types.string),descriptors:Object(i.a)(o.a),experience:0,items:Object(i.a)(c.a),resources:Object(i.a)(l.a),skills:Object(i.a)(p.a),spells:Object(i.a)(m.a),traits:Object(i.a)(d.a)}).volatile(function(){return{isCharacter:!0}}).actions(function(e){return{activeEffects:function(){return e.effects().filter(function(e){return e&&e.isApplicable()})},availableConditions:function(){return e.effects().map(function(e){return e.condition}).concat(e.conditions.asArray).sort().filter(function(e,t,n){return!t||e!==n[t-1]}).filter(Boolean)},effects:function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(!t||!Array.isArray(t))throw new TypeError("cannot flatten non-Array value ".concat(JSON.stringify(t)));return t.reduce(function(t,r){return n>1&&r&&Array.isArray(r)?t.concat(e(r,n-1)):t.concat(r)},[])}([e.traits.filter(Boolean).map(function(e){return e.effects.values}),e.spells.filter(function(e){return e.isActive}).map(function(e){return e.effects.values}),e.items.filter(function(e){return e.equipped}).map(function(e){return e.effects.values})]).filter(Boolean)}}})).named("Character")},ITnf:function(e,t,n){"use strict";var r=n("uqjs"),a=n("YFLu"),o=n("RtsE"),i=n("kcWH"),s=n("ZEI3"),u=n("HcU2");t.a=r.types.compose(i.a,o.a,r.types.model({amount:0,resourceName:""}).views(function(e){return{get available(){return e.character?e.character.resources:Object(a.a)(s.a).create([])},get character(){return Object(u.a)(e,function(e){return e.isCharacter})}}}).actions(function(e){return{afterAttach:function(){!e.resourceName&&e.available.length&&(e.resourceName=e.available.first.name)},resource:function(){return e.character?e.character.resources.findBy("name",e.resourceName):null}}})).named("Cost")},JCrA:function(e,t,n){"use strict";var r=n("uqjs"),a=n("HyL6"),o=n("YFLu"),i=n("vQEy"),s=n("RtsE"),u=n("kcWH"),c=n("ITnf"),l=n("HcU2");t.a=r.types.compose(u.a,Object(i.a)(function(e){return e.level}),s.a,r.types.model({costs:Object(o.a)(c.a),description:"",effects:Object(o.a)(a.a),isActive:!1,level:0,name:"New Spell..."}).views(function(e){return{get character(){return Object(l.a)(e,function(e){return e.isCharacter})}}}).actions(function(e){return{cast:function(){e.isAffordable()&&e.costs.forEach(function(e){var t=e.resource();t.set({current:t.current-e.amount})})},isAffordable:function(){return!e.character||!e.costs.length||e.costs.every(function(e){return e.resource()&&e.resource().current>=e.amount})}}})).named("Spell")},K0ru:function(e,t,n){"use strict";var r=n("Nogc"),a=n.n(r),o=n("Amxr"),i=n.n(o),s=n("o1mq"),u=n.n(s),c=n("cEnY"),l=n.n(c),p=n("itEV"),m=n.n(p),d=n("cNEE"),f=n.n(d),h=n("q1tI"),v=n.n(h),g=n("kIQV"),y=n("maIC"),E=n("x6zz"),b=n("b696"),C=n.n(b),O=function(e,t){var n=e<=t?1:-1,r=Math.abs(t-e)/Math.abs(n)+1;return Array.apply(void 0,C()(Array(r))).map(function(t,r){return e+r*n})};n("VHFM");n.d(t,"a",function(){return A});var A=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i()(this,(e=u()(t)).call.apply(e,[this].concat(o))),f()(l()(n),"handleIconClick",function(e){var t=parseInt(e.target.getAttribute("data-number"),10);n.props.onChange(t===n.props.current?t-1:t)}),f()(l()(n),"render",function(){var e=n.props,t=e.allowExcess,r=e.current,a=e.iconExcess,o=e.iconOff,i=e.iconOn,s=e.maximum,u=t?y.a.max(r,s):s;return v.a.createElement("div",{className:"rating"},u>0||t&&r>0?O(1,Object(g.a)(u,{min:1})).map(function(e){return v.a.createElement("span",{"data-number":e,key:e,onClick:n.handleIconClick,title:e},e<=r&&e<=s&&i,e>r&&e<=s&&o,e>s&&a)}):null)}),n}return m()(t,e),t}(h.Component);f()(A,"defaultProps",{allowExcess:!1,current:0,iconExcess:v.a.createElement("span",{className:"dot excess icon-add"}),iconOff:v.a.createElement("span",{className:"dot empty"}),iconOn:v.a.createElement("span",{className:"dot filled"}),maximum:5,onChange:E.a})},"O+tL":function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n("cFUw"),a=n.n(r),o=n("/hBA"),i=n.n(o),s=n("Nogc"),u=n.n(s),c=n("WEGp"),l=n.n(c),p=n("Amxr"),m=n.n(p),d=n("o1mq"),f=n.n(d),h=n("cEnY"),v=n.n(h),g=n("itEV"),y=n.n(g),E=n("cNEE"),b=n.n(E),C=n("q1tI"),O=n.n(C),A=n("kIQV"),N=n("x6zz"),w=(n("S5k1"),["text","multiline","boolean","number","slider"]),S=function(e){function t(){var e,n;u()(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=m()(this,(e=f()(t)).call.apply(e,[this].concat(o))),b()(v()(n),"state",{editing:!1,resetValue:n.props.value}),b()(v()(n),"getEditorType",function(){var e=n.props.value,t=n.props.type;return void 0!==t&&w.includes(t)?t:"string"===(t=i()(e))?e.includes("\n")?"multiline":"text":["boolean","number"].includes(t)?t:"text"}),b()(v()(n),"resetChanges",function(){n.props.onChange(n.state.resetValue,n.props.value),n.handleToggleEditing()}),b()(v()(n),"createRefWithAutoFocus",function(e){e&&(n.editor=e,"boolean"!==n.getEditorType()&&"function"===typeof e.focus&&e.focus(),["boolean","number"].includes(n.getEditorType())||n.props.forceEditMode&&"function"===typeof e.setSelectionRange&&e.setSelectionRange(e.value.length,e.value.length))}),b()(v()(n),"handleChange",function(e){var t=e.target,r=n.props,a=r.min,o=r.max,i=t.value;switch(n.getEditorType()){case"slider":case"number":i=parseFloat(i||0),Number.isNaN(i)&&(i=n.props.value),i=Object(A.a)(i,{max:o,min:a})}n.props.onChange(i,n.state.resetValue)}),b()(v()(n),"handleKeys",function(e){var t=e.target,r=e.key,a=e.ctrlKey,o=e.metaKey;n.props.onKeyDown!==N.a&&(n.props.onKeyDown(e),e.isDefaultPrevented())||("Escape"===r&&n.resetChanges(),"Enter"===r&&("TEXTAREA"!==t.nodeName||a||o)&&n.handleToggleEditing())}),b()(v()(n),"handleReceivingFocus",function(){n.props.readOnly||n.state.editing||n.handleToggleEditing()}),b()(v()(n),"handleToggleEditing",function(){if(!n.props.readOnly){var e=!n.editing;n.setState({editing:e,resetValue:n.props.value},function(){n.state.editing?n.props.onEditStart():n.props.onEditEnd()})}}),b()(v()(n),"selectOnFocus",function(e){return e.target.select()}),b()(v()(n),"toggleBoolean",function(){n.props.onEditStart(),n.props.onChange(!n.props.value,n.props.value),n.props.onEditEnd()}),b()(v()(n),"renderBoolean",function(){return O.a.createElement("input",{type:"checkbox",checked:Boolean(n.props.value),disabled:n.props.readOnly,onChange:n.toggleBoolean,ref:n.createRefWithAutoFocus})}),b()(v()(n),"renderMultiline",function(){if(!n.editing){var e=(n.props.value||n.props.placeholder).split("\n").map(function(e,t){return O.a.createElement("p",{key:t},e)}),t=["multiline",n.props.value?"":"placeholder"].join(" ").trim();return O.a.createElement("div",{className:t,onClick:n.handleToggleEditing},e)}return O.a.createElement("textarea",{disabled:n.props.readOnly,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,rows:n.props.value.split("\n").length,value:n.props.value})}),b()(v()(n),"renderNumber",function(){return n.editing?O.a.createElement("input",{type:"number",disabled:n.props.readOnly,max:n.props.max,min:n.props.min,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,step:n.props.step,value:n.props.value}):n.renderStatic()}),b()(v()(n),"renderSlider",function(){return O.a.createElement("input",{type:"range",disabled:n.props.readOnly,max:n.props.max,min:n.props.min,onBlur:n.handleToggleEditing,onChange:n.handleChange,onKeyDown:n.props.onKeyDown,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,ref:n.createRefWithAutoFocus,step:n.props.step,value:n.props.value})}),b()(v()(n),"renderText",function(){return n.editing?O.a.createElement("input",{type:"text",disabled:n.props.readOnly,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,value:n.props.value}):n.renderStatic()}),b()(v()(n),"renderStatic",function(){var e=n.props,t=e.placeholder,r=e.readOnlyValue,a=e.value,o=t&&!a,i=void 0!==r?r:a,s=o?"placeholder":"";return O.a.createElement("span",{className:s,onClick:n.handleToggleEditing},o?t:i)}),b()(v()(n),"renderEditor",function(){switch(n.getEditorType()){case"boolean":return n.renderBoolean();case"slider":return n.renderSlider();case"multiline":return n.renderMultiline();case"number":return n.renderNumber();default:return n.renderText()}}),b()(v()(n),"render",function(){var e=n.props,t=e.className,r=e.readOnly,o=["editable",n.editing?"editing":"",t||"",r?"readonly":""].filter(Boolean),i={};return r||n.editing||(i={onFocus:n.handleReceivingFocus,tabIndex:"0"}),O.a.createElement("div",a()({className:o.join(" ")},i),n.renderEditor())}),n}return y()(t,e),l()(t,[{key:"editing",get:function(){return this.props.forceEditMode||this.state.editing}}]),t}(O.a.Component);b()(S,"displayName","Editable"),b()(S,"defaultProps",{className:"",forceEditMode:!1,max:void 0,min:void 0,onChange:N.a,onEditEnd:N.a,onEditStart:N.a,onKeyDown:N.a,onKeyPress:N.a,onKeyUp:N.a,placeholder:"",readOnly:!1,readOnlyValue:void 0,step:1,type:void 0,value:""})},RtsE:function(e,t,n){"use strict";var r=n("/hBA"),a=n.n(r),o=n("f66B"),i=n.n(o),s=n("Ta9u"),u=n("uqjs"),c=/([a-z0-9-_]+)(?![["'\].])*/gi,l=function(e){return"string"!==typeof e?null:e.match(c)},p=function(e,t){if("string"===typeof t){var n=l(t);if(Array.isArray(n)){var r=n.pop(),a=n.reduce(function(e,t){return e[t]||{}},e);return a?a[r]:void 0}}},m=u.types.model("IEditable",{}).volatile(function(){return{isIEditable:!0,savedVersion:{}}}).views(function(e){return{get isDirty(){return!i()(e.toJSON(),e.savedVersion)}}}).actions(function(e){return{afterCreate:function(){e.savedVersion=e.toJSON()},isPathDirty:function(t){var n=p(e.toJSON(),t),r=p(e.savedVersion,t);return!i()(n,r)},markAsClean:function(){e.savedVersion=e.toJSON(),Object.keys(e.savedVersion).forEach(function(t){var n=e[t];n&&(n.isIEditable?n.markAsClean():Object(s.isObservableArray)(n)&&n.forEach(function(e){return e&&e.isIEditable&&e.markAsClean()}))})},reset:function(){Object.assign(e,e.savedVersion)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;"string"===typeof t&&void 0!==n?void 0!==e[t]?e[t]=n:function(e,t,n){var r=l(t),a=r.pop(),o=r.reduce(function(e,t){return e[t]||{}},e);o&&o.isIEditable?o.set(a,n):o[a]=n}(e,t,n):"object"===a()(t)&&void 0===n&&Object.assign(e,t)}}});t.a=m},S5k1:function(e,t,n){},VHFM:function(e,t,n){},YFLu:function(e,t,n){"use strict";var r=n("cNEE"),a=n.n(r),o=n("ubaz"),i=n.n(o),s=n("Ta9u"),u=n("uqjs");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u.types.model({values:u.types.array(e)}).views(function(e){return{get asArray(){return e.values.slice()},get first(){return e.length?e.at(0):void 0},get last(){return e.length?e.at(e.length-1):void 0},get length(){return e.values.length}}}).actions(function(t){return{at:function(e){return t.values[e]},clear:function(){return t.values.clear()},delete:function(e){t.values.replace(t.values.filter(function(t){return t!==e}))},deleteAt:function(e){t.values.replace(t.values.filter(function(t,n){return n!==e}))},every:function(e){return t.values.every(e)},filter:function(e){return t.values.filter(e)},find:function(e){return t.values.find(e)},findBy:function(e,n){return t.find(function(t){return t[e]===n})},findById:function(n){return e.identifierAttribute&&t.find(function(t){return t[e.identifierAttribute]===n})||null},forEach:function(e){return t.values.forEach(e)},includes:function(e,n){return t.values.includes(e,n)},indexOf:function(e){return t.values.indexOf(e)},insert:function(e,n){return t.splice(n,0,e)},map:function(e){return t.values.map(e)},pop:function(){return t.values.pop()},push:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.values.replace([].concat(t.values,n))},reduce:function(e,n){return t.values.reduce(e,n)},replace:function(e){return t.values.replace(e)},shift:function(){return t.values.shift()},slice:function(e,n){return t.values.slice(e,n)},some:function(e){return t.values.some(e)},sortBy:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";if(!["asc","desc"].includes(n))throw new TypeError('direction must be "asc" or "desc", got: "'.concat(n,'"'));var r=t.values.slice().sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var a=String(n instanceof Map?n.get(e):n[e]),o=String(r instanceof Map?r.get(e):r[e]);return t?o.localeCompare(a):a.localeCompare(o)}}(e));return t.values.replace("desc"===n?r.reverse():r),t},splice:function(e,n,r){return t.values.splice(e,n,r)},toObject:function(e,n){return t.values.reduce(function(t,r){var o=r[e],s=void 0!==n?r[n]:r;return i()({},t,a()({},o,"function"===typeof s?s():s))},{})},unshift:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.values.replace([].concat(n,t.values))}}}).postProcessSnapshot(function(e){return e.values});return u.types.custom(i()({},t,{fromSnapshot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.create({values:e})},getValidationMessage:function(t){return t?(Object(s.isObservableArray)(t)||Array.isArray(t))&&t.every(function(t){return e.is(t)})?"":"Collection types must be assigned an array of values or null":""},isTargetType:function(e){return n.is(e)},name:t.name||"Collection"}))}},ZEI3:function(e,t,n){"use strict";var r=n("uqjs"),a=n("vQEy"),o=n("RtsE"),i=n("kcWH");t.a=r.types.compose(i.a,Object(a.a)(),o.a,r.types.model({current:0,maximum:10,name:"New Resource..."})).named("Resource")},ZemV:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return O});var r=n("y9tM"),a=n.n(r),o=n("Nogc"),i=n.n(o),s=n("WEGp"),u=n.n(s),c=n("Amxr"),l=n.n(c),p=n("o1mq"),m=n.n(p),d=n("itEV"),f=n.n(d),h=n("q1tI"),v=n.n(h),g=n("6qfE"),y=n("mcpE"),E=n("mD9I"),b=n("mkTB"),C=n("ITKj"),O=function(e){function t(e){var n;return i()(this,t),(n=l()(this,m()(t).call(this,e))).layout=null,n}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.components,n=a()(e,["components"]);return v.a.createElement(g.MDXTag,{name:"wrapper",components:t},v.a.createElement(g.MDXTag,{name:"h2",components:t,props:{id:"attribute"}},"Attribute"),v.a.createElement(g.MDXTag,{name:"p",components:t},"The ",v.a.createElement(g.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"Attribute")," component displays the ",v.a.createElement(g.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"name")," and ",v.a.createElement(g.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"value")," of an ",v.a.createElement(g.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"Attribute")," model. If this ",v.a.createElement(g.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"Attribute")," model is part of a ",v.a.createElement(g.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"Character"),", it will also display any applicable ",v.a.createElement(g.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"Effect")," modifiers."),v.a.createElement(g.MDXTag,{name:"p",components:t},v.a.createElement(g.MDXTag,{name:"strong",components:t,parentName:"p"},"Note"),": You can hover your mouse over any of the modifier displays to see ",v.a.createElement(g.MDXTag,{name:"em",components:t,parentName:"p"},"which effects")," caused that modifier to be applied."),v.a.createElement(y.Playground,{__position:0,__code:"() => {\n  const character = CharacterModel.create({\n    attributes: [\n      { name: 'Strength', value: 4 },\n      { name: 'Dexterity', value: 3 },\n      { name: 'Stamina', value: 4 },\n      { name: 'Charisma', value: 3 },\n    ],\n    items: [\n      {\n        equipped: true,\n        name: 'Belt of Dwarven Strength',\n        effects: [{ targetId: 'Strength', modifier: 2 }],\n      },\n      {\n        equipped: true,\n        name: \"Potion: Eagle's Splendor\",\n        effects: [{ targetId: 'Charisma', modifier: 2 }],\n      },\n    ],\n    traits: [\n      {\n        name: 'Half Giant',\n        effects: [{ targetId: 'Strength', modifier: 4 }],\n      },\n    ],\n    spells: [\n      {\n        isActive: true,\n        name: 'Curse: Rotting Flesh',\n        effects: [\n          { targetId: 'Stamina', modifier: -2 },\n          { targetId: 'Charisma', modifier: -2 },\n        ],\n      },\n    ],\n  })\n  return (\n    <>\n      <h2>Dexterity</h2>\n      <p>No modifiers.</p>\n      <Attribute model={character.attributes.findBy('name', 'Dexterity')} />\n      <Attribute\n        model={character.attributes.findBy('name', 'Dexterity')}\n        rating\n      />\n      <h2>Strength</h2>\n      <p>+2 from an equipped Item, +4 from a Trait</p>\n      <Attribute model={character.attributes.findBy('name', 'Strength')} />\n      <Attribute\n        model={character.attributes.findBy('name', 'Strength')}\n        rating\n      />\n\n      <h2>Stamina</h2>\n      <p>-2 from a Curse</p>\n      <Attribute model={character.attributes.findBy('name', 'Stamina')} />\n      <Attribute\n        model={character.attributes.findBy('name', 'Stamina')}\n        rating\n      />\n\n      <h2>Charisma</h2>\n      <p>+2 from an equipped Item, -2 from a Curse</p>\n      <Attribute model={character.attributes.findBy('name', 'Charisma')} />\n      <Attribute\n        model={character.attributes.findBy('name', 'Charisma')}\n        rating\n      />\n    </>\n  )\n}",__scope:{props:this?this.props:n,Attribute:E.a,AttributeModel:b.a,CharacterModel:C.a}},function(){var e=C.a.create({attributes:[{name:"Strength",value:4},{name:"Dexterity",value:3},{name:"Stamina",value:4},{name:"Charisma",value:3}],items:[{equipped:!0,name:"Belt of Dwarven Strength",effects:[{targetId:"Strength",modifier:2}]},{equipped:!0,name:"Potion: Eagle's Splendor",effects:[{targetId:"Charisma",modifier:2}]}],traits:[{name:"Half Giant",effects:[{targetId:"Strength",modifier:4}]}],spells:[{isActive:!0,name:"Curse: Rotting Flesh",effects:[{targetId:"Stamina",modifier:-2},{targetId:"Charisma",modifier:-2}]}]});return v.a.createElement(v.a.Fragment,null,v.a.createElement("h2",null,"Dexterity"),v.a.createElement("p",null,"No modifiers."),v.a.createElement(E.a,{model:e.attributes.findBy("name","Dexterity")}),v.a.createElement(E.a,{model:e.attributes.findBy("name","Dexterity"),rating:!0}),v.a.createElement("h2",null,"Strength"),v.a.createElement("p",null,"+2 from an equipped Item, +4 from a Trait"),v.a.createElement(E.a,{model:e.attributes.findBy("name","Strength")}),v.a.createElement(E.a,{model:e.attributes.findBy("name","Strength"),rating:!0}),v.a.createElement("h2",null,"Stamina"),v.a.createElement("p",null,"-2 from a Curse"),v.a.createElement(E.a,{model:e.attributes.findBy("name","Stamina")}),v.a.createElement(E.a,{model:e.attributes.findBy("name","Stamina"),rating:!0}),v.a.createElement("h2",null,"Charisma"),v.a.createElement("p",null,"+2 from an equipped Item, -2 from a Curse"),v.a.createElement(E.a,{model:e.attributes.findBy("name","Charisma")}),v.a.createElement(E.a,{model:e.attributes.findBy("name","Charisma"),rating:!0}))}))}}]),t}(v.a.Component);O.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}},ZwSi:function(e,t,n){"use strict";var r=n("uqjs"),a=n("HyL6"),o=n("YFLu"),i=n("vQEy"),s=n("RtsE"),u=n("kcWH");t.a=r.types.compose(u.a,Object(i.a)(function(e){return e.value}),s.a,r.types.model("Trait",{effects:Object(o.a)(a.a),name:"New Trait...",value:0})).named("Trait")},i9wh:function(e,t,n){},kIQV:function(e,t,n){"use strict";t.a=function(e,t){var n=t.min,r=t.max;return void 0!==n&&e<n?n:void 0!==r&&e>r?r:e}},kcWH:function(e,t,n){"use strict";var r=n("uqjs");var a=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=String(e),r=0;return n.split("").forEach(function(e){r=(r<<5)-r+e.charCodeAt(0),r&=r}),Math.abs(r).toString(t)}(Math.random().toString())};t.a=r.types.model({}).volatile(function(){return{hash:""}}).actions(function(e){return{afterCreate:function(){e.hash=a()}}})},mD9I:function(e,t,n){"use strict";var r,a,o,i=n("Nogc"),s=n.n(i),u=n("WEGp"),c=n.n(u),l=n("Amxr"),p=n.n(l),m=n("o1mq"),d=n.n(m),f=n("cEnY"),h=n.n(f),v=n("itEV"),g=n.n(v),y=n("cNEE"),E=n.n(y),b=n("NbXW"),C=n("uqjs"),O=n("q1tI"),A=n.n(O),N=n("O+tL"),w=n("K0ru"),S=n("kIQV"),j=(n("maIC"),n("x6zz")),I=(n("i9wh"),Object(b.observer)((o=a=function(e){function t(){var e,n;s()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=p()(this,(e=d()(t)).call.apply(e,[this].concat(a))),E()(h()(n),"CACHE",{}),E()(h()(n),"handleSnapshot",function(e){var t=n.props.model.effects().map(function(e){return e.toJSON()});JSON.stringify(t)===JSON.stringify(n.CACHE.effects)&&JSON.stringify(e.conditions)===n.CACHE.conditions&&n.CACHE.value===n.props.model.value()||(n.CACHE.conditions=JSON.stringify(e.conditions),n.CACHE.effects=t,n.CACHE.value=n.props.model.value(),n.forceUpdate())}),E()(h()(n),"handleChangeName",function(e){var t=n.props.model.id;n.props.model.set({name:e}),n.props.model.character.effects().filter(function(e){return e.targetId===t}).forEach(function(e){e.set({targetId:""}),e.set({targetId:n.props.model.id})})}),E()(h()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),E()(h()(n),"handleChangeValue",function(e){var t=String(e).replace(/[^a-z0-9+*()\-\/, ]/gi,"");Number.isNaN(Number(e))||(t=Object(S.a)(Number(e)||"",{max:999,min:-99})),n.props.model.set({raw:t})}),E()(h()(n),"handleCommitValue",function(){""===String(n.props.model.raw)&&n.props.model.set({raw:0})}),E()(h()(n),"handleValueKeyDown",function(e){var t=e.key,r=n.props.model;if(!r.isComputed)switch(t){case"ArrowUp":r.set({raw:r.value()+1});break;case"ArrowDown":r.set({raw:r.value()-1})}}),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(C.onSnapshot)(this.props.model.character,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.rating,r=t.modifiedValue(),a=t.value(),o=["attribute","as-".concat(n?"rating":"numeric"),"".concat(t.isComputed?"is":"not","-computed")].join(" "),i=t.modifier(),s=["modifier",i>0&&"positive",i<0&&"negative",0===i&&"zero"].filter(Boolean).join(" ");return A.a.createElement("div",{className:o},A.a.createElement(N.a,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:t.name}),A.a.createElement(N.a,{className:"value rating",onChange:this.handleChangeValue,onEditEnd:this.handleCommitValue,onKeyDown:this.handleValueKeyDown,readOnlyValue:A.a.createElement(w.a,{allowExcess:!0,current:r,maximum:a}),type:"text",value:t.raw}),A.a.createElement(N.a,{className:"value numeric",onChange:this.handleChangeValue,onEditEnd:this.handleCommitValue,onKeyDown:this.handleValueKeyDown,readOnlyValue:a,type:"text",value:t.raw}),0!==t.effects().length&&A.a.createElement("div",{className:s,title:t.modifierText()},r))}}]),t}(O.Component),E()(a,"defaultProps",{model:{},onDelete:j.a,rating:!1}),E()(a,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}},{display:"icon-sort-value-asc",getter:function(e){return e.modifiedValue()}}]),r=o))||r);t.a=I},maIC:function(e,t,n){"use strict";var r=n("yZWr"),a=n.n(r).a.create();a.import(n("Wbaz")),a.import(n("lFTT")),a.import(n("NEdZ")),a.import(n("EjzI")),a.import(n("rVKH")),a.import(n("QllX")),a.import(n("gV/b")),a.import(n("NU+P")),a.import(n("CaZ0")),a.import(n("N5iU")),a.import(n("O1N0")),a.import(n("BSwV")),a.import(n("itDh")),a.import(n("FC7u")),a.import(n("I5O3")),a.import(n("Z+cb")),a.import(n("R4H5")),a.import(n("ohYX")),a.import(n("ZS3Q")),t.a=a},mkTB:function(e,t,n){"use strict";var r=n("ubaz"),a=n.n(r),o=n("y9tM"),i=n.n(o),s=n("cNEE"),u=n.n(s),c=n("uqjs"),l=n("vQEy"),p=n("RtsE"),m=n("kcWH"),d=n("HcU2"),f=n("maIC"),h=function(e){var t=[];return f.a.parse(e).traverse(function(e){"SymbolNode"!==e.type||t.includes(e.name)||t.push(e.name)}),t};t.a=c.types.compose(m.a,Object(l.a)(function(e){return e.modifiedValue()}),p.a,c.types.model({name:"New Attribute...",raw:c.types.optional(c.types.union(c.types.number,c.types.string),0)}).views(function(e){return{get character(){return Object(d.a)(e,function(e){return e.isCharacter})},get id(){return e.name.split(":").pop().trim().toLowerCase().replace(/[^a-z0-9]/gi,"")},get isComputed(){return"string"===typeof e.raw}}}).actions(function(e){var t=!1;return{effects:function(){return e.character?e.character.activeEffects().filter(function(t){return t.targetId===e.id}):[]},modifiedValue:function(){return(e.value()||0)+e.modifier()},modifier:function(){return f.a.sum(e.effects().map(function(e){return e.modifier}))},modifierText:function(){return e.effects().map(function(e){return"".concat(e.sourceName(),": ").concat(e.modifier)}).join(", ")},value:function(){if(!e.isComputed)return e.raw;if(null===e.character)return 0;if(t)return 0;t=!0;var n=0;try{var r=h(e.raw).reduce(function(t,n){var r=e.character.attributes.findBy("id",n);return Object.assign(t,u()({},n,r?r.modifiedValue():0))},{});n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{defaultSymbolValue:0},r=a()({},t);return h(e).forEach(function(e){void 0===r[e]&&(r[e]=n.defaultSymbolValue)}),f.a.eval(e,r)}(e.raw,r)}catch(o){0,n=0}return t=!1,n}}}).preProcessSnapshot(function(e){var t=e.value,n=i()(e,["value"]);return a()({},n,{raw:t})}).postProcessSnapshot(function(e){var t=e.raw,n=i()(e,["raw"]);return a()({},n,{value:t})})).named("Attribute")},vQEy:function(e,t,n){"use strict";var r=n("uqjs"),a=n("x6zz"),o=n("DODz");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a;return r.types.model({}).volatile(function(){return{isICategorizable:!0}}).views(function(t){function n(){if(!t.name)return[];var e=t.name.split(":");return e.pop(),Object(o.a)(e.map(function(e){return e.trim()}).filter(Boolean)).sort()}var r=t.name,a=n();return{get categories(){return t.name&&t.name!==r?(r=t.name,a=n()):a},get categoryValue(){return e(t)}}})}},vovD:function(e,t,n){"use strict";var r=n("uqjs"),a=n("vQEy"),o=n("RtsE"),i=n("kcWH");t.a=r.types.compose(i.a,Object(a.a)(function(e){return e.mastery}),o.a,r.types.model({mastery:1,name:"New Skill...",theory:0}).views(function(e){return{get isComplex(){return 0!==e.theory},get isSimple(){return 0===e.theory}}})).named("Skill")},x6zz:function(e,t,n){"use strict";t.a=function(){}}},0,[0,1,2,12,14,7,8,15,5,9,10,11,13,6]]);
//# sourceMappingURL=components-attribute-attribute.15df6c647993d56e296e.js.map