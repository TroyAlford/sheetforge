(window.webpackJsonpsheetforge=window.webpackJsonpsheetforge||[]).push([[12],{HYkr:function(e,t,n){},Zsyy:function(e,t,n){},kvEc:function(e,t,n){},wwUJ:function(e,t,n){"use strict";n.r(t);var a,o,r,i,s,c=n("y9tM"),l=n.n(c),p=n("q1tI"),u=n.n(p),h=n("6qfE"),m=(n("mcpE"),n("uqjs")),d=n("ITKj"),y=n("YFLu"),f=n("RtsE"),v=n("kcWH"),S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return m.types.optional(m.types.refinement(m.types.number,function(n){return void 0===n||n>=e&&n<=t}),n)},C=m.types.compose(v.a,f.a,m.types.model({children:Object(y.a)(m.types.late(function(){return C})),colSpan:S(1,4,1),columns:S(1,4,1),filter:m.types.maybe(m.types.string),sortOption:m.types.maybe(m.types.number),title:m.types.union(m.types.maybe(m.types.string),m.types.literal(!1)),type:m.types.maybe(m.types.string)})).named("Layout"),E=C,g=n("cFUw"),b=n.n(g),w=n("Nogc"),k=n.n(w),D=n("WEGp"),N=n.n(D),O=n("Amxr"),A=n.n(O),I=n("o1mq"),J=n.n(I),M=n("itEV"),z=n.n(M),H=n("cEnY"),T=n.n(H),j=n("cNEE"),x=n.n(j),R=n("NbXW"),U=n("mD9I"),W=n("Ut7+"),L=n("a4BR"),B=n("gtIf"),q=n("p0Pd"),P=n("wryK"),Y=n("b/z0"),Z=n("8qIS"),F=n("M/4f"),X={Attribute:U.a,Descriptor:W.a,Effect:L.a,Health:B.a,Item:q.a,Resource:P.a,Skill:Y.a,Spell:Z.a,Trait:F.a},K=n("O+tL"),V=n("I7n6"),G=(n("Zsyy"),Object(R.observer)((o=a=function(e){function t(){var e,n;k()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=A()(this,(e=J()(t)).call.apply(e,[this].concat(o))),x()(T()(T()(n)),"CACHE",{}),x()(T()(T()(n)),"handleSnapshot",function(){var e=n.props.model.availableConditions(),t=n.props.model.conditions.asArray;JSON.stringify(e)===JSON.stringify(n.CACHE.availableConditions)&&JSON.stringify(t)===JSON.stringify(n.CACHE.conditions)||(n.CACHE.availableConditions=e,n.CACHE.conditions=t,n.forceUpdate())}),x()(T()(T()(n)),"handleCheckbox",function(e,t){var a=n.props.model.conditions;t&&!a.includes(e)?a.push(e):"function"===typeof a.delete?a.delete(e):a.splice(a.indexOf(e),1),n.forceUpdate()}),x()(T()(T()(n)),"renderCondition",function(e){var t=n.props.model.conditions.includes(e);return u.a.createElement("div",{key:e,className:"condition ".concat(t?"current":"available")},u.a.createElement(K.a,{className:"current",onChange:function(t){return n.handleCheckbox(e,t)},value:t}),u.a.createElement("div",{className:"name"},e))}),n}return z()(t,e),N()(t,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(m.onSnapshot)(this.props.model,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){return u.a.createElement("div",{className:"conditions"},u.a.createElement(V.a,null,this.props.model.availableConditions().map(this.renderCondition)))}}]),t}(p.Component),x()(a,"defaultProps",{model:{}}),o))),Q=n("x6zz"),$=(n("kvEc"),function(e){function t(){var e,n;k()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=A()(this,(e=J()(t)).call.apply(e,[this].concat(o))),x()(T()(T()(n)),"titleBar",u.a.createRef()),x()(T()(T()(n)),"onSnapshotDisposer",Q.a),x()(T()(T()(n)),"snapshot",null),x()(T()(T()(n)),"handleChangeTitle",function(e){return n.props.model.set({title:e})}),n}return z()(t,e),N()(t,[{key:"componentDidMount",value:function(){var e=this;this.onSnapshotDisposer=Object(m.onSnapshot)(this.props.model,function(t){var n=JSON.stringify(t);e.snapshot!==n&&(e.snapshot=n,e.forceUpdate())}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.parentColumns,a=this.props.model,o=a.colSpan,r=a.title;return u.a.createElement("div",{className:"layout",style:{width:"calc(100%/".concat(n,"*").concat(o,")")}},void 0===r?t:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"title-bar",ref:this.titleBar},u.a.createElement(K.a,{className:"title",onChange:this.handleChangeTitle,placeholder:"Section Title",value:r})),u.a.createElement(V.a,{expandByDefault:!0,omitItemWrapper:!0,toggleButtonParent:this.titleBar.current},t)))}}]),t}(p.Component)),_=n("t524"),ee=n("mkTB"),te=n("AD/C"),ne=n("HyL6"),ae=n("+bV0"),oe=n("Afd3"),re=n("ZEI3"),ie=n("vovD"),se=n("JCrA"),ce=n("ZwSi"),le={Attribute:ee.a,Descriptor:te.a,Effect:ne.a,HealthLevel:ae.a,Item:oe.a,Resource:re.a,Skill:ie.a,Spell:se.a,Trait:ce.a},pe=(n("HYkr"),Object(R.observer)((s=i=function(e){function t(e){var n;return k()(this,t),n=A()(this,J()(t).call(this,e)),x()(T()(T()(n)),"state",{size:"large"}),x()(T()(T()(n)),"handleWindowResize",function(){var e="large";window.matchMedia("(min-width: 5in) and (max-width: 7.5in)").matches?e="medium":window.matchMedia("(max-width: 5in)").matches&&(e="small"),e!==n.state.size&&n.setState({size:e})}),x()(T()(T()(n)),"renderComponent",function(e,t,a){if(t.type){var o=t.title,r=t.type.toLowerCase(),i=Object(_.a)(le[t.type],X[t.type],{className:"".concat(r,"-list")}),s=n.props.character["".concat(r,"s")];return u.a.createElement(i,b()({key:a,layout:t,title:o},{collection:s,columns:t.columns}))}return u.a.createElement($,{key:t.hash,model:t,parentColumns:e.columns},t.children.map(function(e,a){return n.renderComponent(t,e,a)}))}),n.onCharacterSnapshotDisposer=Object(m.onSnapshot)(n.props.character,function(e){n.props.onChange(e,n.props.layout.toJSON(),T()(T()(n)))}),n.onLayoutSnapshotDisposer=Object(m.onSnapshot)(n.props.layout,function(e){n.props.onChange(n.props.character.toJSON(),e,T()(T()(n)))}),window.addEventListener("resize",n.handleWindowResize),n}return z()(t,e),N()(t,[{key:"componentDidMount",value:function(){this.handleWindowResize(),this.props.onMount(this)}},{key:"componentWillUnmount",value:function(){this.onCharacterSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.character,n=e.layout,a=this.state.size;return u.a.createElement("div",{className:"sheetforge sheet ".concat(a)},u.a.createElement(G,{model:t}),n.children.map(this.renderComponent.bind(null,n)))}}]),t}(u.a.Component),x()(i,"defaultProps",{character:{},onChange:Q.a,onMount:Q.a}),r=s))||r);t.default=function(e){var t=e.components;l()(e,["components"]);return u.a.createElement(h.MDXTag,{name:"wrapper",components:t},u.a.createElement(h.MDXTag,{name:"h2",components:t,props:{id:"character-sheet"}},"Character Sheet"),u.a.createElement(pe,{layout:E.create({children:[{title:"Descriptors",children:[{columns:3,type:"Descriptor"}]},{title:"Attributes",children:[{columns:4,type:"Attribute"}]},{columns:3,children:[{colSpan:1,children:[{title:"Traits",children:[{type:"Trait"}]},{title:"Resources",children:[{type:"Resource"}]}]},{colSpan:2,children:[{title:"Skills",children:[{columns:2,type:"Skill"}]},{title:"Items",children:[{columns:1,type:"Item"}]},{title:"Spells",children:[{columns:1,type:"Spell"}]}]}]}]}),character:d.a.create({}),onChange:function(e,t){localStorage.setItem("sf-example",JSON.stringify({character:e,layout:t}))},onMount:function(e){var t=localStorage.getItem("sf-example");if(t){var n=JSON.parse(t);e.props.character.set(n.character),e.props.layout.set(n.layout)}}}))}}}]);
//# sourceMappingURL=components-sheet-sheet.d49993c9a3d1fa48761a.js.map