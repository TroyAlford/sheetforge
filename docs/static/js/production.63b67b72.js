!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define("sheetforge",[],t):"object"===typeof exports?exports.sheetforge=t():e.sheetforge=t()}(window,function(){return(window.webpackJsonpsheetforge=window.webpackJsonpsheetforge||[]).push([[16],{"05fm":function(e,t,r){"use strict";r.r(t);var n=r("ITKj");r("H3yI");t.default=n.a},"AD/C":function(e,t,r){"use strict";var n=r("uqjs"),a=r("vQEy"),i=r("RtsE"),u=r("kcWH");t.a=n.types.compose(u.a,Object(a.a)(),i.a,n.types.model({name:"New Descriptor...",value:""})).named("Descriptor")},Afd3:function(e,t,r){"use strict";var n=r("uqjs"),a=r("HyL6"),i=r("YFLu"),u=r("vQEy"),o=r("RtsE"),c=r("kcWH");t.a=n.types.compose(c.a,Object(u.a)(),o.a,n.types.model({description:"",effects:Object(i.a)(a.a),equipped:!1,name:"New Item..."})).named("Item")},DODz:function(e,t,r){"use strict";t.a=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e,t,r){return r.indexOf(e)===t})}},H3yI:function(e,t,r){},HcU2:function(e,t,r){"use strict";var n=r("uqjs");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;if(!Object(n.hasParent)(e))return null;for(var r=Object(n.getParent)(e);r;){if(t(r))return r;if(!Object(n.hasParent)(r))return null;r=Object(n.getParent)(r)}return null}},HyL6:function(e,t,r){"use strict";var n=r("uqjs"),a=r("mkTB"),i=r("YFLu"),u=r("RtsE"),o=r("kcWH"),c=r("HcU2");t.a=n.types.compose(o.a,u.a,n.types.model({condition:"",modifier:0,targetId:""}).actions(function(e){return{afterAttach:function(){!e.targetId&&e.available().length&&(e.targetId=e.available().first.id)},available:function(){var t=e.character();return t?t.attributes:Object(i.a)(a.a).create([])},character:function(){return Object(c.a)(e,function(e){return e.isCharacter})},isApplicable:function(){var t=e.character();return Boolean(!e.condition||t&&t.conditions.includes(e.condition))},source:function(){return Object(c.a)(e,function(e){return e.name})||null},sourceName:function(){return e.source()?e.source().name:"Unknown"},target:function(){var t=e.character();return t?t.attributes.findBy("name",e.targetId):null}}})).named("Effect")},ITKj:function(e,t,r){"use strict";var n=r("uqjs"),a=r("mkTB"),i=r("AD/C"),u=r("YFLu"),o=r("RtsE"),c=r("kcWH"),s=r("Afd3"),f=r("ZEI3"),l=r("vovD"),v=r("JCrA"),p=r("ZwSi");t.a=n.types.compose(c.a,o.a,n.types.model({attributes:Object(u.a)(a.a),conditions:Object(u.a)(n.types.string),descriptors:Object(u.a)(i.a),experience:0,items:Object(u.a)(s.a),resources:Object(u.a)(f.a),skills:Object(u.a)(l.a),spells:Object(u.a)(v.a),traits:Object(u.a)(p.a)}).volatile(function(){return{isCharacter:!0}}).actions(function(e){return{activeEffects:function(){return e.effects().filter(function(e){return e&&e.isApplicable()})},availableConditions:function(){return e.effects().map(function(e){return e.condition}).concat(e.conditions.asArray).sort().filter(function(e,t,r){return!t||e!==r[t-1]}).filter(Boolean)},effects:function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(!t||!Array.isArray(t))throw new TypeError("cannot flatten non-Array value ".concat(JSON.stringify(t)));return t.reduce(function(t,n){return r>1&&n&&Array.isArray(n)?t.concat(e(n,r-1)):t.concat(n)},[])}([e.traits.filter(Boolean).map(function(e){return e.effects.values}),e.spells.filter(function(e){return e.isActive}).map(function(e){return e.effects.values}),e.items.filter(function(e){return e.equipped}).map(function(e){return e.effects.values})]).filter(Boolean)}}})).named("Character")},ITnf:function(e,t,r){"use strict";var n=r("uqjs"),a=r("YFLu"),i=r("RtsE"),u=r("kcWH"),o=r("ZEI3"),c=r("HcU2");t.a=n.types.compose(u.a,i.a,n.types.model({amount:0,resourceName:""}).views(function(e){return{get available(){return e.character?e.character.resources:Object(a.a)(o.a).create([])},get character(){return Object(c.a)(e,function(e){return e.isCharacter})}}}).actions(function(e){return{afterAttach:function(){!e.resourceName&&e.available.length&&(e.resourceName=e.available.first.name)},resource:function(){return e.character?e.character.resources.findBy("name",e.resourceName):null}}})).named("Cost")},JCrA:function(e,t,r){"use strict";var n=r("uqjs"),a=r("HyL6"),i=r("YFLu"),u=r("vQEy"),o=r("RtsE"),c=r("kcWH"),s=r("ITnf"),f=r("HcU2");t.a=n.types.compose(c.a,Object(u.a)(function(e){return e.level}),o.a,n.types.model({costs:Object(i.a)(s.a),description:"",effects:Object(i.a)(a.a),isActive:!1,level:0,name:"New Spell..."}).views(function(e){return{get character(){return Object(f.a)(e,function(e){return e.isCharacter})}}}).actions(function(e){return{cast:function(){e.isAffordable()&&e.costs.forEach(function(e){var t=e.resource();t.set({current:t.current-e.amount})})},isAffordable:function(){return!e.character||!e.costs.length||e.costs.every(function(e){return e.resource()&&e.resource().current>=e.amount})}}})).named("Spell")},RtsE:function(e,t,r){"use strict";var n=r("/hBA"),a=r.n(n),i=r("f66B"),u=r.n(i),o=r("Ta9u"),c=r("uqjs"),s=/([a-z0-9-_]+)(?![["'\].])*/gi,f=function(e){return"string"!==typeof e?null:e.match(s)},l=function(e,t){if("string"===typeof t){var r=f(t);if(Array.isArray(r)){var n=r.pop(),a=r.reduce(function(e,t){return e[t]||{}},e);return a?a[n]:void 0}}},v=c.types.model("IEditable",{}).volatile(function(){return{isIEditable:!0,savedVersion:{}}}).views(function(e){return{get isDirty(){return!u()(e.toJSON(),e.savedVersion)}}}).actions(function(e){return{afterCreate:function(){e.savedVersion=e.toJSON()},isPathDirty:function(t){var r=l(e.toJSON(),t),n=l(e.savedVersion,t);return!u()(r,n)},markAsClean:function(){e.savedVersion=e.toJSON(),Object.keys(e.savedVersion).forEach(function(t){var r=e[t];r&&(r.isIEditable?r.markAsClean():Object(o.isObservableArray)(r)&&r.forEach(function(e){return e&&e.isIEditable&&e.markAsClean()}))})},reset:function(){Object.assign(e,e.savedVersion)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;"string"===typeof t&&void 0!==r?void 0!==e[t]?e[t]=r:function(e,t,r){var n=f(t),a=n.pop(),i=n.reduce(function(e,t){return e[t]||{}},e);i&&i.isIEditable?i.set(a,r):i[a]=r}(e,t,r):"object"===a()(t)&&void 0===r&&Object.assign(e,t)}}});t.a=v},YFLu:function(e,t,r){"use strict";var n=r("cNEE"),a=r.n(n),i=r("ubaz"),u=r.n(i),o=r("Ta9u"),c=r("uqjs");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c.types.model({values:c.types.array(e)}).views(function(e){return{get asArray(){return e.values.slice()},get first(){return e.length?e.at(0):void 0},get last(){return e.length?e.at(e.length-1):void 0},get length(){return e.values.length}}}).actions(function(t){return{at:function(e){return t.values[e]},clear:function(){return t.values.clear()},delete:function(e){t.values.replace(t.values.filter(function(t){return t!==e}))},deleteAt:function(e){t.values.replace(t.values.filter(function(t,r){return r!==e}))},every:function(e){return t.values.every(e)},filter:function(e){return t.values.filter(e)},find:function(e){return t.values.find(e)},findBy:function(e,r){return t.find(function(t){return t[e]===r})},findById:function(r){return e.identifierAttribute&&t.find(function(t){return t[e.identifierAttribute]===r})||null},forEach:function(e){return t.values.forEach(e)},includes:function(e,r){return t.values.includes(e,r)},indexOf:function(e){return t.values.indexOf(e)},insert:function(e,r){return t.splice(r,0,e)},map:function(e){return t.values.map(e)},pop:function(){return t.values.pop()},push:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.values.replace([].concat(t.values,r))},reduce:function(e,r){return t.values.reduce(e,r)},replace:function(e){return t.values.replace(e)},shift:function(){return t.values.shift()},slice:function(e,r){return t.values.slice(e,r)},some:function(e){return t.values.some(e)},sortBy:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";if(!["asc","desc"].includes(r))throw new TypeError('direction must be "asc" or "desc", got: "'.concat(r,'"'));var n=t.values.slice().sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r,n){var a=String(r instanceof Map?r.get(e):r[e]),i=String(n instanceof Map?n.get(e):n[e]);return t?i.localeCompare(a):a.localeCompare(i)}}(e));return t.values.replace("desc"===r?n.reverse():n),t},splice:function(e,r,n){return t.values.splice(e,r,n)},toObject:function(e,r){return t.values.reduce(function(t,n){var i=n[e],o=void 0!==r?n[r]:n;return u()({},t,a()({},i,"function"===typeof o?o():o))},{})},unshift:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.values.replace([].concat(r,t.values))}}}).postProcessSnapshot(function(e){return e.values});return c.types.custom(u()({},t,{fromSnapshot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.create({values:e})},getValidationMessage:function(t){return t?(Object(o.isObservableArray)(t)||Array.isArray(t))&&t.every(function(t){return e.is(t)})?"":"Collection types must be assigned an array of values or null":""},isTargetType:function(e){return r.is(e)},name:t.name||"Collection"}))}},ZEI3:function(e,t,r){"use strict";var n=r("uqjs"),a=r("vQEy"),i=r("RtsE"),u=r("kcWH");t.a=n.types.compose(u.a,Object(a.a)(),i.a,n.types.model({current:0,maximum:10,name:"New Resource..."})).named("Resource")},ZwSi:function(e,t,r){"use strict";var n=r("uqjs"),a=r("HyL6"),i=r("YFLu"),u=r("vQEy"),o=r("RtsE"),c=r("kcWH");t.a=n.types.compose(c.a,Object(u.a)(function(e){return e.value}),o.a,n.types.model("Trait",{effects:Object(i.a)(a.a),name:"New Trait...",value:0})).named("Trait")},kcWH:function(e,t,r){"use strict";var n=r("uqjs");var a=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=String(e),n=0;return r.split("").forEach(function(e){n=(n<<5)-n+e.charCodeAt(0),n&=n}),Math.abs(n).toString(t)}(Math.random().toString())};t.a=n.types.model({}).volatile(function(){return{hash:""}}).actions(function(e){return{afterCreate:function(){e.hash=a()}}})},maIC:function(e,t,r){"use strict";var n=r("yZWr"),a=r.n(n).a.create();a.import(r("Wbaz")),a.import(r("lFTT")),a.import(r("NEdZ")),a.import(r("EjzI")),a.import(r("rVKH")),a.import(r("QllX")),a.import(r("gV/b")),a.import(r("NU+P")),a.import(r("CaZ0")),a.import(r("N5iU")),a.import(r("O1N0")),a.import(r("BSwV")),a.import(r("itDh")),a.import(r("FC7u")),a.import(r("I5O3")),a.import(r("Z+cb")),a.import(r("R4H5")),a.import(r("ohYX")),a.import(r("ZS3Q")),t.a=a},mkTB:function(e,t,r){"use strict";var n=r("ubaz"),a=r.n(n),i=r("y9tM"),u=r.n(i),o=r("cNEE"),c=r.n(o),s=r("uqjs"),f=r("vQEy"),l=r("RtsE"),v=r("kcWH"),p=r("HcU2"),d=r("maIC"),m=function(e){var t=[],r=[];return d.a.parse(e).traverse(function(e){e.fn&&t.push(e.fn.name),"SymbolNode"!==e.type||r.includes(e.name)||t.includes(e.name)||r.push(e.name)}),r};t.a=s.types.compose(v.a,Object(f.a)(function(e){return e.modifiedValue()}),l.a,s.types.model({name:"New Attribute...",raw:s.types.optional(s.types.union(s.types.number,s.types.string),0)}).views(function(e){return{get character(){return Object(p.a)(e,function(e){return e.isCharacter})},get id(){return e.name.split(":").pop().trim().toLowerCase().replace(/[^a-z0-9]/gi,"")},get isComputed(){return"string"===typeof e.raw}}}).actions(function(e){var t=!1;return{effects:function(){return e.character?e.character.activeEffects().filter(function(t){return t.targetId===e.id}):[]},modifiedValue:function(){return(e.value()||0)+e.modifier()},modifier:function(){return d.a.sum(e.effects().map(function(e){return e.modifier}))},modifierText:function(){return e.effects().map(function(e){return"".concat(e.sourceName(),": ").concat(e.modifier)}).join(", ")},value:function(){if(!e.isComputed)return e.raw;if(null===e.character)return 0;if(t)return 0;t=!0;var r=0;try{var n=m(e.raw).reduce(function(t,r){var n=e.character.attributes.findBy("id",r);return Object.assign(t,c()({},r,n?n.modifiedValue():0))},{});r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{defaultSymbolValue:0},n=a()({},t);return m(e).forEach(function(e){void 0===n[e]&&(n[e]=r.defaultSymbolValue)}),d.a.eval(e,n)}(e.raw,n)}catch(i){0,r=0}return t=!1,r}}}).preProcessSnapshot(function(e){var t=e.value,r=u()(e,["value"]);return a()({},r,{raw:t})}).postProcessSnapshot(function(e){var t=e.raw,r=u()(e,["raw"]);return a()({},r,{value:t})})).named("Attribute")},vQEy:function(e,t,r){"use strict";var n=r("uqjs"),a=r("x6zz"),i=r("DODz");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a;return n.types.model({}).volatile(function(){return{isICategorizable:!0}}).views(function(t){function r(){if(!t.name)return[];var e=t.name.split(":");return e.pop(),Object(i.a)(e.map(function(e){return e.trim()}).filter(Boolean)).sort()}var n=t.name,a=r();return{get categories(){return t.name&&t.name!==n?(n=t.name,a=r()):a},get categoryValue(){return e(t)}}})}},vovD:function(e,t,r){"use strict";var n=r("uqjs"),a=r("vQEy"),i=r("RtsE"),u=r("kcWH");t.a=n.types.compose(u.a,Object(a.a)(function(e){return e.mastery}),i.a,n.types.model({mastery:1,name:"New Skill...",theory:0}).views(function(e){return{get isComplex(){return 0!==e.theory},get isSimple(){return 0===e.theory}}})).named("Skill")},x6zz:function(e,t,r){"use strict";t.a=function(){}}},[["05fm",18,0]]])});
//# sourceMappingURL=production.f21d13b3192c6511678b.js.map