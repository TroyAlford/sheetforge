exports.ids=[15],exports.modules={"0dDA":function(e,t,n){},"1T+A":function(e,t,n){"use strict";n.d(t,"a",function(){return N});var a=n("b696"),r=n.n(a),o=n("Nogc"),i=n.n(o),l=n("WEGp"),s=n.n(l),c=n("Amxr"),u=n.n(c),p=n("o1mq"),d=n.n(p),m=n("cEnY"),h=n.n(m),f=n("itEV"),g=n.n(f),v=n("cNEE"),y=n.n(v),E=n("q1tI"),x=n.n(E),C=n("x6zz"),N=(n("djCb"),function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(o))),y()(h()(n),"state",{selected:null}),y()(h()(n),"handleOptionClick",function(e){var t=e.target,a=r()(t.parentElement.children).indexOf(t),o=n.props.options[a];void 0!==n.props.selected?n.props.onChange(o):n.setState({selected:o})}),n}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.options,r=void 0!==this.props.selected?this.props.selected:this.state.selected;return x.a.createElement("div",{className:"multi-toggle ".concat(n).trim()},a.map(function(t,n){return x.a.createElement("div",{className:"toggle ".concat(t===r?"on":"off").trim(),key:n,onClick:e.handleOptionClick},t.display)}))}}]),t}(E.Component));y()(N,"defaultProps",{className:"",onChange:C.a,options:[],selected:void 0})},"5UjR":function(e,t,n){},BSti:function(e,t,n){"use strict";function a(e,t,n){var a,r=this;return function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];var s=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(r,i)},t),s&&e.apply(r,i)}}n.d(t,"a",function(){return a})},I7n6:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n("cFUw"),r=n.n(a),o=n("Nogc"),i=n.n(o),l=n("WEGp"),s=n.n(l),c=n("Amxr"),u=n.n(c),p=n("o1mq"),d=n.n(p),m=n("cEnY"),h=n.n(m),f=n("itEV"),g=n.n(f),v=n("cNEE"),y=n.n(v),E=n("q1tI"),x=n.n(E),C=n("i8i4"),N=n("x6zz"),b=(n("0dDA"),function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r))),y()(h()(n),"state",{expanded:!1}),y()(h()(n),"expander",x.a.createRef()),y()(h()(n),"handleToggle",function(){var e=n.expander.current.parentElement.classList,t=n.state.expanded;n.setState({expanded:!t},function(){n.props.onToggle(!t),e[t?"remove":"add"]("expanded")})}),y()(h()(n),"renderExpanded",function(){var e=n.props,t=e.children;return e.omitItemWrapper?t:x.a.createElement("div",{className:"expandable"}," ",t)}),n}return g()(t,e),s()(t,[{key:"componentWillMount",value:function(){this.setState({expanded:this.props.expandByDefault})}},{key:"componentDidMount",value:function(){this.expander.current.parentElement.classList.add("expandable-wrapper")}},{key:"render",value:function(){var e=this.props,t=e.toggleButtonParent,n=e.toggleButtonText,a=this.state.expanded?"expanded":"collapsed",o={className:"expandable-toggle icon-".concat(a),onClick:this.handleToggle,ref:this.expander},i=x.a.createElement("div",r()({},o,{text:n}));return x.a.createElement(E.Fragment,null,t?Object(C.createPortal)(i,t):i,this.state.expanded&&this.renderExpanded())}}]),t}(E.Component));y()(b,"defaultProps",{expandByDefault:!1,omitItemWrapper:!1,onToggle:N.a,toggleButtonParent:null,toggleButtonText:""})},"M/4f":function(e,t,n){"use strict";var a,r,o,i=n("Nogc"),l=n.n(i),s=n("WEGp"),c=n.n(s),u=n("Amxr"),p=n.n(u),d=n("o1mq"),m=n.n(d),h=n("cEnY"),f=n.n(h),g=n("itEV"),v=n.n(g),y=n("cNEE"),E=n.n(y),x=n("NbXW"),C=n("q1tI"),N=n.n(C),b=n("O+tL"),A=n("a4BR"),O=n("I7n6"),S=n("t524"),T=n("HyL6"),D=n("x6zz"),I=(n("sxfZ"),Object(S.a)(T.a,A.a)),k=Object(x.observer)((o=r=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=p()(this,(e=m()(t)).call.apply(e,[this].concat(r))),E()(f()(n),"handleChangeName",function(e){return n.props.model.set({name:e})}),E()(f()(n),"handleChangeValue",function(e){return n.props.model.set({value:e})}),E()(f()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props.model;return N.a.createElement("div",{className:"trait"},N.a.createElement(b.a,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:t.name}),N.a.createElement(b.a,{className:"value",max:999,min:-99,onChange:this.handleChangeValue,value:t.value}),N.a.createElement(O.a,{onToggle:function(n){return e.props.onToggleExpanded(t.hash,n)}},N.a.createElement(I,{collection:t.effects,title:"Effects"})))}}]),t}(C.Component),E()(r,"defaultProps",{model:{},onDelete:D.a,onToggleExpanded:D.a}),E()(r,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}},{display:"icon-sort-value-asc",getter:function(e){return e.value}}]),a=o))||a;t.a=k},a4BR:function(e,t,n){"use strict";var a,r,o,i=n("Nogc"),l=n.n(i),s=n("WEGp"),c=n.n(s),u=n("Amxr"),p=n.n(u),d=n("o1mq"),m=n.n(d),h=n("cEnY"),f=n.n(h),g=n("itEV"),v=n.n(g),y=n("cNEE"),E=n.n(y),x=n("NbXW"),C=n("q1tI"),N=n.n(C),b=n("O+tL"),A=(n("5UjR"),Object(x.observer)((o=r=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=p()(this,(e=m()(t)).call.apply(e,[this].concat(r))),E()(f()(n),"handleChangeCondition",function(e){return n.props.model.set({condition:e})}),E()(f()(n),"handleChangeModifier",function(e){return n.props.model.set({modifier:e})}),E()(f()(n),"handleChangeTarget",function(e){var t=e.target.value;return n.props.model.set({targetId:t})}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.model,t=e.available,n=e.condition,a=void 0===n?"":n,r=e.isApplicable,o=e.modifier,i=e.targetId;return N.a.createElement("div",{className:"effect ".concat(r?"applicable":"").trim()},N.a.createElement("select",{className:"target",value:i,onChange:this.handleChangeTarget},t().map(function(e){var t=e.hash,n=e.id,a=e.name;return N.a.createElement("option",{key:t,value:n},a)})),N.a.createElement(b.a,{className:"modifier",max:999,min:-99,onChange:this.handleChangeModifier,value:o}),N.a.createElement(b.a,{className:"condition",onChange:this.handleChangeCondition,placeholder:"Any",value:a}))}}]),t}(C.Component),E()(r,"defaultProps",{model:{}}),E()(r,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return[!e.targetId,e.targetId]}},{display:"icon-sort-value-asc",getter:function(e){return[!e.condition,e.modifier]}}]),a=o))||a);t.a=A},djCb:function(e,t,n){},e8LY:function(e,t,n){},lfjU:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return N});var a=n("y9tM"),r=n.n(a),o=n("Nogc"),i=n.n(o),l=n("WEGp"),s=n.n(l),c=n("Amxr"),u=n.n(c),p=n("o1mq"),d=n.n(p),m=n("itEV"),h=n.n(m),f=n("q1tI"),g=n.n(f),v=n("6qfE"),y=n("mcpE"),E=n("ITKj"),x=n("M/4f"),C=n("ZwSi"),N=function(e){function t(e){var n;return i()(this,t),(n=u()(this,d()(t).call(this,e))).layout=null,n}return h()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.components,n=r()(e,["components"]);return g.a.createElement(v.MDXTag,{name:"wrapper",components:t},g.a.createElement(v.MDXTag,{name:"h2",components:t,props:{id:"trait"}},"Trait"),g.a.createElement(y.Playground,{__position:0,__code:"() => {\n  const character = Character.create({\n    attributes: [\n      { name: 'Strength', value: 2 },\n      { name: 'Dexterity', value: 4 },\n      { name: 'Perception', value: 3 },\n    ],\n    traits: [\n      { name: 'Magical Aptitude', value: 4 },\n      {\n        effects: [\n          {\n            condition: 'Vision-based',\n            modifier: -5,\n            modifies: 'Perception',\n          },\n        ],\n        name: 'Blind',\n        value: -3,\n      },\n    ],\n  })\n  return (\n    <>\n      <Trait model={character.traits.at(0)} />\n      <Trait model={character.traits.at(1)} />\n    </>\n  )\n}",__scope:{props:this?this.props:n,Character:E.a,Trait:x.a,TraitModel:C.a}},function(){var e=E.a.create({attributes:[{name:"Strength",value:2},{name:"Dexterity",value:4},{name:"Perception",value:3}],traits:[{name:"Magical Aptitude",value:4},{effects:[{condition:"Vision-based",modifier:-5,modifies:"Perception"}],name:"Blind",value:-3}]});return g.a.createElement(g.a.Fragment,null,g.a.createElement(x.a,{model:e.traits.at(0)}),g.a.createElement(x.a,{model:e.traits.at(1)}))}))}}]),t}(g.a.Component);N.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}},sxfZ:function(e,t,n){},t524:function(e,t,n){"use strict";var a=n("b696"),r=n.n(a),o=n("cFUw"),i=n.n(o),l=n("Nogc"),s=n.n(l),c=n("WEGp"),u=n.n(c),p=n("Amxr"),d=n.n(p),m=n("o1mq"),h=n.n(m),f=n("cEnY"),g=n.n(f),v=n("itEV"),y=n.n(v),E=n("cNEE"),x=n.n(E),C=n("ubaz"),N=n.n(C),b=n("uqjs"),A=n("q1tI"),O=n.n(A),S=n("U/5H"),T=n.n(S),D=n("1T+A"),I=n("YFLu"),k=n("BSti"),z=n("x6zz"),M=n("DODz"),j=(n("e8LY"),"Uncategorized"),W=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){var r=e(n),o=e(a);if(Array.isArray(r)&&Array.isArray(o)){for(var i=0;i<r.length;i+=1)if(r[i]!==o[i])return t?o[i]<r[i]?-1:1:r[i]<o[i]?-1:1;return 0}if("number"===typeof r&&"number"===typeof o)return r===o?0:t?o<r?-1:1:r<o?-1:1;var l=String(r),s=String(o);return t?s.localeCompare(l):l.localeCompare(s)}};t.a=function(e,t){var n,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(t.sortOptions||[]).map(function(e){return N()({},e,{comparitor:W(e.getter),display:"string"===typeof e.display?O.a.createElement("span",{className:e.display}):e.display})});return a=n=function(n){function a(){var n,o;s()(this,a);for(var c=arguments.length,u=new Array(c),p=0;p<c;p++)u[p]=arguments[p];return o=d()(this,(n=h()(a)).call.apply(n,[this].concat(u))),x()(g()(o),"Component",t),x()(g()(o),"Model",e),x()(g()(o),"container",O.a.createRef()),x()(g()(o),"expandedItems",{}),x()(g()(o),"filterEl",O.a.createRef()),x()(g()(o),"onDataSnapshotDisposer",z.a),x()(g()(o),"onLayoutSnapshotDisposer",z.a),x()(g()(o),"sortable",null),x()(g()(o),"state",{expanded:{},sortOption:null}),x()(g()(o),"getCategoryItems",function(e,t){return t&&t!==j?e.filter(function(e){return(e.categories||[]).includes(t)}):e.filter(function(e){return 0===(e.categories||[]).length})}),x()(g()(o),"handleAdd",function(){o.props.collection.push(e.create({})),o.forceUpdate()}),x()(g()(o),"handleDelete",function(e){var t=e.target,n=parseInt(t.parentNode.getAttribute("data-index"),10);o.props.collection.deleteAt(n),o.forceUpdate()}),x()(g()(o),"handleFilterChange",function(e){var t=e.target;return o.props.layout.set({filter:t.value})}),x()(g()(o),"handleSort",function(){return o.props.collection.sortBy("name")}),x()(g()(o),"handleSortChange",function(e){var t=o.state.sortOption;o.setState({sortOption:t===e?null:e},function(){o.props.layout.set({sortOption:t===e?void 0:l.indexOf(e)})})}),x()(g()(o),"handleToggleCategorized",function(){o.props.layout.set({categorize:!o.props.layout.categorize})}),x()(g()(o),"handleToggleExpanded",function(e,t){o.setState(function(n){return N()({},n,{expanded:N()({},n.expanded,x()({},e,t))})})}),x()(g()(o),"renderCategoryWidget",function(){var e=o.props.layout,t=g()(o).categories;if(!t.length)return null;var n=["categorize icon-categorize",e.categorize?"on":"off"].join(" ");return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",i()({className:n},{onClick:o.handleToggleCategorized})),O.a.createElement("select",{className:"filter",onChange:o.handleFilterChange,ref:o.filterEl,tabIndex:-1,value:e.filter},O.a.createElement("option",{value:""},"All"),t.map(function(e){return O.a.createElement("option",{key:e,value:e},e)})))}),x()(g()(o),"renderSortWidget",function(){return o.props.sortable&&l.length?O.a.createElement(D.a,{className:"sorter",onChange:o.handleSortChange,options:l,selected:o.state.sortOption}):null}),x()(g()(o),"renderCategory",function(e,t){var n=o.props.columns,a=o.getCategoryItems(t,e);if(!a.length)return null;var i=a.map(function(e){return e.categoryValue}),l=Math.min.apply(Math,r()(i)),s=Math.max.apply(Math,r()(i));return O.a.createElement("div",{key:e,className:"category"},O.a.createElement("div",{className:"details"},O.a.createElement("div",{className:"title"},"Category: ",e," (",a.length,")"),!Number.isNaN(l)&&!Number.isNaN(s)&&O.a.createElement("div",{className:"range"},l,"-",s)),O.a.createElement("div",{className:"category-items",style:{columns:n}},a.map(o.renderItem)))}),x()(g()(o),"renderItem",function(e){var n=o.props,a=n.collection,r=n.layout,i=n.sortable,l=o.state,s=l.expanded,c=l.sortOption,u=i&&null!==c,p=r&&r.categorize;return O.a.createElement("div",{className:"list-item-wrapper ".concat(s[e.hash]?"expanded":"").trim(),"data-index":a.indexOf(e),key:e.hash},!u&&!p&&O.a.createElement("div",{className:"drag-handle"}),O.a.createElement(t,{model:e,onDelete:a.delete,onToggleExpanded:o.handleToggleExpanded}),O.a.createElement("button",{className:"icon-remove",onClick:o.handleDelete}))}),o}return y()(a,n),u()(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.layout){var t=this.props.layout.sortOption;l.length&&void 0!==t&&this.setState({sortOption:l[t]||null}),this.onLayoutSnapshotDisposer=Object(b.onSnapshot)(this.props.layout,Object(k.a)(function(){return e.forceUpdate()},100,!0))}var n=this.props.sortable;n&&(this.sortable=T.a.create(this.container.current,{disabled:!n,draggable:".list-item-wrapper",handle:".drag-handle",onEnd:function(){e.container.current.classList.remove("dragging"),e.props.collection.replace(r()(e.container.current.querySelectorAll(".list-item-wrapper")).map(function(e){return parseInt(e.getAttribute("data-index"),10)}).map(function(t){return e.props.collection.at(t)}))},onStart:function(){return e.container.current.classList.add("dragging")}})),this.onDataSnapshotDisposer=Object(b.onSnapshot)(this.props.collection,function(){return e.forceUpdate()})}},{key:"componentWillReceiveProps",value:function(){this.sortable&&this.sortable.option("disabled",!this.props.sortable)}},{key:"componentWillUnmount",value:function(){this.onDataSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=void 0===n?"":n,r=t.columns,o=t.layout,i=void 0===o?{}:o,l=t.title,s=this.state.sortOption,c=this.categories,u=this.props.collection.asArray;null!==s&&(u=u.sort(s.comparitor));var p=Boolean(c.length);p&&i.filter&&(u=this.getCategoryItems(u,i.filter),c=[i.filter]);var d={columns:i.categorize?1:r};return O.a.createElement("div",{className:"list ".concat(a).trim(),ref:this.container,style:d},O.a.createElement("div",{className:"title-bar"},this.renderSortWidget(),this.renderCategoryWidget(),O.a.createElement("div",{className:"text"},l),O.a.createElement("button",{className:"add icon-add",onClick:this.handleAdd})),p&&i.categorize?c.map(function(t){return e.renderCategory(t,u)}):u.map(this.renderItem))}},{key:"categories",get:function(){var e=this.props.collection.asArray.reduce(function(e,t){return e.concat(t.categories||[])},[]);return e.length?Object(M.a)(e.filter(function(e){return e!==j})).sort().concat(j):[]}}]),a}(O.a.Component),x()(n,"defaultProps",N()({className:"",collection:Object(I.a)(e).create([]),columns:1,layout:void 0,sortable:!0,title:o.title||""},o)),a}}};
//# sourceMappingURL=components-trait-trait.67ae6489b6adabd1f030.js.map