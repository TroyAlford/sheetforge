(window.webpackJsonpsheetforge=window.webpackJsonpsheetforge||[]).push([[12],{HYkr:function(e,t,n){},Zsyy:function(e,t,n){},kvEc:function(e,t,n){},wwUJ:function(e,t,n){"use strict";n.r(t);var a,o,r,i,s,c=n("y9tM"),l=n.n(c),p=n("q1tI"),h=n.n(p),u=n("6qfE"),d=(n("mcpE"),n("uqjs")),m=n("ITKj"),f=n("zZb/"),y=n("cFUw"),v=n.n(y),S=n("Nogc"),C=n.n(S),E=n("WEGp"),g=n.n(E),b=n("Amxr"),w=n.n(b),k=n("o1mq"),D=n.n(k),N=n("itEV"),O=n.n(N),A=n("cEnY"),I=n.n(A),J=n("cNEE"),z=n.n(J),M=n("NbXW"),T=n("mD9I"),x=n("Ut7+"),H=n("a4BR"),U=n("gtIf"),j=n("p0Pd"),R=n("wryK"),W=n("b/z0"),B=n("8qIS"),L=n("M/4f"),q={Attribute:T.a,Descriptor:x.a,Effect:H.a,Health:U.a,Item:j.a,Resource:R.a,Skill:W.a,Spell:B.a,Trait:L.a},Z=n("O+tL"),P=n("I7n6"),X=(n("Zsyy"),Object(M.observer)((o=a=function(e){function t(){var e,n;C()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=w()(this,(e=D()(t)).call.apply(e,[this].concat(o))),z()(I()(I()(n)),"CACHE",{}),z()(I()(I()(n)),"handleSnapshot",function(){var e=n.props.model.availableConditions(),t=n.props.model.conditions.asArray;JSON.stringify(e)===JSON.stringify(n.CACHE.availableConditions)&&JSON.stringify(t)===JSON.stringify(n.CACHE.conditions)||(n.CACHE.availableConditions=e,n.CACHE.conditions=t,n.forceUpdate())}),z()(I()(I()(n)),"handleCheckbox",function(e,t){var a=n.props.model.conditions;t&&!a.includes(e)?a.push(e):"function"===typeof a.delete?a.delete(e):a.splice(a.indexOf(e),1),n.forceUpdate()}),z()(I()(I()(n)),"renderCondition",function(e){var t=n.props.model.conditions.includes(e);return h.a.createElement("div",{key:e,className:"condition ".concat(t?"current":"available")},h.a.createElement(Z.a,{className:"current",onChange:function(t){return n.handleCheckbox(e,t)},value:t}),h.a.createElement("div",{className:"name"},e))}),n}return O()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(d.onSnapshot)(this.props.model,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){return h.a.createElement("div",{className:"conditions"},h.a.createElement(P.a,null,this.props.model.availableConditions().map(this.renderCondition)))}}]),t}(p.Component),z()(a,"defaultProps",{model:{}}),o))),Y=n("x6zz"),F=(n("kvEc"),function(e){function t(){var e,n;C()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=w()(this,(e=D()(t)).call.apply(e,[this].concat(o))),z()(I()(I()(n)),"titleBar",h.a.createRef()),z()(I()(I()(n)),"onSnapshotDisposer",Y.a),z()(I()(I()(n)),"snapshot",null),z()(I()(I()(n)),"handleChangeTitle",function(e){return n.props.model.set({title:e})}),n}return O()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e=this;this.onSnapshotDisposer=Object(d.onSnapshot)(this.props.model,function(t){var n=JSON.stringify(t);e.snapshot!==n&&(e.snapshot=n,e.forceUpdate())}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.parentColumns,a=this.props.model,o=a.colSpan,r=a.title;return h.a.createElement("div",{className:"layout",style:{width:"calc(100%/".concat(n,"*").concat(o,")")}},void 0===r?t:h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"title-bar",ref:this.titleBar},h.a.createElement(Z.a,{className:"title",onChange:this.handleChangeTitle,placeholder:"Section Title",value:r})),h.a.createElement(P.a,{expandByDefault:!0,omitItemWrapper:!0,toggleButtonParent:this.titleBar.current},t)))}}]),t}(p.Component)),K=n("t524"),V=n("mkTB"),G=n("AD/C"),Q=n("HyL6"),$=n("+bV0"),_=n("Afd3"),ee=n("ZEI3"),te=n("vovD"),ne=n("JCrA"),ae=n("ZwSi"),oe={Attribute:V.a,Descriptor:G.a,Effect:Q.a,HealthLevel:$.a,Item:_.a,Resource:ee.a,Skill:te.a,Spell:ne.a,Trait:ae.a},re=(n("HYkr"),Object(M.observer)((s=i=function(e){function t(e){var n;return C()(this,t),n=w()(this,D()(t).call(this,e)),z()(I()(I()(n)),"state",{size:"large"}),z()(I()(I()(n)),"handleWindowResize",function(){var e="large";window.matchMedia("(min-width: 5in) and (max-width: 7.5in)").matches?e="medium":window.matchMedia("(max-width: 5in)").matches&&(e="small"),e!==n.state.size&&n.setState({size:e})}),z()(I()(I()(n)),"renderComponent",function(e,t,a){if(t.type){var o=t.title,r=t.type.toLowerCase(),i=Object(K.a)(oe[t.type],q[t.type],{className:"".concat(r,"-list")}),s=n.props.character["".concat(r,"s")];return h.a.createElement(i,v()({key:a,layout:t,title:o},{collection:s,columns:t.columns}))}return h.a.createElement(F,{key:t.hash,model:t,parentColumns:e.columns},t.children.map(function(e,a){return n.renderComponent(t,e,a)}))}),n.onCharacterSnapshotDisposer=Object(d.onSnapshot)(n.props.character,function(e){n.props.onChange(e,n.props.layout.toJSON(),I()(I()(n)))}),n.onLayoutSnapshotDisposer=Object(d.onSnapshot)(n.props.layout,function(e){n.props.onChange(n.props.character.toJSON(),e,I()(I()(n)))}),window.addEventListener("resize",n.handleWindowResize),n}return O()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.handleWindowResize(),this.props.onMount(this)}},{key:"componentWillUnmount",value:function(){this.onCharacterSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.character,n=e.layout,a=this.state.size;return h.a.createElement("div",{className:"sheetforge sheet ".concat(a)},h.a.createElement(X,{model:t}),n.children.map(this.renderComponent.bind(null,n)))}}]),t}(h.a.Component),z()(i,"defaultProps",{character:{},onChange:Y.a,onMount:Y.a}),r=s))||r);t.default=function(e){var t=e.components;l()(e,["components"]);return h.a.createElement(u.MDXTag,{name:"wrapper",components:t},h.a.createElement(u.MDXTag,{name:"h2",components:t,props:{id:"character-sheet"}},"Character Sheet"),h.a.createElement(re,{layout:f.a.create({children:[{title:"Descriptors",children:[{columns:3,type:"Descriptor"}]},{title:"Attributes",children:[{columns:4,type:"Attribute"}]},{columns:3,children:[{colSpan:1,children:[{title:"Traits",children:[{type:"Trait"}]},{title:"Resources",children:[{type:"Resource"}]}]},{colSpan:2,children:[{title:"Skills",children:[{columns:2,type:"Skill"}]},{title:"Items",children:[{columns:1,type:"Item"}]},{title:"Spells",children:[{columns:1,type:"Spell"}]}]}]}]}),character:m.a.create({}),onChange:function(e,t){localStorage.setItem("sf-example",JSON.stringify({character:e,layout:t}))},onMount:function(e){var t=localStorage.getItem("sf-example");if(t){var n=JSON.parse(t);e.props.character.set(n.character),e.props.layout.set(n.layout)}}}))}}}]);
//# sourceMappingURL=components-sheet-sheet.e863f18e646174d6463d.js.map